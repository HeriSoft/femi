(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function zm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qd={exports:{}},Ki={},Wd={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=Symbol.for("react.element"),Hm=Symbol.for("react.portal"),qm=Symbol.for("react.fragment"),Wm=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),Km=Symbol.for("react.provider"),Ym=Symbol.for("react.context"),Jm=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),Qm=Symbol.for("react.memo"),Xm=Symbol.for("react.lazy"),ou=Symbol.iterator;function jm(t){return t===null||typeof t!="object"?null:(t=ou&&t[ou]||t["@@iterator"],typeof t=="function"?t:null)}var bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kd=Object.assign,Yd={};function xr(t,e,n){this.props=t,this.context=e,this.refs=Yd,this.updater=n||bd}xr.prototype.isReactComponent={};xr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jd(){}Jd.prototype=xr.prototype;function jl(t,e,n){this.props=t,this.context=e,this.refs=Yd,this.updater=n||bd}var ea=jl.prototype=new Jd;ea.constructor=jl;Kd(ea,xr.prototype);ea.isPureReactComponent=!0;var iu=Array.isArray,Zd=Object.prototype.hasOwnProperty,ta={current:null},Qd={key:!0,ref:!0,__self:!0,__source:!0};function Xd(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Zd.call(e,r)&&!Qd.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];o.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:xo,type:t,key:i,ref:s,props:o,_owner:ta.current}}function eh(t,e){return{$$typeof:xo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function na(t){return typeof t=="object"&&t!==null&&t.$$typeof===xo}function th(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var su=/\/+/g;function hs(t,e){return typeof t=="object"&&t!==null&&t.key!=null?th(""+t.key):e.toString(36)}function Jo(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case xo:case Hm:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+hs(s,0):r,iu(o)?(n="",t!=null&&(n=t.replace(su,"$&/")+"/"),Jo(o,e,n,"",function(c){return c})):o!=null&&(na(o)&&(o=eh(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(su,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",iu(t))for(var u=0;u<t.length;u++){i=t[u];var d=r+hs(i,u);s+=Jo(i,e,n,d,o)}else if(d=jm(t),typeof d=="function")for(t=d.call(t),u=0;!(i=t.next()).done;)i=i.value,d=r+hs(i,u++),s+=Jo(i,e,n,d,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function No(t,e,n){if(t==null)return t;var r=[],o=0;return Jo(t,r,"","",function(i){return e.call(n,i,o++)}),r}function nh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $e={current:null},Zo={transition:null},rh={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Zo,ReactCurrentOwner:ta};function jd(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:No,forEach:function(t,e,n){No(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return No(t,function(){e++}),e},toArray:function(t){return No(t,function(e){return e})||[]},only:function(t){if(!na(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=xr;Y.Fragment=qm;Y.Profiler=bm;Y.PureComponent=jl;Y.StrictMode=Wm;Y.Suspense=Zm;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rh;Y.act=jd;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kd({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=ta.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)Zd.call(e,d)&&!Qd.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:xo,type:t.type,key:o,ref:i,props:r,_owner:s}};Y.createContext=function(t){return t={$$typeof:Ym,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Km,_context:t},t.Consumer=t};Y.createElement=Xd;Y.createFactory=function(t){var e=Xd.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Jm,render:t}};Y.isValidElement=na;Y.lazy=function(t){return{$$typeof:Xm,_payload:{_status:-1,_result:t},_init:nh}};Y.memo=function(t,e){return{$$typeof:Qm,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=Zo.transition;Zo.transition={};try{t()}finally{Zo.transition=e}};Y.unstable_act=jd;Y.useCallback=function(t,e){return $e.current.useCallback(t,e)};Y.useContext=function(t){return $e.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return $e.current.useDeferredValue(t)};Y.useEffect=function(t,e){return $e.current.useEffect(t,e)};Y.useId=function(){return $e.current.useId()};Y.useImperativeHandle=function(t,e,n){return $e.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return $e.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return $e.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return $e.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return $e.current.useReducer(t,e,n)};Y.useRef=function(t){return $e.current.useRef(t)};Y.useState=function(t){return $e.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return $e.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return $e.current.useTransition()};Y.version="18.3.1";Wd.exports=Y;var H=Wd.exports;const Yi=zm(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=H,ih=Symbol.for("react.element"),sh=Symbol.for("react.fragment"),lh=Object.prototype.hasOwnProperty,ah=oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uh={key:!0,ref:!0,__self:!0,__source:!0};function ef(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)lh.call(e,r)&&!uh.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:ih,type:t,key:i,ref:s,props:o,_owner:ah.current}}Ki.Fragment=sh;Ki.jsx=ef;Ki.jsxs=ef;qd.exports=Ki;var y=qd.exports,fi={},tf={exports:{}},et={},nf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,z){var B=R.length;R.push(z);e:for(;0<B;){var ue=B-1>>>1,Ce=R[ue];if(0<o(Ce,z))R[ue]=z,R[B]=Ce,B=ue;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var z=R[0],B=R.pop();if(B!==z){R[0]=B;e:for(var ue=0,Ce=R.length,yn=Ce>>>1;ue<yn;){var Pt=2*(ue+1)-1,kr=R[Pt],Rt=Pt+1,Un=R[Rt];if(0>o(kr,B))Rt<Ce&&0>o(Un,kr)?(R[ue]=Un,R[Rt]=B,ue=Rt):(R[ue]=kr,R[Pt]=B,ue=Pt);else if(Rt<Ce&&0>o(Un,B))R[ue]=Un,R[Rt]=B,ue=Rt;else break e}}return z}function o(R,z){var B=R.sortIndex-z.sortIndex;return B!==0?B:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var d=[],c=[],f=1,p=null,m=3,C=!1,g=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=R)r(c),z.sortIndex=z.expirationTime,e(d,z);else break;z=n(c)}}function x(R){if(T=!1,_(R),!g)if(n(d)!==null)g=!0,Nt(w);else{var z=n(c);z!==null&&Je(x,z.startTime-R)}}function w(R,z){g=!1,T&&(T=!1,v(N),N=-1),C=!0;var B=m;try{for(_(z),p=n(d);p!==null&&(!(p.expirationTime>z)||R&&!ie());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,m=p.priorityLevel;var Ce=ue(p.expirationTime<=z);z=t.unstable_now(),typeof Ce=="function"?p.callback=Ce:p===n(d)&&r(d),_(z)}else r(d);p=n(d)}if(p!==null)var yn=!0;else{var Pt=n(c);Pt!==null&&Je(x,Pt.startTime-z),yn=!1}return yn}finally{p=null,m=B,C=!1}}var E=!1,I=null,N=-1,D=5,L=-1;function ie(){return!(t.unstable_now()-L<D)}function _t(){if(I!==null){var R=t.unstable_now();L=R;var z=!0;try{z=I(!0,R)}finally{z?Ve():(E=!1,I=null)}}else E=!1}var Ve;if(typeof h=="function")Ve=function(){h(_t)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Ye=J.port2;J.port1.onmessage=_t,Ve=function(){Ye.postMessage(null)}}else Ve=function(){S(_t,0)};function Nt(R){I=R,E||(E=!0,Ve())}function Je(R,z){N=S(function(){R(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||C||(g=!0,Nt(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var B=m;m=z;try{return R()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=m;m=R;try{return z()}finally{m=B}},t.unstable_scheduleCallback=function(R,z,B){var ue=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ue+B:ue):B=ue,R){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=B+Ce,R={id:f++,callback:z,priorityLevel:R,startTime:B,expirationTime:Ce,sortIndex:-1},B>ue?(R.sortIndex=B,e(c,R),n(d)===null&&R===n(c)&&(T?(v(N),N=-1):T=!0,Je(x,B-ue))):(R.sortIndex=Ce,e(d,R),g||C||(g=!0,Nt(w))),R},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(R){var z=m;return function(){var B=m;m=z;try{return R.apply(this,arguments)}finally{m=B}}}})(rf);nf.exports=rf;var ch=nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=H,je=ch;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var of=new Set,ro={};function Fn(t,e){ur(t,e),ur(t+"Capture",e)}function ur(t,e){for(ro[t]=e,t=0;t<e.length;t++)of.add(e[t])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=Object.prototype.hasOwnProperty,fh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lu={},au={};function ph(t){return qs.call(au,t)?!0:qs.call(lu,t)?!1:fh.test(t)?au[t]=!0:(lu[t]=!0,!1)}function mh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hh(t,e,n,r){if(e===null||typeof e>"u"||mh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Be(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new Be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new Be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new Be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new Be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new Be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new Be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new Be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new Be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new Be(t,5,!1,t.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function oa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ra,oa);Ne[e]=new Be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ra,oa);Ne[e]=new Be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ra,oa);Ne[e]=new Be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new Be(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new Be(t,1,!1,t.toLowerCase(),null,!0,!0)});function ia(t,e,n,r){var o=Ne.hasOwnProperty(e)?Ne[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hh(e,n,o,r)&&(n=null),r||o===null?ph(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qt=dh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),sa=Symbol.for("react.strict_mode"),Ws=Symbol.for("react.profiler"),sf=Symbol.for("react.provider"),lf=Symbol.for("react.context"),la=Symbol.for("react.forward_ref"),bs=Symbol.for("react.suspense"),Ks=Symbol.for("react.suspense_list"),aa=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),af=Symbol.for("react.offscreen"),uu=Symbol.iterator;function Mr(t){return t===null||typeof t!="object"?null:(t=uu&&t[uu]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,gs;function Or(t){if(gs===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gs=e&&e[1]||""}return`
`+gs+t}var ys=!1;function vs(t,e){if(!t||ys)return"";ys=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,u=i.length-1;1<=s&&0<=u&&o[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(o[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||o[s]!==i[u]){var d=`
`+o[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=u);break}}}finally{ys=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Or(t):""}function gh(t){switch(t.tag){case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 2:case 15:return t=vs(t.type,!1),t;case 11:return t=vs(t.type.render,!1),t;case 1:return t=vs(t.type,!0),t;default:return""}}function Ys(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qn:return"Fragment";case Hn:return"Portal";case Ws:return"Profiler";case sa:return"StrictMode";case bs:return"Suspense";case Ks:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lf:return(t.displayName||"Context")+".Consumer";case sf:return(t._context.displayName||"Context")+".Provider";case la:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aa:return e=t.displayName||null,e!==null?e:Ys(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return Ys(t(e))}catch{}}return null}function yh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ys(e);case 8:return e===sa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vh(t){var e=uf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ro(t){t._valueTracker||(t._valueTracker=vh(t))}function cf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Js(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function df(t,e){e=e.checked,e!=null&&ia(t,"checked",e,!1)}function Zs(t,e){df(t,e);var n=un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qs(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qs(t,e.type,un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function du(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qs(t,e,n){(e!=="number"||pi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gr=Array.isArray;function nr(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+un(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Xs(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Gr(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:un(n)}}function ff(t,e){var n=un(e.value),r=un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function js(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Do,mf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Do=Do||document.createElement("div"),Do.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Do.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ch=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(t){Ch.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),br[e]=br[t]})});function hf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||br.hasOwnProperty(t)&&br[t]?(""+e).trim():e+"px"}function gf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=hf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var _h=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(t,e){if(e){if(_h[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function tl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function ua(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rl=null,rr=null,or=null;function mu(t){if(t=wo(t)){if(typeof rl!="function")throw Error(k(280));var e=t.stateNode;e&&(e=ji(e),rl(t.stateNode,t.type,e))}}function yf(t){rr?or?or.push(t):or=[t]:rr=t}function vf(){if(rr){var t=rr,e=or;if(or=rr=null,mu(t),e)for(t=0;t<e.length;t++)mu(e[t])}}function Cf(t,e){return t(e)}function _f(){}var Cs=!1;function Tf(t,e,n){if(Cs)return t(e,n);Cs=!0;try{return Cf(t,e,n)}finally{Cs=!1,(rr!==null||or!==null)&&(_f(),vf())}}function io(t,e){var n=t.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var ol=!1;if(Gt)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){ol=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{ol=!1}function Th(t,e,n,r,o,i,s,u,d){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Kr=!1,mi=null,hi=!1,il=null,xh={onError:function(t){Kr=!0,mi=t}};function Eh(t,e,n,r,o,i,s,u,d){Kr=!1,mi=null,Th.apply(xh,arguments)}function Sh(t,e,n,r,o,i,s,u,d){if(Eh.apply(this,arguments),Kr){if(Kr){var c=mi;Kr=!1,mi=null}else throw Error(k(198));hi||(hi=!0,il=c)}}function Vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hu(t){if(Vn(t)!==t)throw Error(k(188))}function wh(t){var e=t.alternate;if(!e){if(e=Vn(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return hu(o),t;if(i===r)return hu(o),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Ef(t){return t=wh(t),t!==null?Sf(t):null}function Sf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sf(t);if(e!==null)return e;t=t.sibling}return null}var wf=je.unstable_scheduleCallback,gu=je.unstable_cancelCallback,kh=je.unstable_shouldYield,Ih=je.unstable_requestPaint,_e=je.unstable_now,Ah=je.unstable_getCurrentPriorityLevel,ca=je.unstable_ImmediatePriority,kf=je.unstable_UserBlockingPriority,gi=je.unstable_NormalPriority,Mh=je.unstable_LowPriority,If=je.unstable_IdlePriority,Ji=null,kt=null;function Nh(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ji,t,void 0,(t.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Dh,Ph=Math.log,Rh=Math.LN2;function Dh(t){return t>>>=0,t===0?32:31-(Ph(t)/Rh|0)|0}var Lo=64,Fo=4194304;function $r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var u=s&~o;u!==0?r=$r(u):(i&=s,i!==0&&(r=$r(i)))}else s=n&~o,s!==0?r=$r(s):i!==0&&(r=$r(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gt(e),o=1<<n,r|=t[n],e&=~o;return r}function Lh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-gt(i),u=1<<s,d=o[s];d===-1?(!(u&n)||u&r)&&(o[s]=Lh(u,e)):d<=e&&(t.expiredLanes|=u),i&=~u}}function sl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Af(){var t=Lo;return Lo<<=1,!(Lo&4194240)&&(Lo=64),t}function _s(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gt(e),t[e]=n}function Vh(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-gt(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function da(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var j=0;function Mf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nf,fa,Pf,Rf,Df,ll=!1,Vo=[],jt=null,en=null,tn=null,so=new Map,lo=new Map,Jt=[],Uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":so.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(e.pointerId)}}function Pr(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=wo(e),e!==null&&fa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Oh(t,e,n,r,o){switch(e){case"focusin":return jt=Pr(jt,t,e,n,r,o),!0;case"dragenter":return en=Pr(en,t,e,n,r,o),!0;case"mouseover":return tn=Pr(tn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return so.set(i,Pr(so.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,lo.set(i,Pr(lo.get(i)||null,t,e,n,r,o)),!0}return!1}function Lf(t){var e=xn(t.target);if(e!==null){var n=Vn(e);if(n!==null){if(e=n.tag,e===13){if(e=xf(n),e!==null){t.blockedOn=e,Df(t.priority,function(){Pf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=al(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nl=r,n.target.dispatchEvent(r),nl=null}else return e=wo(n),e!==null&&fa(e),t.blockedOn=n,!1;e.shift()}return!0}function vu(t,e,n){Qo(t)&&n.delete(e)}function Gh(){ll=!1,jt!==null&&Qo(jt)&&(jt=null),en!==null&&Qo(en)&&(en=null),tn!==null&&Qo(tn)&&(tn=null),so.forEach(vu),lo.forEach(vu)}function Rr(t,e){t.blockedOn===e&&(t.blockedOn=null,ll||(ll=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,Gh)))}function ao(t){function e(o){return Rr(o,t)}if(0<Vo.length){Rr(Vo[0],t);for(var n=1;n<Vo.length;n++){var r=Vo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&Rr(jt,t),en!==null&&Rr(en,t),tn!==null&&Rr(tn,t),so.forEach(e),lo.forEach(e),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)Lf(n),n.blockedOn===null&&Jt.shift()}var ir=qt.ReactCurrentBatchConfig,vi=!0;function $h(t,e,n,r){var o=j,i=ir.transition;ir.transition=null;try{j=1,pa(t,e,n,r)}finally{j=o,ir.transition=i}}function Bh(t,e,n,r){var o=j,i=ir.transition;ir.transition=null;try{j=4,pa(t,e,n,r)}finally{j=o,ir.transition=i}}function pa(t,e,n,r){if(vi){var o=al(t,e,n,r);if(o===null)Ns(t,e,r,Ci,n),yu(t,r);else if(Oh(o,t,e,n,r))r.stopPropagation();else if(yu(t,r),e&4&&-1<Uh.indexOf(t)){for(;o!==null;){var i=wo(o);if(i!==null&&Nf(i),i=al(t,e,n,r),i===null&&Ns(t,e,r,Ci,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Ns(t,e,r,null,n)}}var Ci=null;function al(t,e,n,r){if(Ci=null,t=ua(r),t=xn(t),t!==null)if(e=Vn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ci=t,null}function Ff(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ah()){case ca:return 1;case kf:return 4;case gi:case Mh:return 16;case If:return 536870912;default:return 16}default:return 16}}var Qt=null,ma=null,Xo=null;function Vf(){if(Xo)return Xo;var t,e=ma,n=e.length,r,o="value"in Qt?Qt.value:Qt.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return Xo=o.slice(t,1<r?1-r:void 0)}function jo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uo(){return!0}function Cu(){return!1}function tt(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Uo:Cu,this.isPropagationStopped=Cu,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),e}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=tt(Er),So=ye({},Er,{view:0,detail:0}),zh=tt(So),Ts,xs,Dr,Zi=ye({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(Ts=t.screenX-Dr.screenX,xs=t.screenY-Dr.screenY):xs=Ts=0,Dr=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:xs}}),_u=tt(Zi),Hh=ye({},Zi,{dataTransfer:0}),qh=tt(Hh),Wh=ye({},So,{relatedTarget:0}),Es=tt(Wh),bh=ye({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),Kh=tt(bh),Yh=ye({},Er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jh=tt(Yh),Zh=ye({},Er,{data:0}),Tu=tt(Zh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jh[t])?!!e[t]:!1}function ga(){return eg}var tg=ye({},So,{key:function(t){if(t.key){var e=Qh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(t){return t.type==="keypress"?jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ng=tt(tg),rg=ye({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=tt(rg),og=ye({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),ig=tt(og),sg=ye({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),lg=tt(sg),ag=ye({},Zi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ug=tt(ag),cg=[9,13,27,32],ya=Gt&&"CompositionEvent"in window,Yr=null;Gt&&"documentMode"in document&&(Yr=document.documentMode);var dg=Gt&&"TextEvent"in window&&!Yr,Uf=Gt&&(!ya||Yr&&8<Yr&&11>=Yr),Eu=" ",Su=!1;function Of(t,e){switch(t){case"keyup":return cg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wn=!1;function fg(t,e){switch(t){case"compositionend":return Gf(e);case"keypress":return e.which!==32?null:(Su=!0,Eu);case"textInput":return t=e.data,t===Eu&&Su?null:t;default:return null}}function pg(t,e){if(Wn)return t==="compositionend"||!ya&&Of(t,e)?(t=Vf(),Xo=ma=Qt=null,Wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uf&&e.locale!=="ko"?null:e.data;default:return null}}var mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mg[t.type]:e==="textarea"}function $f(t,e,n,r){yf(r),e=_i(e,"onChange"),0<e.length&&(n=new ha("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jr=null,uo=null;function hg(t){Qf(t,0)}function Qi(t){var e=Yn(t);if(cf(e))return t}function gg(t,e){if(t==="change")return e}var Bf=!1;if(Gt){var Ss;if(Gt){var ws="oninput"in document;if(!ws){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),ws=typeof ku.oninput=="function"}Ss=ws}else Ss=!1;Bf=Ss&&(!document.documentMode||9<document.documentMode)}function Iu(){Jr&&(Jr.detachEvent("onpropertychange",zf),uo=Jr=null)}function zf(t){if(t.propertyName==="value"&&Qi(uo)){var e=[];$f(e,uo,t,ua(t)),Tf(hg,e)}}function yg(t,e,n){t==="focusin"?(Iu(),Jr=e,uo=n,Jr.attachEvent("onpropertychange",zf)):t==="focusout"&&Iu()}function vg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qi(uo)}function Cg(t,e){if(t==="click")return Qi(e)}function _g(t,e){if(t==="input"||t==="change")return Qi(e)}function Tg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:Tg;function co(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!qs.call(e,o)||!Ct(t[o],e[o]))return!1}return!0}function Au(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mu(t,e){var n=Au(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Au(n)}}function Hf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qf(){for(var t=window,e=pi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pi(t.document)}return e}function va(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xg(t){var e=qf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hf(n.ownerDocument.documentElement,n)){if(r!==null&&va(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Mu(n,i);var s=Mu(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Eg=Gt&&"documentMode"in document&&11>=document.documentMode,bn=null,ul=null,Zr=null,cl=!1;function Nu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cl||bn==null||bn!==pi(r)||(r=bn,"selectionStart"in r&&va(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zr&&co(Zr,r)||(Zr=r,r=_i(ul,"onSelect"),0<r.length&&(e=new ha("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bn)))}function Oo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kn={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},ks={},Wf={};Gt&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Xi(t){if(ks[t])return ks[t];if(!Kn[t])return t;var e=Kn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wf)return ks[t]=e[n];return t}var bf=Xi("animationend"),Kf=Xi("animationiteration"),Yf=Xi("animationstart"),Jf=Xi("transitionend"),Zf=new Map,Pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(t,e){Zf.set(t,e),Fn(e,[t])}for(var Is=0;Is<Pu.length;Is++){var As=Pu[Is],Sg=As.toLowerCase(),wg=As[0].toUpperCase()+As.slice(1);fn(Sg,"on"+wg)}fn(bf,"onAnimationEnd");fn(Kf,"onAnimationIteration");fn(Yf,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(Jf,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Ru(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Sh(r,e,void 0,t),t.currentTarget=null}function Qf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var u=r[s],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==i&&o.isPropagationStopped())break e;Ru(o,u,c),i=d}else for(s=0;s<r.length;s++){if(u=r[s],d=u.instance,c=u.currentTarget,u=u.listener,d!==i&&o.isPropagationStopped())break e;Ru(o,u,c),i=d}}}if(hi)throw t=il,hi=!1,il=null,t}function se(t,e){var n=e[hl];n===void 0&&(n=e[hl]=new Set);var r=t+"__bubble";n.has(r)||(Xf(e,t,2,!1),n.add(r))}function Ms(t,e,n){var r=0;e&&(r|=4),Xf(n,t,r,e)}var Go="_reactListening"+Math.random().toString(36).slice(2);function fo(t){if(!t[Go]){t[Go]=!0,of.forEach(function(n){n!=="selectionchange"&&(kg.has(n)||Ms(n,!1,t),Ms(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Go]||(e[Go]=!0,Ms("selectionchange",!1,e))}}function Xf(t,e,n,r){switch(Ff(e)){case 1:var o=$h;break;case 4:o=Bh;break;default:o=pa}n=o.bind(null,e,n,t),o=void 0,!ol||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Ns(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;s=s.return}for(;u!==null;){if(s=xn(u),s===null)return;if(d=s.tag,d===5||d===6){r=i=s;continue e}u=u.parentNode}}r=r.return}Tf(function(){var c=i,f=ua(n),p=[];e:{var m=Zf.get(t);if(m!==void 0){var C=ha,g=t;switch(t){case"keypress":if(jo(n)===0)break e;case"keydown":case"keyup":C=ng;break;case"focusin":g="focus",C=Es;break;case"focusout":g="blur",C=Es;break;case"beforeblur":case"afterblur":C=Es;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=ig;break;case bf:case Kf:case Yf:C=Kh;break;case Jf:C=lg;break;case"scroll":C=zh;break;case"wheel":C=ug;break;case"copy":case"cut":case"paste":C=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=xu}var T=(e&4)!==0,S=!T&&t==="scroll",v=T?m!==null?m+"Capture":null:m;T=[];for(var h=c,_;h!==null;){_=h;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=io(h,v),x!=null&&T.push(po(h,x,_)))),S)break;h=h.return}0<T.length&&(m=new C(m,g,null,n,f),p.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",m&&n!==nl&&(g=n.relatedTarget||n.fromElement)&&(xn(g)||g[$t]))break e;if((C||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,C?(g=n.relatedTarget||n.toElement,C=c,g=g?xn(g):null,g!==null&&(S=Vn(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(C=null,g=c),C!==g)){if(T=_u,x="onMouseLeave",v="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(T=xu,x="onPointerLeave",v="onPointerEnter",h="pointer"),S=C==null?m:Yn(C),_=g==null?m:Yn(g),m=new T(x,h+"leave",C,n,f),m.target=S,m.relatedTarget=_,x=null,xn(f)===c&&(T=new T(v,h+"enter",g,n,f),T.target=_,T.relatedTarget=S,x=T),S=x,C&&g)t:{for(T=C,v=g,h=0,_=T;_;_=Gn(_))h++;for(_=0,x=v;x;x=Gn(x))_++;for(;0<h-_;)T=Gn(T),h--;for(;0<_-h;)v=Gn(v),_--;for(;h--;){if(T===v||v!==null&&T===v.alternate)break t;T=Gn(T),v=Gn(v)}T=null}else T=null;C!==null&&Du(p,m,C,T,!1),g!==null&&S!==null&&Du(p,S,g,T,!0)}}e:{if(m=c?Yn(c):window,C=m.nodeName&&m.nodeName.toLowerCase(),C==="select"||C==="input"&&m.type==="file")var w=gg;else if(wu(m))if(Bf)w=_g;else{w=vg;var E=yg}else(C=m.nodeName)&&C.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=Cg);if(w&&(w=w(t,c))){$f(p,w,n,f);break e}E&&E(t,m,c),t==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Qs(m,"number",m.value)}switch(E=c?Yn(c):window,t){case"focusin":(wu(E)||E.contentEditable==="true")&&(bn=E,ul=c,Zr=null);break;case"focusout":Zr=ul=bn=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,Nu(p,n,f);break;case"selectionchange":if(Eg)break;case"keydown":case"keyup":Nu(p,n,f)}var I;if(ya)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Wn?Of(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Uf&&n.locale!=="ko"&&(Wn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Wn&&(I=Vf()):(Qt=f,ma="value"in Qt?Qt.value:Qt.textContent,Wn=!0)),E=_i(c,N),0<E.length&&(N=new Tu(N,t,null,n,f),p.push({event:N,listeners:E}),I?N.data=I:(I=Gf(n),I!==null&&(N.data=I)))),(I=dg?fg(t,n):pg(t,n))&&(c=_i(c,"onBeforeInput"),0<c.length&&(f=new Tu("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=I))}Qf(p,e)})}function po(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _i(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=io(t,n),i!=null&&r.unshift(po(t,i,o)),i=io(t,e),i!=null&&r.push(po(t,i,o))),t=t.return}return r}function Gn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Du(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var u=n,d=u.alternate,c=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&c!==null&&(u=c,o?(d=io(n,i),d!=null&&s.unshift(po(n,d,u))):o||(d=io(n,i),d!=null&&s.push(po(n,d,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Ig=/\r\n?/g,Ag=/\u0000|\uFFFD/g;function Lu(t){return(typeof t=="string"?t:""+t).replace(Ig,`
`).replace(Ag,"")}function $o(t,e,n){if(e=Lu(e),Lu(t)!==e&&n)throw Error(k(425))}function Ti(){}var dl=null,fl=null;function pl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,Mg=typeof clearTimeout=="function"?clearTimeout:void 0,Fu=typeof Promise=="function"?Promise:void 0,Ng=typeof queueMicrotask=="function"?queueMicrotask:typeof Fu<"u"?function(t){return Fu.resolve(null).then(t).catch(Pg)}:ml;function Pg(t){setTimeout(function(){throw t})}function Ps(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ao(e)}function nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),St="__reactFiber$"+Sr,mo="__reactProps$"+Sr,$t="__reactContainer$"+Sr,hl="__reactEvents$"+Sr,Rg="__reactListeners$"+Sr,Dg="__reactHandles$"+Sr;function xn(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$t]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vu(t);t!==null;){if(n=t[St])return n;t=Vu(t)}return e}t=n,n=t.parentNode}return null}function wo(t){return t=t[St]||t[$t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function ji(t){return t[mo]||null}var gl=[],Jn=-1;function pn(t){return{current:t}}function le(t){0>Jn||(t.current=gl[Jn],gl[Jn]=null,Jn--)}function oe(t,e){Jn++,gl[Jn]=t.current,t.current=e}var cn={},Fe=pn(cn),We=pn(!1),In=cn;function cr(t,e){var n=t.type.contextTypes;if(!n)return cn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function be(t){return t=t.childContextTypes,t!=null}function xi(){le(We),le(Fe)}function Uu(t,e,n){if(Fe.current!==cn)throw Error(k(168));oe(Fe,e),oe(We,n)}function jf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(k(108,yh(t)||"Unknown",o));return ye({},n,r)}function Ei(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cn,In=Fe.current,oe(Fe,t),oe(We,We.current),!0}function Ou(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=jf(t,e,In),r.__reactInternalMemoizedMergedChildContext=t,le(We),le(Fe),oe(Fe,t)):le(We),oe(We,n)}var Ft=null,es=!1,Rs=!1;function ep(t){Ft===null?Ft=[t]:Ft.push(t)}function Lg(t){es=!0,ep(t)}function mn(){if(!Rs&&Ft!==null){Rs=!0;var t=0,e=j;try{var n=Ft;for(j=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ft=null,es=!1}catch(o){throw Ft!==null&&(Ft=Ft.slice(t+1)),wf(ca,mn),o}finally{j=e,Rs=!1}}return null}var Zn=[],Qn=0,Si=null,wi=0,rt=[],ot=0,An=null,Vt=1,Ut="";function _n(t,e){Zn[Qn++]=wi,Zn[Qn++]=Si,Si=t,wi=e}function tp(t,e,n){rt[ot++]=Vt,rt[ot++]=Ut,rt[ot++]=An,An=t;var r=Vt;t=Ut;var o=32-gt(r)-1;r&=~(1<<o),n+=1;var i=32-gt(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Vt=1<<32-gt(e)+o|n<<o|r,Ut=i+t}else Vt=1<<i|n<<o|r,Ut=t}function Ca(t){t.return!==null&&(_n(t,1),tp(t,1,0))}function _a(t){for(;t===Si;)Si=Zn[--Qn],Zn[Qn]=null,wi=Zn[--Qn],Zn[Qn]=null;for(;t===An;)An=rt[--ot],rt[ot]=null,Ut=rt[--ot],rt[ot]=null,Vt=rt[--ot],rt[ot]=null}var Xe=null,Qe=null,de=!1,ht=null;function np(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xe=t,Qe=nn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xe=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=An!==null?{id:Vt,overflow:Ut}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xe=t,Qe=null,!0):!1;default:return!1}}function yl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vl(t){if(de){var e=Qe;if(e){var n=e;if(!Gu(t,e)){if(yl(t))throw Error(k(418));e=nn(n.nextSibling);var r=Xe;e&&Gu(t,e)?np(r,n):(t.flags=t.flags&-4097|2,de=!1,Xe=t)}}else{if(yl(t))throw Error(k(418));t.flags=t.flags&-4097|2,de=!1,Xe=t}}}function $u(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xe=t}function Bo(t){if(t!==Xe)return!1;if(!de)return $u(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pl(t.type,t.memoizedProps)),e&&(e=Qe)){if(yl(t))throw rp(),Error(k(418));for(;e;)np(t,e),e=nn(e.nextSibling)}if($u(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qe=nn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=Xe?nn(t.stateNode.nextSibling):null;return!0}function rp(){for(var t=Qe;t;)t=nn(t.nextSibling)}function dr(){Qe=Xe=null,de=!1}function Ta(t){ht===null?ht=[t]:ht.push(t)}var Fg=qt.ReactCurrentBatchConfig;function Lr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var u=o.refs;s===null?delete u[i]:u[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function zo(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bu(t){var e=t._init;return e(t._payload)}function op(t){function e(v,h){if(t){var _=v.deletions;_===null?(v.deletions=[h],v.flags|=16):_.push(h)}}function n(v,h){if(!t)return null;for(;h!==null;)e(v,h),h=h.sibling;return null}function r(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function o(v,h){return v=ln(v,h),v.index=0,v.sibling=null,v}function i(v,h,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<h?(v.flags|=2,h):_):(v.flags|=2,h)):(v.flags|=1048576,h)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function u(v,h,_,x){return h===null||h.tag!==6?(h=Gs(_,v.mode,x),h.return=v,h):(h=o(h,_),h.return=v,h)}function d(v,h,_,x){var w=_.type;return w===qn?f(v,h,_.props.children,x,_.key):h!==null&&(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===bt&&Bu(w)===h.type)?(x=o(h,_.props),x.ref=Lr(v,h,_),x.return=v,x):(x=si(_.type,_.key,_.props,null,v.mode,x),x.ref=Lr(v,h,_),x.return=v,x)}function c(v,h,_,x){return h===null||h.tag!==4||h.stateNode.containerInfo!==_.containerInfo||h.stateNode.implementation!==_.implementation?(h=$s(_,v.mode,x),h.return=v,h):(h=o(h,_.children||[]),h.return=v,h)}function f(v,h,_,x,w){return h===null||h.tag!==7?(h=kn(_,v.mode,x,w),h.return=v,h):(h=o(h,_),h.return=v,h)}function p(v,h,_){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Gs(""+h,v.mode,_),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Po:return _=si(h.type,h.key,h.props,null,v.mode,_),_.ref=Lr(v,null,h),_.return=v,_;case Hn:return h=$s(h,v.mode,_),h.return=v,h;case bt:var x=h._init;return p(v,x(h._payload),_)}if(Gr(h)||Mr(h))return h=kn(h,v.mode,_,null),h.return=v,h;zo(v,h)}return null}function m(v,h,_,x){var w=h!==null?h.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:u(v,h,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Po:return _.key===w?d(v,h,_,x):null;case Hn:return _.key===w?c(v,h,_,x):null;case bt:return w=_._init,m(v,h,w(_._payload),x)}if(Gr(_)||Mr(_))return w!==null?null:f(v,h,_,x,null);zo(v,_)}return null}function C(v,h,_,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(_)||null,u(h,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Po:return v=v.get(x.key===null?_:x.key)||null,d(h,v,x,w);case Hn:return v=v.get(x.key===null?_:x.key)||null,c(h,v,x,w);case bt:var E=x._init;return C(v,h,_,E(x._payload),w)}if(Gr(x)||Mr(x))return v=v.get(_)||null,f(h,v,x,w,null);zo(h,x)}return null}function g(v,h,_,x){for(var w=null,E=null,I=h,N=h=0,D=null;I!==null&&N<_.length;N++){I.index>N?(D=I,I=null):D=I.sibling;var L=m(v,I,_[N],x);if(L===null){I===null&&(I=D);break}t&&I&&L.alternate===null&&e(v,I),h=i(L,h,N),E===null?w=L:E.sibling=L,E=L,I=D}if(N===_.length)return n(v,I),de&&_n(v,N),w;if(I===null){for(;N<_.length;N++)I=p(v,_[N],x),I!==null&&(h=i(I,h,N),E===null?w=I:E.sibling=I,E=I);return de&&_n(v,N),w}for(I=r(v,I);N<_.length;N++)D=C(I,v,N,_[N],x),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?N:D.key),h=i(D,h,N),E===null?w=D:E.sibling=D,E=D);return t&&I.forEach(function(ie){return e(v,ie)}),de&&_n(v,N),w}function T(v,h,_,x){var w=Mr(_);if(typeof w!="function")throw Error(k(150));if(_=w.call(_),_==null)throw Error(k(151));for(var E=w=null,I=h,N=h=0,D=null,L=_.next();I!==null&&!L.done;N++,L=_.next()){I.index>N?(D=I,I=null):D=I.sibling;var ie=m(v,I,L.value,x);if(ie===null){I===null&&(I=D);break}t&&I&&ie.alternate===null&&e(v,I),h=i(ie,h,N),E===null?w=ie:E.sibling=ie,E=ie,I=D}if(L.done)return n(v,I),de&&_n(v,N),w;if(I===null){for(;!L.done;N++,L=_.next())L=p(v,L.value,x),L!==null&&(h=i(L,h,N),E===null?w=L:E.sibling=L,E=L);return de&&_n(v,N),w}for(I=r(v,I);!L.done;N++,L=_.next())L=C(I,v,N,L.value,x),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?N:L.key),h=i(L,h,N),E===null?w=L:E.sibling=L,E=L);return t&&I.forEach(function(_t){return e(v,_t)}),de&&_n(v,N),w}function S(v,h,_,x){if(typeof _=="object"&&_!==null&&_.type===qn&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Po:e:{for(var w=_.key,E=h;E!==null;){if(E.key===w){if(w=_.type,w===qn){if(E.tag===7){n(v,E.sibling),h=o(E,_.props.children),h.return=v,v=h;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===bt&&Bu(w)===E.type){n(v,E.sibling),h=o(E,_.props),h.ref=Lr(v,E,_),h.return=v,v=h;break e}n(v,E);break}else e(v,E);E=E.sibling}_.type===qn?(h=kn(_.props.children,v.mode,x,_.key),h.return=v,v=h):(x=si(_.type,_.key,_.props,null,v.mode,x),x.ref=Lr(v,h,_),x.return=v,v=x)}return s(v);case Hn:e:{for(E=_.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===_.containerInfo&&h.stateNode.implementation===_.implementation){n(v,h.sibling),h=o(h,_.children||[]),h.return=v,v=h;break e}else{n(v,h);break}else e(v,h);h=h.sibling}h=$s(_,v.mode,x),h.return=v,v=h}return s(v);case bt:return E=_._init,S(v,h,E(_._payload),x)}if(Gr(_))return g(v,h,_,x);if(Mr(_))return T(v,h,_,x);zo(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,h!==null&&h.tag===6?(n(v,h.sibling),h=o(h,_),h.return=v,v=h):(n(v,h),h=Gs(_,v.mode,x),h.return=v,v=h),s(v)):n(v,h)}return S}var fr=op(!0),ip=op(!1),ki=pn(null),Ii=null,Xn=null,xa=null;function Ea(){xa=Xn=Ii=null}function Sa(t){var e=ki.current;le(ki),t._currentValue=e}function Cl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sr(t,e){Ii=t,xa=Xn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function lt(t){var e=t._currentValue;if(xa!==t)if(t={context:t,memoizedValue:e,next:null},Xn===null){if(Ii===null)throw Error(k(308));Xn=t,Ii.dependencies={lanes:0,firstContext:t}}else Xn=Xn.next=t;return e}var En=null;function wa(t){En===null?En=[t]:En.push(t)}function sp(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,wa(e)):(n.next=o.next,o.next=n),e.interleaved=n,Bt(t,r)}function Bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kt=!1;function ka(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ot(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Bt(t,n)}return o=r.interleaved,o===null?(e.next=e,wa(r)):(e.next=o.next,o.next=e),r.interleaved=e,Bt(t,n)}function ei(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,da(t,n)}}function zu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ai(t,e,n,r){var o=t.updateQueue;Kt=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var d=u,c=d.next;d.next=null,s===null?i=c:s.next=c,s=d;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==s&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(i!==null){var p=o.baseState;s=0,f=c=d=null,u=i;do{var m=u.lane,C=u.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:C,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var g=t,T=u;switch(m=e,C=n,T.tag){case 1:if(g=T.payload,typeof g=="function"){p=g.call(C,p,m);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=T.payload,m=typeof g=="function"?g.call(C,p,m):g,m==null)break e;p=ye({},p,m);break e;case 2:Kt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=o.effects,m===null?o.effects=[u]:m.push(u))}else C={eventTime:C,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=C,d=p):f=f.next=C,s|=m;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;m=u,u=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(f===null&&(d=p),o.baseState=d,o.firstBaseUpdate=c,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Nn|=s,t.lanes=s,t.memoizedState=p}}function Hu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(k(191,o));o.call(r)}}}var ko={},It=pn(ko),ho=pn(ko),go=pn(ko);function Sn(t){if(t===ko)throw Error(k(174));return t}function Ia(t,e){switch(oe(go,e),oe(ho,t),oe(It,ko),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:js(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=js(e,t)}le(It),oe(It,e)}function pr(){le(It),le(ho),le(go)}function ap(t){Sn(go.current);var e=Sn(It.current),n=js(e,t.type);e!==n&&(oe(ho,t),oe(It,n))}function Aa(t){ho.current===t&&(le(It),le(ho))}var he=pn(0);function Mi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ds=[];function Ma(){for(var t=0;t<Ds.length;t++)Ds[t]._workInProgressVersionPrimary=null;Ds.length=0}var ti=qt.ReactCurrentDispatcher,Ls=qt.ReactCurrentBatchConfig,Mn=0,ge=null,Se=null,ke=null,Ni=!1,Qr=!1,yo=0,Vg=0;function Re(){throw Error(k(321))}function Na(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ct(t[n],e[n]))return!1;return!0}function Pa(t,e,n,r,o,i){if(Mn=i,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ti.current=t===null||t.memoizedState===null?$g:Bg,t=n(r,o),Qr){i=0;do{if(Qr=!1,yo=0,25<=i)throw Error(k(301));i+=1,ke=Se=null,e.updateQueue=null,ti.current=zg,t=n(r,o)}while(Qr)}if(ti.current=Pi,e=Se!==null&&Se.next!==null,Mn=0,ke=Se=ge=null,Ni=!1,e)throw Error(k(300));return t}function Ra(){var t=yo!==0;return yo=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ge.memoizedState=ke=t:ke=ke.next=t,ke}function at(){if(Se===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=ke===null?ge.memoizedState:ke.next;if(e!==null)ke=e,Se=t;else{if(t===null)throw Error(k(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},ke===null?ge.memoizedState=ke=t:ke=ke.next=t}return ke}function vo(t,e){return typeof e=="function"?e(t):e}function Fs(t){var e=at(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=Se,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=s=null,d=null,c=i;do{var f=c.lane;if((Mn&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=p,s=r):d=d.next=p,ge.lanes|=f,Nn|=f}c=c.next}while(c!==null&&c!==i);d===null?s=r:d.next=u,Ct(r,e.memoizedState)||(He=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,ge.lanes|=i,Nn|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vs(t){var e=at(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Ct(i,e.memoizedState)||(He=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function up(){}function cp(t,e){var n=ge,r=at(),o=e(),i=!Ct(r.memoizedState,o);if(i&&(r.memoizedState=o,He=!0),r=r.queue,Da(pp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,Co(9,fp.bind(null,n,r,o,e),void 0,null),Ie===null)throw Error(k(349));Mn&30||dp(n,e,o)}return o}function dp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fp(t,e,n,r){e.value=n,e.getSnapshot=r,mp(e)&&hp(t)}function pp(t,e,n){return n(function(){mp(e)&&hp(t)})}function mp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ct(t,n)}catch{return!0}}function hp(t){var e=Bt(t,1);e!==null&&yt(e,t,1,-1)}function qu(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:t},e.queue=t,t=t.dispatch=Gg.bind(null,ge,t),[e.memoizedState,t]}function Co(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gp(){return at().memoizedState}function ni(t,e,n,r){var o=xt();ge.flags|=t,o.memoizedState=Co(1|e,n,void 0,r===void 0?null:r)}function ts(t,e,n,r){var o=at();r=r===void 0?null:r;var i=void 0;if(Se!==null){var s=Se.memoizedState;if(i=s.destroy,r!==null&&Na(r,s.deps)){o.memoizedState=Co(e,n,i,r);return}}ge.flags|=t,o.memoizedState=Co(1|e,n,i,r)}function Wu(t,e){return ni(8390656,8,t,e)}function Da(t,e){return ts(2048,8,t,e)}function yp(t,e){return ts(4,2,t,e)}function vp(t,e){return ts(4,4,t,e)}function Cp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _p(t,e,n){return n=n!=null?n.concat([t]):null,ts(4,4,Cp.bind(null,e,t),n)}function La(){}function Tp(t,e){var n=at();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Na(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xp(t,e){var n=at();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Na(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ep(t,e,n){return Mn&21?(Ct(n,e)||(n=Af(),ge.lanes|=n,Nn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function Ug(t,e){var n=j;j=n!==0&&4>n?n:4,t(!0);var r=Ls.transition;Ls.transition={};try{t(!1),e()}finally{j=n,Ls.transition=r}}function Sp(){return at().memoizedState}function Og(t,e,n){var r=sn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wp(t))kp(e,n);else if(n=sp(t,e,n,r),n!==null){var o=Oe();yt(n,t,r,o),Ip(n,e,r)}}function Gg(t,e,n){var r=sn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wp(t))kp(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,u=i(s,n);if(o.hasEagerState=!0,o.eagerState=u,Ct(u,s)){var d=e.interleaved;d===null?(o.next=o,wa(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=sp(t,e,o,r),n!==null&&(o=Oe(),yt(n,t,r,o),Ip(n,e,r))}}function wp(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function kp(t,e){Qr=Ni=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ip(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,da(t,n)}}var Pi={readContext:lt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},$g={readContext:lt,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:lt,useEffect:Wu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ni(4194308,4,Cp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ni(4194308,4,t,e)},useInsertionEffect:function(t,e){return ni(4,2,t,e)},useMemo:function(t,e){var n=xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Og.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:qu,useDebugValue:La,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=qu(!1),e=t[0];return t=Ug.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ge,o=xt();if(de){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),Ie===null)throw Error(k(349));Mn&30||dp(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Wu(pp.bind(null,r,i,t),[t]),r.flags|=2048,Co(9,fp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=xt(),e=Ie.identifierPrefix;if(de){var n=Ut,r=Vt;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Vg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bg={readContext:lt,useCallback:Tp,useContext:lt,useEffect:Da,useImperativeHandle:_p,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:xp,useReducer:Fs,useRef:gp,useState:function(){return Fs(vo)},useDebugValue:La,useDeferredValue:function(t){var e=at();return Ep(e,Se.memoizedState,t)},useTransition:function(){var t=Fs(vo)[0],e=at().memoizedState;return[t,e]},useMutableSource:up,useSyncExternalStore:cp,useId:Sp,unstable_isNewReconciler:!1},zg={readContext:lt,useCallback:Tp,useContext:lt,useEffect:Da,useImperativeHandle:_p,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:xp,useReducer:Vs,useRef:gp,useState:function(){return Vs(vo)},useDebugValue:La,useDeferredValue:function(t){var e=at();return Se===null?e.memoizedState=t:Ep(e,Se.memoizedState,t)},useTransition:function(){var t=Vs(vo)[0],e=at().memoizedState;return[t,e]},useMutableSource:up,useSyncExternalStore:cp,useId:Sp,unstable_isNewReconciler:!1};function pt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _l(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ns={isMounted:function(t){return(t=t._reactInternals)?Vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Oe(),o=sn(t),i=Ot(r,o);i.payload=e,n!=null&&(i.callback=n),e=rn(t,i,o),e!==null&&(yt(e,t,o,r),ei(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Oe(),o=sn(t),i=Ot(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rn(t,i,o),e!==null&&(yt(e,t,o,r),ei(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),r=sn(t),o=Ot(n,r);o.tag=2,e!=null&&(o.callback=e),e=rn(t,o,r),e!==null&&(yt(e,t,r,n),ei(e,t,r))}};function bu(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!co(n,r)||!co(o,i):!0}function Ap(t,e,n){var r=!1,o=cn,i=e.contextType;return typeof i=="object"&&i!==null?i=lt(i):(o=be(e)?In:Fe.current,r=e.contextTypes,i=(r=r!=null)?cr(t,o):cn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ns,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ku(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ns.enqueueReplaceState(e,e.state,null)}function Tl(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},ka(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=lt(i):(i=be(e)?In:Fe.current,o.context=cr(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_l(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&ns.enqueueReplaceState(o,o.state,null),Ai(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function mr(t,e){try{var n="",r=e;do n+=gh(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Us(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hg=typeof WeakMap=="function"?WeakMap:Map;function Mp(t,e,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Di||(Di=!0,Rl=r),xl(t,e)},n}function Np(t,e,n){n=Ot(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){xl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xl(t,e),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Yu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hg;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=ry.bind(null,t,e,n),e.then(t,t))}function Ju(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zu(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ot(-1,1),e.tag=2,rn(n,e,1))),n.lanes|=1),t)}var qg=qt.ReactCurrentOwner,He=!1;function Ue(t,e,n,r){e.child=t===null?ip(e,null,n,r):fr(e,t.child,n,r)}function Qu(t,e,n,r,o){n=n.render;var i=e.ref;return sr(e,o),r=Pa(t,e,n,r,i,o),n=Ra(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,zt(t,e,o)):(de&&n&&Ca(e),e.flags|=1,Ue(t,e,r,o),e.child)}function Xu(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!za(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Pp(t,e,i,r,o)):(t=si(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(s,r)&&t.ref===e.ref)return zt(t,e,o)}return e.flags|=1,t=ln(i,r),t.ref=e.ref,t.return=e,e.child=t}function Pp(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(co(i,r)&&t.ref===e.ref)if(He=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,zt(t,e,o)}return El(t,e,n,r,o)}function Rp(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(er,Ze),Ze|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(er,Ze),Ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(er,Ze),Ze|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,oe(er,Ze),Ze|=r;return Ue(t,e,o,n),e.child}function Dp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function El(t,e,n,r,o){var i=be(n)?In:Fe.current;return i=cr(e,i),sr(e,o),n=Pa(t,e,n,r,i,o),r=Ra(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,zt(t,e,o)):(de&&r&&Ca(e),e.flags|=1,Ue(t,e,n,o),e.child)}function ju(t,e,n,r,o){if(be(n)){var i=!0;Ei(e)}else i=!1;if(sr(e,o),e.stateNode===null)ri(t,e),Ap(e,n,r),Tl(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var d=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=lt(c):(c=be(n)?In:Fe.current,c=cr(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||d!==c)&&Ku(e,s,r,c),Kt=!1;var m=e.memoizedState;s.state=m,Ai(e,r,s,o),d=e.memoizedState,u!==r||m!==d||We.current||Kt?(typeof f=="function"&&(_l(e,n,f,r),d=e.memoizedState),(u=Kt||bu(e,n,u,r,m,d,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=c,r=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,lp(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:pt(e.type,u),s.props=c,p=e.pendingProps,m=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=lt(d):(d=be(n)?In:Fe.current,d=cr(e,d));var C=n.getDerivedStateFromProps;(f=typeof C=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==p||m!==d)&&Ku(e,s,r,d),Kt=!1,m=e.memoizedState,s.state=m,Ai(e,r,s,o);var g=e.memoizedState;u!==p||m!==g||We.current||Kt?(typeof C=="function"&&(_l(e,n,C,r),g=e.memoizedState),(c=Kt||bu(e,n,c,r,m,g,d)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,d)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=d,r=c):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Sl(t,e,n,r,i,o)}function Sl(t,e,n,r,o,i){Dp(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Ou(e,n,!1),zt(t,e,i);r=e.stateNode,qg.current=e;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=fr(e,t.child,null,i),e.child=fr(e,null,u,i)):Ue(t,e,u,i),e.memoizedState=r.state,o&&Ou(e,n,!0),e.child}function Lp(t){var e=t.stateNode;e.pendingContext?Uu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uu(t,e.context,!1),Ia(t,e.containerInfo)}function ec(t,e,n,r,o){return dr(),Ta(o),e.flags|=256,Ue(t,e,n,r),e.child}var wl={dehydrated:null,treeContext:null,retryLane:0};function kl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fp(t,e,n){var r=e.pendingProps,o=he.current,i=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(o&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),oe(he,o&1),t===null)return vl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=is(s,r,0,null),t=kn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=kl(n),e.memoizedState=wl,t):Fa(e,s));if(o=t.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return Wg(t,e,s,r,u,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,u=o.sibling;var d={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=ln(o,d),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=ln(u,i):(i=kn(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?kl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=wl,r}return i=t.child,t=i.sibling,r=ln(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fa(t,e){return e=is({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ho(t,e,n,r){return r!==null&&Ta(r),fr(e,t.child,null,n),t=Fa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wg(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Us(Error(k(422))),Ho(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=is({mode:"visible",children:r.children},o,0,null),i=kn(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fr(e,t.child,null,s),e.child.memoizedState=kl(s),e.memoizedState=wl,i);if(!(e.mode&1))return Ho(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(k(419)),r=Us(i,r,void 0),Ho(t,e,s,r)}if(u=(s&t.childLanes)!==0,He||u){if(r=Ie,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Bt(t,o),yt(r,t,o,-1))}return Ba(),r=Us(Error(k(421))),Ho(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=oy.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,Qe=nn(o.nextSibling),Xe=e,de=!0,ht=null,t!==null&&(rt[ot++]=Vt,rt[ot++]=Ut,rt[ot++]=An,Vt=t.id,Ut=t.overflow,An=e),e=Fa(e,r.children),e.flags|=4096,e)}function tc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cl(t.return,e,n)}function Os(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Vp(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ue(t,e,r.children,n),r=he.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tc(t,n,e);else if(t.tag===19)tc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(he,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Mi(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Os(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Mi(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Os(e,!0,n,null,i);break;case"together":Os(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ri(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bg(t,e,n){switch(e.tag){case 3:Lp(e),dr();break;case 5:ap(e);break;case 1:be(e.type)&&Ei(e);break;case 4:Ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;oe(ki,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(he,he.current&1),e.flags|=128,null):n&e.child.childLanes?Fp(t,e,n):(oe(he,he.current&1),t=zt(t,e,n),t!==null?t.sibling:null);oe(he,he.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vp(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),oe(he,he.current),r)break;return null;case 22:case 23:return e.lanes=0,Rp(t,e,n)}return zt(t,e,n)}var Up,Il,Op,Gp;Up=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Il=function(){};Op=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Sn(It.current);var i=null;switch(n){case"input":o=Js(t,o),r=Js(t,r),i=[];break;case"select":o=ye({},o,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":o=Xs(t,o),r=Xs(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ti)}el(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var u=o[c];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ro.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var d=r[c];if(u=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(s in u)!u.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&u[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(i||(i=[]),i.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ro.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&se("scroll",t),i||u===d||(i=[])):(i=i||[]).push(c,d))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Gp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fr(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kg(t,e,n){var r=e.pendingProps;switch(_a(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return be(e.type)&&xi(),De(e),null;case 3:return r=e.stateNode,pr(),le(We),le(Fe),Ma(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ht!==null&&(Fl(ht),ht=null))),Il(t,e),De(e),null;case 5:Aa(e);var o=Sn(go.current);if(n=e.type,t!==null&&e.stateNode!=null)Op(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return De(e),null}if(t=Sn(It.current),Bo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[St]=e,r[mo]=i,t=(e.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(o=0;o<Br.length;o++)se(Br[o],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":cu(r,i),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},se("invalid",r);break;case"textarea":fu(r,i),se("invalid",r)}el(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,u,t),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,u,t),o=["children",""+u]):ro.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&se("scroll",r)}switch(n){case"input":Ro(r),du(r,i,!0);break;case"textarea":Ro(r),pu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ti)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[St]=e,t[mo]=r,Up(t,e,!1,!1),e.stateNode=t;e:{switch(s=tl(n,r),n){case"dialog":se("cancel",t),se("close",t),o=r;break;case"iframe":case"object":case"embed":se("load",t),o=r;break;case"video":case"audio":for(o=0;o<Br.length;o++)se(Br[o],t);o=r;break;case"source":se("error",t),o=r;break;case"img":case"image":case"link":se("error",t),se("load",t),o=r;break;case"details":se("toggle",t),o=r;break;case"input":cu(t,r),o=Js(t,r),se("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ye({},r,{value:void 0}),se("invalid",t);break;case"textarea":fu(t,r),o=Xs(t,r),se("invalid",t);break;default:o=r}el(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?gf(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&mf(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&oo(t,d):typeof d=="number"&&oo(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ro.hasOwnProperty(i)?d!=null&&i==="onScroll"&&se("scroll",t):d!=null&&ia(t,i,d,s))}switch(n){case"input":Ro(t),du(t,r,!1);break;case"textarea":Ro(t),pu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+un(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?nr(t,!!r.multiple,i,!1):r.defaultValue!=null&&nr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Ti)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)Gp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Sn(go.current),Sn(It.current),Bo(e)){if(r=e.stateNode,n=e.memoizedProps,r[St]=e,(i=r.nodeValue!==n)&&(t=Xe,t!==null))switch(t.tag){case 3:$o(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=e,e.stateNode=r}return De(e),null;case 13:if(le(he),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&Qe!==null&&e.mode&1&&!(e.flags&128))rp(),dr(),e.flags|=98560,i=!1;else if(i=Bo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[St]=e}else dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),i=!1}else ht!==null&&(Fl(ht),ht=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?we===0&&(we=3):Ba())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return pr(),Il(t,e),t===null&&fo(e.stateNode.containerInfo),De(e),null;case 10:return Sa(e.type._context),De(e),null;case 17:return be(e.type)&&xi(),De(e),null;case 19:if(le(he),i=e.memoizedState,i===null)return De(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Fr(i,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Mi(t),s!==null){for(e.flags|=128,Fr(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(he,he.current&1|2),e.child}t=t.sibling}i.tail!==null&&_e()>hr&&(e.flags|=128,r=!0,Fr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mi(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!de)return De(e),null}else 2*_e()-i.renderingStartTime>hr&&n!==1073741824&&(e.flags|=128,r=!0,Fr(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_e(),e.sibling=null,n=he.current,oe(he,r?n&1|2:n&1),e):(De(e),null);case 22:case 23:return $a(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ze&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Yg(t,e){switch(_a(e),e.tag){case 1:return be(e.type)&&xi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pr(),le(We),le(Fe),Ma(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Aa(e),null;case 13:if(le(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(he),null;case 4:return pr(),null;case 10:return Sa(e.type._context),null;case 22:case 23:return $a(),null;case 24:return null;default:return null}}var qo=!1,Le=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,F=null;function jn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function Al(t,e,n){try{n()}catch(r){ve(t,e,r)}}var nc=!1;function Zg(t,e){if(dl=vi,t=qf(),va(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,d=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var C;p!==n||o!==0&&p.nodeType!==3||(u=s+o),p!==i||r!==0&&p.nodeType!==3||(d=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(C=p.firstChild)!==null;)m=p,p=C;for(;;){if(p===t)break t;if(m===n&&++c===o&&(u=s),m===i&&++f===r&&(d=s),(C=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=C}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(fl={focusedElem:t,selectionRange:n},vi=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var T=g.memoizedProps,S=g.memoizedState,v=e.stateNode,h=v.getSnapshotBeforeUpdate(e.elementType===e.type?T:pt(e.type,T),S);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(x){ve(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return g=nc,nc=!1,g}function Xr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Al(e,n,i)}o=o.next}while(o!==r)}}function rs(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ml(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $p(t){var e=t.alternate;e!==null&&(t.alternate=null,$p(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[St],delete e[mo],delete e[hl],delete e[Rg],delete e[Dg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bp(t){return t.tag===5||t.tag===3||t.tag===4}function rc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ti));else if(r!==4&&(t=t.child,t!==null))for(Nl(t,e,n),t=t.sibling;t!==null;)Nl(t,e,n),t=t.sibling}function Pl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pl(t,e,n),t=t.sibling;t!==null;)Pl(t,e,n),t=t.sibling}var Ae=null,mt=!1;function Wt(t,e,n){for(n=n.child;n!==null;)zp(t,e,n),n=n.sibling}function zp(t,e,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ji,n)}catch{}switch(n.tag){case 5:Le||jn(n,e);case 6:var r=Ae,o=mt;Ae=null,Wt(t,e,n),Ae=r,mt=o,Ae!==null&&(mt?(t=Ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(mt?(t=Ae,n=n.stateNode,t.nodeType===8?Ps(t.parentNode,n):t.nodeType===1&&Ps(t,n),ao(t)):Ps(Ae,n.stateNode));break;case 4:r=Ae,o=mt,Ae=n.stateNode.containerInfo,mt=!0,Wt(t,e,n),Ae=r,mt=o;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Al(n,e,s),o=o.next}while(o!==r)}Wt(t,e,n);break;case 1:if(!Le&&(jn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ve(n,e,u)}Wt(t,e,n);break;case 21:Wt(t,e,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,Wt(t,e,n),Le=r):Wt(t,e,n);break;default:Wt(t,e,n)}}function oc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jg),e.forEach(function(r){var o=iy.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:Ae=u.stateNode,mt=!1;break e;case 3:Ae=u.stateNode.containerInfo,mt=!0;break e;case 4:Ae=u.stateNode.containerInfo,mt=!0;break e}u=u.return}if(Ae===null)throw Error(k(160));zp(i,s,o),Ae=null,mt=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(c){ve(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hp(e,t),e=e.sibling}function Hp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ft(e,t),Tt(t),r&4){try{Xr(3,t,t.return),rs(3,t)}catch(T){ve(t,t.return,T)}try{Xr(5,t,t.return)}catch(T){ve(t,t.return,T)}}break;case 1:ft(e,t),Tt(t),r&512&&n!==null&&jn(n,n.return);break;case 5:if(ft(e,t),Tt(t),r&512&&n!==null&&jn(n,n.return),t.flags&32){var o=t.stateNode;try{oo(o,"")}catch(T){ve(t,t.return,T)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&df(o,i),tl(u,s);var c=tl(u,i);for(s=0;s<d.length;s+=2){var f=d[s],p=d[s+1];f==="style"?gf(o,p):f==="dangerouslySetInnerHTML"?mf(o,p):f==="children"?oo(o,p):ia(o,f,p,c)}switch(u){case"input":Zs(o,i);break;case"textarea":ff(o,i);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var C=i.value;C!=null?nr(o,!!i.multiple,C,!1):m!==!!i.multiple&&(i.defaultValue!=null?nr(o,!!i.multiple,i.defaultValue,!0):nr(o,!!i.multiple,i.multiple?[]:"",!1))}o[mo]=i}catch(T){ve(t,t.return,T)}}break;case 6:if(ft(e,t),Tt(t),r&4){if(t.stateNode===null)throw Error(k(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(T){ve(t,t.return,T)}}break;case 3:if(ft(e,t),Tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(e.containerInfo)}catch(T){ve(t,t.return,T)}break;case 4:ft(e,t),Tt(t);break;case 13:ft(e,t),Tt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Oa=_e())),r&4&&oc(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(c=Le)||f,ft(e,t),Le=c):ft(e,t),Tt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(F=t,f=t.child;f!==null;){for(p=F=f;F!==null;){switch(m=F,C=m.child,m.tag){case 0:case 11:case 14:case 15:Xr(4,m,m.return);break;case 1:jn(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(T){ve(r,n,T)}}break;case 5:jn(m,m.return);break;case 22:if(m.memoizedState!==null){sc(p);continue}}C!==null?(C.return=m,F=C):sc(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{o=p.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,d=p.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=hf("display",s))}catch(T){ve(t,t.return,T)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(T){ve(t,t.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ft(e,t),Tt(t),r&4&&oc(t);break;case 21:break;default:ft(e,t),Tt(t)}}function Tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bp(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(oo(o,""),r.flags&=-33);var i=rc(t);Pl(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=rc(t);Nl(t,u,s);break;default:throw Error(k(161))}}catch(d){ve(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qg(t,e,n){F=t,qp(t)}function qp(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var o=F,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||qo;if(!s){var u=o.alternate,d=u!==null&&u.memoizedState!==null||Le;u=qo;var c=Le;if(qo=s,(Le=d)&&!c)for(F=o;F!==null;)s=F,d=s.child,s.tag===22&&s.memoizedState!==null?lc(o):d!==null?(d.return=s,F=d):lc(o);for(;i!==null;)F=i,qp(i),i=i.sibling;F=o,qo=u,Le=c}ic(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,F=i):ic(t)}}function ic(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||rs(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Le)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:pt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hu(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hu(e,s,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&ao(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Le||e.flags&512&&Ml(e)}catch(m){ve(e,e.return,m)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function sc(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function lc(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rs(4,e)}catch(d){ve(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){ve(e,o,d)}}var i=e.return;try{Ml(e)}catch(d){ve(e,i,d)}break;case 5:var s=e.return;try{Ml(e)}catch(d){ve(e,s,d)}}}catch(d){ve(e,e.return,d)}if(e===t){F=null;break}var u=e.sibling;if(u!==null){u.return=e.return,F=u;break}F=e.return}}var Xg=Math.ceil,Ri=qt.ReactCurrentDispatcher,Va=qt.ReactCurrentOwner,st=qt.ReactCurrentBatchConfig,Q=0,Ie=null,xe=null,Me=0,Ze=0,er=pn(0),we=0,_o=null,Nn=0,os=0,Ua=0,jr=null,ze=null,Oa=0,hr=1/0,Lt=null,Di=!1,Rl=null,on=null,Wo=!1,Xt=null,Li=0,eo=0,Dl=null,oi=-1,ii=0;function Oe(){return Q&6?_e():oi!==-1?oi:oi=_e()}function sn(t){return t.mode&1?Q&2&&Me!==0?Me&-Me:Fg.transition!==null?(ii===0&&(ii=Af()),ii):(t=j,t!==0||(t=window.event,t=t===void 0?16:Ff(t.type)),t):1}function yt(t,e,n,r){if(50<eo)throw eo=0,Dl=null,Error(k(185));Eo(t,n,r),(!(Q&2)||t!==Ie)&&(t===Ie&&(!(Q&2)&&(os|=n),we===4&&Zt(t,Me)),Ke(t,r),n===1&&Q===0&&!(e.mode&1)&&(hr=_e()+500,es&&mn()))}function Ke(t,e){var n=t.callbackNode;Fh(t,e);var r=yi(t,t===Ie?Me:0);if(r===0)n!==null&&gu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gu(n),e===1)t.tag===0?Lg(ac.bind(null,t)):ep(ac.bind(null,t)),Ng(function(){!(Q&6)&&mn()}),n=null;else{switch(Mf(r)){case 1:n=ca;break;case 4:n=kf;break;case 16:n=gi;break;case 536870912:n=If;break;default:n=gi}n=Xp(n,Wp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wp(t,e){if(oi=-1,ii=0,Q&6)throw Error(k(327));var n=t.callbackNode;if(lr()&&t.callbackNode!==n)return null;var r=yi(t,t===Ie?Me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fi(t,r);else{e=r;var o=Q;Q|=2;var i=Kp();(Ie!==t||Me!==e)&&(Lt=null,hr=_e()+500,wn(t,e));do try{ty();break}catch(u){bp(t,u)}while(!0);Ea(),Ri.current=i,Q=o,xe!==null?e=0:(Ie=null,Me=0,e=we)}if(e!==0){if(e===2&&(o=sl(t),o!==0&&(r=o,e=Ll(t,o))),e===1)throw n=_o,wn(t,0),Zt(t,r),Ke(t,_e()),n;if(e===6)Zt(t,r);else{if(o=t.current.alternate,!(r&30)&&!jg(o)&&(e=Fi(t,r),e===2&&(i=sl(t),i!==0&&(r=i,e=Ll(t,i))),e===1))throw n=_o,wn(t,0),Zt(t,r),Ke(t,_e()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:Tn(t,ze,Lt);break;case 3:if(Zt(t,r),(r&130023424)===r&&(e=Oa+500-_e(),10<e)){if(yi(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Oe(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=ml(Tn.bind(null,t,ze,Lt),e);break}Tn(t,ze,Lt);break;case 4:if(Zt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-gt(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xg(r/1960))-r,10<r){t.timeoutHandle=ml(Tn.bind(null,t,ze,Lt),r);break}Tn(t,ze,Lt);break;case 5:Tn(t,ze,Lt);break;default:throw Error(k(329))}}}return Ke(t,_e()),t.callbackNode===n?Wp.bind(null,t):null}function Ll(t,e){var n=jr;return t.current.memoizedState.isDehydrated&&(wn(t,e).flags|=256),t=Fi(t,e),t!==2&&(e=ze,ze=n,e!==null&&Fl(e)),t}function Fl(t){ze===null?ze=t:ze.push.apply(ze,t)}function jg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ct(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zt(t,e){for(e&=~Ua,e&=~os,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gt(e),r=1<<n;t[n]=-1,e&=~r}}function ac(t){if(Q&6)throw Error(k(327));lr();var e=yi(t,0);if(!(e&1))return Ke(t,_e()),null;var n=Fi(t,e);if(t.tag!==0&&n===2){var r=sl(t);r!==0&&(e=r,n=Ll(t,r))}if(n===1)throw n=_o,wn(t,0),Zt(t,e),Ke(t,_e()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tn(t,ze,Lt),Ke(t,_e()),null}function Ga(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(hr=_e()+500,es&&mn())}}function Pn(t){Xt!==null&&Xt.tag===0&&!(Q&6)&&lr();var e=Q;Q|=1;var n=st.transition,r=j;try{if(st.transition=null,j=1,t)return t()}finally{j=r,st.transition=n,Q=e,!(Q&6)&&mn()}}function $a(){Ze=er.current,le(er)}function wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Mg(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(_a(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xi();break;case 3:pr(),le(We),le(Fe),Ma();break;case 5:Aa(r);break;case 4:pr();break;case 13:le(he);break;case 19:le(he);break;case 10:Sa(r.type._context);break;case 22:case 23:$a()}n=n.return}if(Ie=t,xe=t=ln(t.current,null),Me=Ze=e,we=0,_o=null,Ua=os=Nn=0,ze=jr=null,En!==null){for(e=0;e<En.length;e++)if(n=En[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}En=null}return t}function bp(t,e){do{var n=xe;try{if(Ea(),ti.current=Pi,Ni){for(var r=ge.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ni=!1}if(Mn=0,ke=Se=ge=null,Qr=!1,yo=0,Va.current=null,n===null||n.return===null){we=1,_o=e,xe=null;break}e:{var i=t,s=n.return,u=n,d=e;if(e=Me,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var C=Ju(s);if(C!==null){C.flags&=-257,Zu(C,s,u,i,e),C.mode&1&&Yu(i,c,e),e=C,d=c;var g=e.updateQueue;if(g===null){var T=new Set;T.add(d),e.updateQueue=T}else g.add(d);break e}else{if(!(e&1)){Yu(i,c,e),Ba();break e}d=Error(k(426))}}else if(de&&u.mode&1){var S=Ju(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Zu(S,s,u,i,e),Ta(mr(d,u));break e}}i=d=mr(d,u),we!==4&&(we=2),jr===null?jr=[i]:jr.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Mp(i,d,e);zu(i,v);break e;case 1:u=d;var h=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(on===null||!on.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Np(i,u,e);zu(i,x);break e}}i=i.return}while(i!==null)}Jp(n)}catch(w){e=w,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Kp(){var t=Ri.current;return Ri.current=Pi,t===null?Pi:t}function Ba(){(we===0||we===3||we===2)&&(we=4),Ie===null||!(Nn&268435455)&&!(os&268435455)||Zt(Ie,Me)}function Fi(t,e){var n=Q;Q|=2;var r=Kp();(Ie!==t||Me!==e)&&(Lt=null,wn(t,e));do try{ey();break}catch(o){bp(t,o)}while(!0);if(Ea(),Q=n,Ri.current=r,xe!==null)throw Error(k(261));return Ie=null,Me=0,we}function ey(){for(;xe!==null;)Yp(xe)}function ty(){for(;xe!==null&&!kh();)Yp(xe)}function Yp(t){var e=Qp(t.alternate,t,Ze);t.memoizedProps=t.pendingProps,e===null?Jp(t):xe=e,Va.current=null}function Jp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Yg(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,xe=null;return}}else if(n=Kg(n,e,Ze),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);we===0&&(we=5)}function Tn(t,e,n){var r=j,o=st.transition;try{st.transition=null,j=1,ny(t,e,n,r)}finally{st.transition=o,j=r}return null}function ny(t,e,n,r){do lr();while(Xt!==null);if(Q&6)throw Error(k(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Vh(t,i),t===Ie&&(xe=Ie=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wo||(Wo=!0,Xp(gi,function(){return lr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=st.transition,st.transition=null;var s=j;j=1;var u=Q;Q|=4,Va.current=null,Zg(t,n),Hp(n,t),xg(fl),vi=!!dl,fl=dl=null,t.current=n,Qg(n),Ih(),Q=u,j=s,st.transition=i}else t.current=n;if(Wo&&(Wo=!1,Xt=t,Li=o),i=t.pendingLanes,i===0&&(on=null),Nh(n.stateNode),Ke(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Di)throw Di=!1,t=Rl,Rl=null,t;return Li&1&&t.tag!==0&&lr(),i=t.pendingLanes,i&1?t===Dl?eo++:(eo=0,Dl=t):eo=0,mn(),null}function lr(){if(Xt!==null){var t=Mf(Li),e=st.transition,n=j;try{if(st.transition=null,j=16>t?16:t,Xt===null)var r=!1;else{if(t=Xt,Xt=null,Li=0,Q&6)throw Error(k(331));var o=Q;for(Q|=4,F=t.current;F!==null;){var i=F,s=i.child;if(F.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(F=c;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:Xr(8,f,i)}var p=f.child;if(p!==null)p.return=f,F=p;else for(;F!==null;){f=F;var m=f.sibling,C=f.return;if($p(f),f===c){F=null;break}if(m!==null){m.return=C,F=m;break}F=C}}}var g=i.alternate;if(g!==null){var T=g.child;if(T!==null){g.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}F=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,F=s;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,F=v;break e}F=i.return}}var h=t.current;for(F=h;F!==null;){s=F;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,F=_;else e:for(s=h;F!==null;){if(u=F,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:rs(9,u)}}catch(w){ve(u,u.return,w)}if(u===s){F=null;break e}var x=u.sibling;if(x!==null){x.return=u.return,F=x;break e}F=u.return}}if(Q=o,mn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ji,t)}catch{}r=!0}return r}finally{j=n,st.transition=e}}return!1}function uc(t,e,n){e=mr(n,e),e=Mp(t,e,1),t=rn(t,e,1),e=Oe(),t!==null&&(Eo(t,1,e),Ke(t,e))}function ve(t,e,n){if(t.tag===3)uc(t,t,n);else for(;e!==null;){if(e.tag===3){uc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){t=mr(n,t),t=Np(e,t,1),e=rn(e,t,1),t=Oe(),e!==null&&(Eo(e,1,t),Ke(e,t));break}}e=e.return}}function ry(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(Me&n)===n&&(we===4||we===3&&(Me&130023424)===Me&&500>_e()-Oa?wn(t,0):Ua|=n),Ke(t,e)}function Zp(t,e){e===0&&(t.mode&1?(e=Fo,Fo<<=1,!(Fo&130023424)&&(Fo=4194304)):e=1);var n=Oe();t=Bt(t,e),t!==null&&(Eo(t,e,n),Ke(t,n))}function oy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zp(t,n)}function iy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),Zp(t,n)}var Qp;Qp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||We.current)He=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return He=!1,bg(t,e,n);He=!!(t.flags&131072)}else He=!1,de&&e.flags&1048576&&tp(e,wi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ri(t,e),t=e.pendingProps;var o=cr(e,Fe.current);sr(e,n),o=Pa(null,e,r,t,o,n);var i=Ra();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(r)?(i=!0,Ei(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ka(e),o.updater=ns,e.stateNode=o,o._reactInternals=e,Tl(e,r,t,n),e=Sl(null,e,r,!0,i,n)):(e.tag=0,de&&i&&Ca(e),Ue(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ri(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=ly(r),t=pt(r,t),o){case 0:e=El(null,e,r,t,n);break e;case 1:e=ju(null,e,r,t,n);break e;case 11:e=Qu(null,e,r,t,n);break e;case 14:e=Xu(null,e,r,pt(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:pt(r,o),El(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:pt(r,o),ju(t,e,r,o,n);case 3:e:{if(Lp(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,o=i.element,lp(t,e),Ai(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=mr(Error(k(423)),e),e=ec(t,e,r,n,o);break e}else if(r!==o){o=mr(Error(k(424)),e),e=ec(t,e,r,n,o);break e}else for(Qe=nn(e.stateNode.containerInfo.firstChild),Xe=e,de=!0,ht=null,n=ip(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dr(),r===o){e=zt(t,e,n);break e}Ue(t,e,r,n)}e=e.child}return e;case 5:return ap(e),t===null&&vl(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,pl(r,o)?s=null:i!==null&&pl(r,i)&&(e.flags|=32),Dp(t,e),Ue(t,e,s,n),e.child;case 6:return t===null&&vl(e),null;case 13:return Fp(t,e,n);case 4:return Ia(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fr(e,null,r,n):Ue(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:pt(r,o),Qu(t,e,r,o,n);case 7:return Ue(t,e,e.pendingProps,n),e.child;case 8:return Ue(t,e,e.pendingProps.children,n),e.child;case 12:return Ue(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,oe(ki,r._currentValue),r._currentValue=s,i!==null)if(Ct(i.value,s)){if(i.children===o.children&&!We.current){e=zt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=Ot(-1,n&-n),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Cl(i.return,n,e),u.lanes|=n;break}d=d.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(k(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Cl(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ue(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,sr(e,n),o=lt(o),r=r(o),e.flags|=1,Ue(t,e,r,n),e.child;case 14:return r=e.type,o=pt(r,e.pendingProps),o=pt(r.type,o),Xu(t,e,r,o,n);case 15:return Pp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:pt(r,o),ri(t,e),e.tag=1,be(r)?(t=!0,Ei(e)):t=!1,sr(e,n),Ap(e,r,o),Tl(e,r,o,n),Sl(null,e,r,!0,t,n);case 19:return Vp(t,e,n);case 22:return Rp(t,e,n)}throw Error(k(156,e.tag))};function Xp(t,e){return wf(t,e)}function sy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,r){return new sy(t,e,n,r)}function za(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ly(t){if(typeof t=="function")return za(t)?1:0;if(t!=null){if(t=t.$$typeof,t===la)return 11;if(t===aa)return 14}return 2}function ln(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function si(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")za(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case qn:return kn(n.children,o,i,e);case sa:s=8,o|=8;break;case Ws:return t=it(12,n,e,o|2),t.elementType=Ws,t.lanes=i,t;case bs:return t=it(13,n,e,o),t.elementType=bs,t.lanes=i,t;case Ks:return t=it(19,n,e,o),t.elementType=Ks,t.lanes=i,t;case af:return is(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sf:s=10;break e;case lf:s=9;break e;case la:s=11;break e;case aa:s=14;break e;case bt:s=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=it(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function kn(t,e,n,r){return t=it(7,t,r,e),t.lanes=n,t}function is(t,e,n,r){return t=it(22,t,r,e),t.elementType=af,t.lanes=n,t.stateNode={isHidden:!1},t}function Gs(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function $s(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ay(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_s(0),this.expirationTimes=_s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ha(t,e,n,r,o,i,s,u,d){return t=new ay(t,e,n,u,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=it(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ka(i),t}function uy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jp(t){if(!t)return cn;t=t._reactInternals;e:{if(Vn(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(be(n))return jf(t,n,e)}return e}function em(t,e,n,r,o,i,s,u,d){return t=Ha(n,r,!0,t,o,i,s,u,d),t.context=jp(null),n=t.current,r=Oe(),o=sn(n),i=Ot(r,o),i.callback=e??null,rn(n,i,o),t.current.lanes=o,Eo(t,o,r),Ke(t,r),t}function ss(t,e,n,r){var o=e.current,i=Oe(),s=sn(o);return n=jp(n),e.context===null?e.context=n:e.pendingContext=n,e=Ot(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rn(o,e,s),t!==null&&(yt(t,o,s,i),ei(t,o,s)),s}function Vi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qa(t,e){cc(t,e),(t=t.alternate)&&cc(t,e)}function cy(){return null}var tm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wa(t){this._internalRoot=t}ls.prototype.render=Wa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));ss(t,e,null,null)};ls.prototype.unmount=Wa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pn(function(){ss(null,t,null,null)}),e[$t]=null}};function ls(t){this._internalRoot=t}ls.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jt.length&&e!==0&&e<Jt[n].priority;n++);Jt.splice(n,0,t),n===0&&Lf(t)}};function ba(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function as(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dc(){}function dy(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=Vi(s);i.call(c)}}var s=em(e,r,t,0,null,!1,!1,"",dc);return t._reactRootContainer=s,t[$t]=s.current,fo(t.nodeType===8?t.parentNode:t),Pn(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var c=Vi(d);u.call(c)}}var d=Ha(t,0,!1,null,null,!1,!1,"",dc);return t._reactRootContainer=d,t[$t]=d.current,fo(t.nodeType===8?t.parentNode:t),Pn(function(){ss(e,d,n,r)}),d}function us(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var u=o;o=function(){var d=Vi(s);u.call(d)}}ss(e,s,t,o)}else s=dy(n,e,t,o,r);return Vi(s)}Nf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$r(e.pendingLanes);n!==0&&(da(e,n|1),Ke(e,_e()),!(Q&6)&&(hr=_e()+500,mn()))}break;case 13:Pn(function(){var r=Bt(t,1);if(r!==null){var o=Oe();yt(r,t,1,o)}}),qa(t,1)}};fa=function(t){if(t.tag===13){var e=Bt(t,134217728);if(e!==null){var n=Oe();yt(e,t,134217728,n)}qa(t,134217728)}};Pf=function(t){if(t.tag===13){var e=sn(t),n=Bt(t,e);if(n!==null){var r=Oe();yt(n,t,e,r)}qa(t,e)}};Rf=function(){return j};Df=function(t,e){var n=j;try{return j=t,e()}finally{j=n}};rl=function(t,e,n){switch(e){case"input":if(Zs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=ji(r);if(!o)throw Error(k(90));cf(r),Zs(r,o)}}}break;case"textarea":ff(t,n);break;case"select":e=n.value,e!=null&&nr(t,!!n.multiple,e,!1)}};Cf=Ga;_f=Pn;var fy={usingClientEntryPoint:!1,Events:[wo,Yn,ji,yf,vf,Ga]},Vr={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},py={bundleType:Vr.bundleType,version:Vr.version,rendererPackageName:Vr.rendererPackageName,rendererConfig:Vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ef(t),t===null?null:t.stateNode},findFiberByHostInstance:Vr.findFiberByHostInstance||cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{Ji=bo.inject(py),kt=bo}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fy;et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ba(e))throw Error(k(200));return uy(t,e,null,n)};et.createRoot=function(t,e){if(!ba(t))throw Error(k(299));var n=!1,r="",o=tm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Ha(t,1,!1,null,null,n,!1,r,o),t[$t]=e.current,fo(t.nodeType===8?t.parentNode:t),new Wa(e)};et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Ef(e),t=t===null?null:t.stateNode,t};et.flushSync=function(t){return Pn(t)};et.hydrate=function(t,e,n){if(!as(e))throw Error(k(200));return us(null,t,e,!0,n)};et.hydrateRoot=function(t,e,n){if(!ba(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=tm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=em(e,null,t,1,n??null,o,!1,i,s),t[$t]=e.current,fo(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new ls(e)};et.render=function(t,e,n){if(!as(e))throw Error(k(200));return us(null,t,e,!1,n)};et.unmountComponentAtNode=function(t){if(!as(t))throw Error(k(40));return t._reactRootContainer?(Pn(function(){us(null,null,t,!1,function(){t._reactRootContainer=null,t[$t]=null})}),!0):!1};et.unstable_batchedUpdates=Ga;et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!as(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return us(t,e,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(t){console.error(t)}}nm(),tf.exports=et;var my=tf.exports,fc=my;fi.createRoot=fc.createRoot,fi.hydrateRoot=fc.hydrateRoot;var K=(t=>(t.GEMINI="Gemini (gemini-2.5-flash-preview-05-20)",t.DEEPSEEK="Deepseek (deepseek-chat)",t.GPT4O="ChatGPT (gpt-4o)",t.CLAUDE="Claude (Mock)",t.GEMINI_ADVANCED="Gemini Advanced (gemini-1.5-pro-latest)",t.IMAGEN3="Imagen3 (imagen-3.0-generate-002)",t))(K||{});const rm=t=>{const e=t.match(/\(([^)]+)\)$/);return e?e[1]:t},$n={temperature:.7,topK:40,topP:.95,systemInstruction:"You are a helpful AI assistant."},hy={numberOfImages:1,outputMimeType:"image/png",aspectRatio:"1:1"},vn={[K.GEMINI]:{...$n,systemInstruction:"You are a helpful and creative AI assistant powered by Gemini Flash."},[K.GEMINI_ADVANCED]:{...$n,systemInstruction:"You are Gemini Advanced, a powerful multimodal AI by Google."},[K.GPT4O]:{...$n,systemInstruction:"You are ChatGPT (gpt-4o), a powerful AI by OpenAI."},[K.DEEPSEEK]:{...$n,systemInstruction:"You are Deepseek Coder, an AI specialized in coding and chat, powered by the deepseek-chat model."},[K.CLAUDE]:{...$n,systemInstruction:"You are Claude, a helpful AI assistant by Anthropic."},[K.IMAGEN3]:{...$n,...hy,systemInstruction:"Image generation prompt."}},pc="femiAiChatSettings",mc="femiAiChatHistory",gy=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-6.364-.386l1.591-1.591M3 12h2.25m.386-6.364l1.591 1.591M12 12a2.25 2.25 0 00-2.25 2.25 2.25 2.25 0 002.25 2.25 2.25 2.25 0 002.25-2.25A2.25 2.25 0 0012 12z"})}),yy=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21c1.969 0 3.823-.594 5.352-1.627a9.753 9.753 0 003.649-4.371z"})}),vy=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Cy=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15.036-6.364A7.5 7.5 0 004.5 12v0A7.5 7.5 0 0021 12v0a7.5 7.5 0 00-2.536-5.364m-13.928 0A7.51 7.51 0 004.5 6.364v0c1.131 0 2.186.334 3.036.913m10.928 0c.849-.579 1.905-.913 3.036-.913v0c.387 0 .762.036 1.126.104M4.5 12v0A7.5 7.5 0 0021 12v0a7.5 7.5 0 00-2.536 5.364M4.501 17.636A7.51 7.51 0 007.536 18.55c.849.579 1.905.913 3.036.913s2.186-.334 3.036-.913m3.428 0c.875.29 1.826.449 2.827.449v0c.387 0 .762-.036 1.126-.104M12 9.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"})}),Ka=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),_y=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),ar=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Ty=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),xy=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7.5h6M9 12h6m-6 4.5h6M12 1.5V12m0 0V22.5"}),y.jsx("circle",{cx:"12",cy:"6",r:"1",fill:"currentColor"}),y.jsx("circle",{cx:"12",cy:"18",r:"1",fill:"currentColor"})]}),Ey=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),Sy=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),wy=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.97l-8.371 8.371a1.5 1.5 0 01-2.121-2.121l8.37-8.371A6 6 0 0118.75 9.75zm-1.5-4.5a.75.75 0 00-1.06 0l-2.25 2.25a.75.75 0 000 1.061l1.5 1.5a.75.75 0 001.06 0l2.25-2.25a.75.75 0 000-1.06l-1.5-1.5z"})}),ky=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),Iy=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h14.25c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-14.25A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h14.25c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-14.25a1.125 1.125 0 01-1.125-1.125v-4.5z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v3.75m-3.75-.75h7.5"})]}),Ay=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m6.75 12H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125.504 1.125-1.125V11.25a9 9 0 00-9-9z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12h3.75M15 15h3.75M15 18h3.75"})]}),My=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),Ny=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.086 3.324.247m12.56 0c-.078.063-.156.128-.23.195M7.875 14.25l2.235-2.235M16.125 14.25l-2.235-2.235M10.11 5.79H13.89c.48 0 .919.304 1.076.756l.16.479M5.79 10.11h12.42c.48 0 .919-.304 1.076-.756l.16-.479M5.79 10.11L4.772 5.79m0 0L3.235 2.25M20.765 2.25l-1.456 3.54M17.964 2.25c.15.29.27.595.357.911"})}),Py=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),om=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ry=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Dy=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.68-3.68c-.92.36-1.954.541-3.02.541H6.75c-1.136 0-2.097-.847-2.193-1.98A18.75 18.75 0 014.5 12.75v-4.286c0-.97.616-1.813 1.5-2.097m14.25 0A18.752 18.752 0 0018.75 2.25H13.5A18.75 18.75 0 006.75 8.511m13.5 0V6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v1.761m13.5 0A18.752 18.752 0 0018.75 2.25H13.5A18.75 18.75 0 006.75 8.511"})}),Ly=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Bs=({message:t,onImageClick:e})=>{const n=t.sender==="user";return y.jsx("div",{className:`flex ${n?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`max-w-xl lg:max-w-2xl p-3 rounded-lg shadow ${n?"bg-primary text-white rounded-br-none":"bg-neutral-light dark:bg-neutral-darker text-neutral-darker dark:text-secondary-light rounded-bl-none"}`,children:[y.jsxs("div",{className:"flex items-start space-x-2 mb-1",children:[n?t.isImageQuery?y.jsx(Ka,{className:"w-5 h-5 mt-0.5 text-white"}):y.jsx(Ey,{className:"w-5 h-5 mt-0.5 text-white"}):y.jsx(xy,{className:"w-5 h-5 mt-0.5 text-primary dark:text-primary-light"}),y.jsx("span",{className:"font-semibold text-sm",children:n?t.isImageQuery?"Image Prompt":"You":t.model||"AI"})]}),t.imagePreview&&n&&!t.isImageQuery&&y.jsx("div",{className:"my-2",children:y.jsx("img",{src:t.imagePreview,alt:"Uploaded content",className:"max-w-xs max-h-48 rounded-md object-contain"})}),t.imagePreviews&&t.imagePreviews.length>0&&!n&&y.jsx("div",{className:"my-2 flex flex-wrap gap-2",children:t.imagePreviews.map((r,o)=>y.jsx("button",{onClick:()=>e==null?void 0:e(r.split(",")[1],t.originalPrompt||"Image generation",t.imageMimeType||"image/jpeg"),className:"cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent dark:focus:ring-accent-light rounded-md transition-all hover:opacity-80","aria-label":`View generated image ${o+1}`,children:y.jsx("img",{src:r,alt:`Generated AI content ${o+1} for prompt: ${t.originalPrompt||""}`,className:"max-w-full sm:max-w-xs max-h-96 rounded-md object-contain"})},o))}),t.fileName&&n&&y.jsxs("div",{className:"my-1 p-2 bg-black/10 dark:bg-white/10 rounded text-xs",children:["Attached File: ",t.fileName]}),t.text&&t.text.trim().length>0&&y.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.text}),t.groundingSources&&t.groundingSources.length>0&&y.jsxs("div",{className:"mt-2 pt-2 border-t border-black/20 dark:border-white/20",children:[y.jsx("p",{className:"text-xs font-semibold mb-1",children:"Sources:"}),y.jsx("ul",{className:"space-y-1",children:t.groundingSources.map((r,o)=>y.jsx("li",{className:"text-xs",children:y.jsxs("a",{href:r.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:underline text-accent-dark dark:text-accent-light",children:[y.jsx(Sy,{className:"w-3 h-3 mr-1 flex-shrink-0"}),y.jsx("span",{className:"truncate",children:r.title||r.uri})]})},o))})]})]})})},Fy=({selectedModel:t,onModelChange:e,modelSettings:n,onModelSettingsChange:r,onImageUpload:o,imagePreview:i,onFileUpload:s,uploadedTextFileName:u,isWebSearchEnabled:d,onWebSearchToggle:c,disabled:f,apiKeyStatuses:p})=>{const m=(E,I)=>{var D;const N=(D=E.target.files)==null?void 0:D[0];I==="image"?o(N||null):I==="text"&&s(N||null),E.target.value=""},C=Object.values(K),g=p[t],T=(g==null?void 0:g.isGeminiPlatform)&&!(g!=null&&g.isMock)&&!(g!=null&&g.isImageGeneration),S=t===K.IMAGEN3||(g==null?void 0:g.isImageGeneration),h=rm(t)==="deepseek-chat",_=".txt,.md,.json,.js,.ts,.jsx,.tsx,.py,.java,.c,.cpp,.h,.hpp,.cs,.go,.rs,.rb,.php,.html,.htm,.css,.scss,.less,.xml,.yaml,.yml,.ini,.sh,.bat,.ps1,.sql,.csv,.log,.pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",x=n,w=[{value:"1:1",label:"1:1 (Square)"},{value:"16:9",label:"16:9 (Landscape)"},{value:"9:16",label:"9:16 (Portrait)"},{value:"4:3",label:"4:3 (Standard)"},{value:"3:4",label:"3:4 (Tall)"}];return y.jsxs("div",{className:"space-y-6 p-1",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"model-select",className:"block text-sm font-medium text-neutral-darker dark:text-secondary-light mb-1",children:"Select Model"}),y.jsx("select",{id:"model-select",value:t,onChange:E=>e(E.target.value),disabled:f,className:"w-full p-2 border border-secondary dark:border-neutral-darkest rounded-md bg-neutral-light dark:bg-neutral-dark focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light outline-none",children:C.map(E=>y.jsx("option",{value:E,children:E},E))})]}),y.jsxs("div",{className:"border-t border-secondary dark:border-neutral-darkest pt-4",children:[y.jsxs("h3",{className:"text-lg font-semibold text-neutral-darker dark:text-secondary-light mb-2 flex items-center",children:[y.jsx(wy,{className:"w-5 h-5 mr-2 text-primary dark:text-primary-light"}),"API Key Status"]}),g&&y.jsxs("div",{className:`p-3 rounded-md text-sm ${g.isSet||g.isMock?"bg-green-100 dark:bg-green-900 border-green-500 dark:border-green-400 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900 border-red-500 dark:border-red-400 text-red-700 dark:text-red-300"} border`,children:[y.jsxs("p",{className:"font-medium",children:[g.modelName," (",g.isMock?"Mock":"Live API Key",")"]}),y.jsxs("p",{children:["Env Variable: ",y.jsxs("code",{children:["process.env.",g.envVarName]})]}),g.isSet?y.jsx("p",{children:"Key detected in environment."}):g.isMock?y.jsx("p",{children:"Key NOT detected, but this is a mock model and will function."}):y.jsx("p",{children:"Key NOT detected in environment."}),!g.isSet&&!g.isMock&&y.jsxs("p",{className:"mt-1 font-semibold",children:["This model will not function without the API key (",y.jsxs("code",{children:["process.env.",g.envVarName]}),")."]}),g.isGeminiPlatform&&y.jsxs("p",{className:"mt-1 text-xs text-neutral-600 dark:text-neutral-400",children:["This model uses the Google AI Studio API Key (",y.jsx("code",{children:"API_KEY"}),")."]}),y.jsxs("p",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[y.jsx(ky,{className:"w-4 h-4 inline mr-1"}),"Environment variables should be set in ",y.jsx("code",{children:"config.js"}),"."]})]})]}),!S&&y.jsxs("div",{className:"space-y-4 border-t border-secondary dark:border-neutral-darkest pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-neutral-darker dark:text-secondary-light",children:"Model Settings (Chat)"}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"system-instruction",className:"block text-sm font-medium text-neutral-darker dark:text-secondary-light mb-1",children:"System Instruction"}),y.jsx("textarea",{id:"system-instruction",rows:3,value:x.systemInstruction,onChange:E=>r({systemInstruction:E.target.value}),disabled:f,className:"w-full p-2 border border-secondary dark:border-neutral-darkest rounded-md bg-neutral-light dark:bg-neutral-dark focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light outline-none"})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"temperature",className:"block text-sm font-medium text-neutral-darker dark:text-secondary-light mb-1",children:["Temperature: ",x.temperature.toFixed(2)]}),y.jsx("input",{type:"range",id:"temperature",min:"0",max:g!=null&&g.isGeminiPlatform?"1":"2",step:"0.01",value:x.temperature,onChange:E=>r({temperature:parseFloat(E.target.value)}),disabled:f,className:"w-full h-2 bg-secondary dark:bg-neutral-darkest rounded-lg appearance-none cursor-pointer accent-primary dark:accent-primary-light"})]}),(g==null?void 0:g.isGeminiPlatform)&&!g.isImageGeneration&&y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"top-k",className:"block text-sm font-medium text-neutral-darker dark:text-secondary-light mb-1",children:["Top K: ",x.topK]}),y.jsx("input",{type:"range",id:"top-k",min:"1",max:"100",step:"1",value:x.topK,onChange:E=>r({topK:parseInt(E.target.value,10)}),disabled:f,className:"w-full h-2 bg-secondary dark:bg-neutral-darkest rounded-lg appearance-none cursor-pointer accent-primary dark:accent-primary-light"})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"top-p",className:"block text-sm font-medium text-neutral-darker dark:text-secondary-light mb-1",children:["Top P: ",x.topP.toFixed(2)]}),y.jsx("input",{type:"range",id:"top-p",min:"0",max:"1",step:"0.01",value:x.topP,onChange:E=>r({topP:parseFloat(E.target.value)}),disabled:f,className:"w-full h-2 bg-secondary dark:bg-neutral-darkest rounded-lg appearance-none cursor-pointer accent-primary dark:accent-primary-light"})]})]}),S&&(g==null?void 0:g.isGeminiPlatform)&&y.jsxs("div",{className:"space-y-4 border-t border-secondary dark:border-neutral-darkest pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-neutral-darker dark:text-secondary-light",children:"Image Generation Settings"}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"imagen-num-images",className:"block text-sm font-medium text-neutral-darker dark:text-secondary-light mb-1",children:["Number of Images: ",x.numberOfImages]}),y.jsx("input",{type:"number",id:"imagen-num-images",min:"1",max:"4",step:"1",value:x.numberOfImages||1,onChange:E=>r({numberOfImages:parseInt(E.target.value,10)}),disabled:f,className:"w-full p-2 border border-secondary dark:border-neutral-darkest rounded-md bg-neutral-light dark:bg-neutral-dark focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"imagen-aspect-ratio",className:"block text-sm font-medium text-neutral-darker dark:text-secondary-light mb-1",children:"Aspect Ratio"}),y.jsx("select",{id:"imagen-aspect-ratio",value:x.aspectRatio||"1:1",onChange:E=>r({aspectRatio:E.target.value}),disabled:f,className:"w-full p-2 border border-secondary dark:border-neutral-darkest rounded-md bg-neutral-light dark:bg-neutral-dark focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light outline-none",children:w.map(E=>y.jsx("option",{value:E.value,children:E.label},E.value))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"imagen-output-mime",className:"block text-sm font-medium text-neutral-darker dark:text-secondary-light mb-1",children:"Output Format"}),y.jsxs("select",{id:"imagen-output-mime",value:x.outputMimeType||"image/jpeg",onChange:E=>r({outputMimeType:E.target.value}),disabled:f,className:"w-full p-2 border border-secondary dark:border-neutral-darkest rounded-md bg-neutral-light dark:bg-neutral-dark focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light outline-none",children:[y.jsx("option",{value:"image/jpeg",children:"JPEG"}),y.jsx("option",{value:"image/png",children:"PNG"})]})]})]}),!S&&y.jsxs("div",{className:"space-y-4 border-t border-secondary dark:border-neutral-darkest pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-neutral-darker dark:text-secondary-light",children:"Attachments (Chat)"}),t!==K.CLAUDE&&!h&&y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"image-upload",className:`flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-secondary dark:border-neutral-darkest rounded-md  ${f?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-secondary/50 dark:hover:bg-neutral-dark/50"} transition-colors`,children:[y.jsx(Ka,{className:"w-5 h-5 mr-2 text-primary dark:text-primary-light"}),y.jsx("span",{className:"text-sm text-neutral-darker dark:text-secondary-light",children:"Upload Image"}),y.jsx("input",{id:"image-upload",type:"file",accept:"image/*",className:"hidden",onChange:E=>m(E,"image"),disabled:f})]}),i&&y.jsxs("div",{className:"mt-2 relative group w-24 h-24",children:[y.jsx("img",{src:i,alt:"Preview",className:"w-full h-full object-cover rounded"}),y.jsx("button",{onClick:()=>o(null),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",disabled:f,children:y.jsx(ar,{className:"w-4 h-4"})})]})]}),h&&y.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Image uploads are not supported by the Deepseek-chat model."}),t===K.CLAUDE&&y.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Image uploads are not applicable for the mock Claude model."}),y.jsxs("div",{children:[t!==K.CLAUDE&&y.jsxs(y.Fragment,{children:[y.jsxs("label",{htmlFor:"file-upload",className:`flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-secondary dark:border-neutral-darkest rounded-md  ${f?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-secondary/50 dark:hover:bg-neutral-dark/50"} transition-colors`,children:[y.jsx(_y,{className:"w-5 h-5 mr-2 text-primary dark:text-primary-light"}),y.jsx("span",{className:"text-sm text-neutral-darker dark:text-secondary-light",children:"Upload File (Text-based)"}),y.jsx("input",{id:"file-upload",type:"file",accept:_,className:"hidden",onChange:E=>m(E,"text"),disabled:f})]}),u&&y.jsxs("div",{className:"mt-2 text-sm text-neutral-darker dark:text-secondary-light flex items-center",children:["File: ",u,y.jsx("button",{onClick:()=>s(null),className:"ml-2 text-red-500 hover:text-red-700","aria-label":"Remove file",disabled:f,children:y.jsx(ar,{className:"w-4 h-4"})})]})]}),t===K.CLAUDE&&y.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"File uploads are not applicable for the mock Claude model."})]})]}),S&&(g==null?void 0:g.isGeminiPlatform)&&y.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 border-t border-secondary dark:border-neutral-darkest pt-4",children:"Attachments (like user image uploads or file uploads) and Web Search are not applicable for Imagen3 image generation."}),T&&y.jsxs("div",{className:"space-y-2 border-t border-secondary dark:border-neutral-darkest pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-neutral-darker dark:text-secondary-light",children:"Tools (Gemini Chat)"}),y.jsxs("label",{htmlFor:"web-search-toggle",className:`flex items-center ${f?"cursor-not-allowed opacity-60":"cursor-pointer"}`,children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"checkbox",id:"web-search-toggle",className:"sr-only",checked:d,onChange:E=>c(E.target.checked),disabled:f}),y.jsx("div",{className:`block w-10 h-6 rounded-full transition-colors ${d?"bg-primary dark:bg-primary-light":"bg-secondary dark:bg-neutral-darkest"}`}),y.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition transform ${d?"translate-x-full":""}`})]}),y.jsxs("div",{className:"ml-3 text-sm text-neutral-darker dark:text-secondary-light flex items-center",children:[y.jsx(Ty,{className:"w-4 h-4 mr-1"}),"Enable Web Search (Google)"]})]})]})]})},Vy=({savedSessions:t,activeSessionId:e,onLoadSession:n,onDeleteSession:r,onRenameSession:o,onSaveCurrentChat:i,onStartNewChat:s,isLoading:u})=>{const[d,c]=H.useState(null),[f,p]=H.useState(""),m=S=>{c(S.id),p(S.name)},C=()=>{d&&f.trim()&&(o(d,f.trim()),c(null),p(""))},g=S=>new Date(S).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=S=>{if(S.startsWith(K.GEMINI.substring(0,6)))return"Gemini";if(S.startsWith(K.GPT4O.substring(0,3)))return"GPT";if(S.startsWith(K.DEEPSEEK.substring(0,4)))return"Deepseek";if(S.startsWith(K.IMAGEN3.substring(0,6)))return"Imagen3";if(S.startsWith(K.CLAUDE.substring(0,5)))return"Claude";const v=S.match(/^([^\s(]+)/);return v?v[1]:"AI"};return y.jsxs("div",{className:"space-y-4 p-1 flex flex-col h-full",children:[y.jsx("h2",{className:"text-xl font-semibold text-neutral-darker dark:text-secondary-light mb-3",children:"Chat History"}),y.jsxs("div",{className:"space-y-2 mb-4",children:[y.jsxs("button",{onClick:i,disabled:u,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark dark:bg-primary-light dark:text-neutral-darker dark:hover:bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-dark disabled:opacity-50",children:[y.jsx(Iy,{className:"w-5 h-5 mr-2"}),"Save Current Chat"]}),y.jsxs("button",{onClick:s,disabled:u,className:"w-full flex items-center justify-center px-4 py-2 border border-secondary dark:border-neutral-darkest rounded-md shadow-sm text-sm font-medium text-neutral-darker dark:text-secondary-light hover:bg-secondary/50 dark:hover:bg-neutral-dark/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary-dark disabled:opacity-50",children:[y.jsx(Ay,{className:"w-5 h-5 mr-2"}),"Start New Chat"]})]}),t.length===0&&y.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 text-center py-4",children:"No saved chats yet."}),y.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 pr-1",children:t.sort((S,v)=>v.timestamp-S.timestamp).map(S=>y.jsx("div",{className:`p-3 rounded-md border ${S.id===e?"bg-primary-light/20 border-primary dark:bg-primary-dark/30 dark:border-primary-light":"bg-neutral-light dark:bg-neutral-darker border-secondary dark:border-neutral-darkest hover:bg-secondary/30 dark:hover:bg-neutral-dark/30"}`,children:d===S.id?y.jsxs("div",{className:"space-y-2",children:[y.jsx("input",{type:"text",value:f,onChange:v=>p(v.target.value),className:"w-full p-2 border border-secondary dark:border-neutral-darkest rounded-md bg-white dark:bg-neutral-dark focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light outline-none text-sm",autoFocus:!0}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:C,className:"px-2 py-1 text-xs bg-green-500 hover:bg-green-600 text-white rounded",children:"Save"}),y.jsx("button",{onClick:()=>c(null),className:"px-2 py-1 text-xs bg-gray-300 hover:bg-gray-400 dark:bg-neutral-500 dark:hover:bg-neutral-600 text-black dark:text-white rounded",children:"Cancel"})]})]}):y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-sm text-neutral-darker dark:text-secondary-light truncate pr-16",title:S.name,children:S.name}),y.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 flex items-center",children:[y.jsx(om,{className:"w-3 h-3 mr-1"})," ",g(S.timestamp),y.jsx("span",{className:"mx-1",children:"|"}),T(S.model)]}),y.jsxs("div",{className:"mt-2 flex space-x-1 justify-end",children:[y.jsx("button",{onClick:()=>n(S.id),disabled:u||S.id===e,className:"p-1.5 text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Load Chat","aria-label":"Load chat session",children:y.jsx(Py,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>m(S),disabled:u,className:"p-1.5 text-xs text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300 rounded disabled:opacity-50",title:"Rename Chat","aria-label":"Rename chat session",children:y.jsx(My,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>r(S.id),disabled:u,className:"p-1.5 text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 rounded disabled:opacity-50",title:"Delete Chat","aria-label":"Delete chat session",children:y.jsx(Ny,{className:"w-4 h-4"})})]})]})},S.id))})]})},Uy=({isOpen:t,onClose:e,imageBase64:n,prompt:r,mimeType:o})=>{if(!t)return null;const i=s=>{const u=o==="image/jpeg"?"jpg":"png",c=`imagen_${r.replace(/[^a-zA-Z0-9_]/g,"_").substring(0,50)}.${u}`,f=document.createElement("a");f.href=`data:${o};base64,${s}`,f.download=c,document.body.appendChild(f),f.click(),document.body.removeChild(f)};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 transition-opacity duration-300",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"image-modal-title",children:y.jsxs("div",{className:"bg-neutral-light dark:bg-neutral-darker rounded-lg shadow-xl p-6 w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 scale-100 opacity-100",onClick:s=>s.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{id:"image-modal-title",className:"text-xl font-semibold text-primary dark:text-primary-light truncate",title:r,children:['Image for: "',r.length>50?r.substring(0,47)+"...":r,'"']}),y.jsx("button",{onClick:e,className:"p-2 rounded-full text-neutral-darker dark:text-secondary-light hover:bg-secondary dark:hover:bg-neutral-darkest transition-colors","aria-label":"Close image viewer",children:y.jsx(ar,{className:"w-6 h-6"})})]}),y.jsx("div",{className:"overflow-y-auto flex-grow flex items-center justify-center",children:y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:`data:${o};base64,${n}`,alt:`Generated image for prompt: ${r}`,className:"max-w-full max-h-[calc(80vh-120px)] object-contain rounded-md"}),y.jsx("button",{onClick:()=>i(n),className:"absolute bottom-3 right-3 bg-black/40 hover:bg-black/60 text-white p-2.5 rounded-full transition-colors duration-150 ease-in-out","aria-label":"Download image",title:"Download image",children:y.jsx(Ly,{className:"w-5 h-5"})})]})}),y.jsx("button",{onClick:e,className:"mt-6 w-full px-4 py-2 bg-primary hover:bg-primary-dark dark:bg-primary-light dark:hover:bg-primary text-white dark:text-neutral-darker rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-dark transition-colors",children:"Close"})]})})};var X;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const i={};for(const s of o)i[s]=s;return i},t.getValidEnumValues=o=>{const i=t.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),s={};for(const u of i)s[u]=o[u];return t.objectValues(s)},t.objectValues=o=>t.objectKeys(o).map(function(i){return o[i]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const i=[];for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.push(s);return i},t.find=(o,i)=>{for(const s of o)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function r(o,i=" | "){return o.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(X||(X={}));var hc;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(hc||(hc={}));const V=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yt=t=>{switch(typeof t){case"undefined":return V.undefined;case"string":return V.string;case"number":return Number.isNaN(t)?V.nan:V.number;case"boolean":return V.boolean;case"function":return V.function;case"bigint":return V.bigint;case"symbol":return V.symbol;case"object":return Array.isArray(t)?V.array:t===null?V.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?V.promise:typeof Map<"u"&&t instanceof Map?V.map:typeof Set<"u"&&t instanceof Set?V.set:typeof Date<"u"&&t instanceof Date?V.date:V.object;default:return V.unknown}},A=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ht extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},o=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(o);else if(s.code==="invalid_return_type")o(s.returnTypeError);else if(s.code==="invalid_arguments")o(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let u=r,d=0;for(;d<s.path.length;){const c=s.path[d];d===s.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(s))):u[c]=u[c]||{_errors:[]},u=u[c],d++}}};return o(this),r}static assert(e){if(!(e instanceof Ht))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ht.create=t=>new Ht(t);const Vl=(t,e)=>{let n;switch(t.code){case A.invalid_type:t.received===V.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case A.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,X.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:n=`Unrecognized key(s) in object: ${X.joinValues(t.keys,", ")}`;break;case A.invalid_union:n="Invalid input";break;case A.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${X.joinValues(t.options)}`;break;case A.invalid_enum_value:n=`Invalid enum value. Expected ${X.joinValues(t.options)}, received '${t.received}'`;break;case A.invalid_arguments:n="Invalid function arguments";break;case A.invalid_return_type:n="Invalid function return type";break;case A.invalid_date:n="Invalid date";break;case A.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:X.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case A.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case A.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case A.custom:n="Invalid input";break;case A.invalid_intersection_types:n="Intersection results could not be merged";break;case A.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case A.not_finite:n="Number must be finite";break;default:n=e.defaultError,X.assertNever(t)}return{message:n}};let Oy=Vl;function Gy(){return Oy}const $y=t=>{const{data:e,path:n,errorMaps:r,issueData:o}=t,i=[...n,...o.path||[]],s={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let u="";const d=r.filter(c=>!!c).slice().reverse();for(const c of d)u=c(s,{data:e,defaultError:u}).message;return{...o,path:i,message:u}};function P(t,e){const n=Gy(),r=$y({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Vl?void 0:Vl].filter(o=>!!o)});t.common.issues.push(r)}class Ge{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const o of n){if(o.status==="aborted")return q;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const o of n){const i=await o.key,s=await o.value;r.push({key:i,value:s})}return Ge.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const o of n){const{key:i,value:s}=o;if(i.status==="aborted"||s.status==="aborted")return q;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||o.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const q=Object.freeze({status:"aborted"}),zr=t=>({status:"dirty",value:t}),ut=t=>({status:"valid",value:t}),gc=t=>t.status==="aborted",yc=t=>t.status==="dirty",gr=t=>t.status==="valid",Ui=t=>typeof Promise<"u"&&t instanceof Promise;var U;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(U||(U={}));var Oi=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},im=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},Hr,qr;class Mt{constructor(e,n,r,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vc=(t,e)=>{if(gr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ht(t.common.issues);return this._error=n,this._error}}};function W(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:o}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(s,u)=>{const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??r??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:o}}class Z{get description(){return this._def.description}_getType(e){return Yt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Yt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ge,ctx:{common:e.parent.common,data:e.data,parsedType:Yt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ui(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yt(e)},o=this._parseSync({data:e,path:r.path,parent:r});return vc(r,o)}"~validate"(e){var r,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yt(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return gr(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(o=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>gr(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yt(e)},o=this._parse({data:e,path:r.path,parent:r}),i=await(Ui(o)?o:Promise.resolve(o));return vc(r,i)}refine(e,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,i)=>{const s=e(o),u=()=>i.addIssue({code:A.custom,...r(o)});return typeof Promise<"u"&&s instanceof Promise?s.then(d=>d?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(e){return new Cr({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return an.create(this,this._def)}nullable(){return _r.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return At.create(this)}promise(){return Hi.create(this,this._def)}or(e){return $i.create([this,e],this._def)}and(e){return Bi.create(this,e,this._def)}transform(e){return new Cr({...W(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new $l({...W(this._def),innerType:this,defaultValue:n,typeName:$.ZodDefault})}brand(){return new uv({typeName:$.ZodBranded,type:this,...W(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Bl({...W(this._def),innerType:this,catchValue:n,typeName:$.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ya.create(this,e)}readonly(){return zl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const By=/^c[^\s-]{8,}$/i,zy=/^[0-9a-z]+$/,Hy=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wy=/^[a-z0-9_-]{21}$/i,by=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ky=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Yy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jy="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zs;const Zy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Xy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ev=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nv=new RegExp(`^${sm}$`);function lm(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function rv(t){return new RegExp(`^${lm(t)}$`)}function ov(t){let e=`${sm}T${lm(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function iv(t,e){return!!((e==="v4"||!e)&&Zy.test(t)||(e==="v6"||!e)&&Xy.test(t))}function sv(t,e){if(!by.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function lv(t,e){return!!((e==="v4"||!e)&&Qy.test(t)||(e==="v6"||!e)&&jy.test(t))}class wt extends Z{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==V.string){const i=this._getOrReturnCtx(e);return P(i,{code:A.invalid_type,expected:V.string,received:i.parsedType}),q}const r=new Ge;let o;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,u=e.data.length<i.value;(s||u)&&(o=this._getOrReturnCtx(e,o),s?P(o,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&P(o,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Yy.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"email",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")zs||(zs=new RegExp(Jy,"u")),zs.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"emoji",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")qy.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"uuid",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Wy.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"nanoid",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")By.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cuid",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")zy.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cuid2",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Hy.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"ulid",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),P(o,{validation:"url",code:A.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"regex",code:A.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),P(o,{code:A.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),P(o,{code:A.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),P(o,{code:A.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?ov(i).test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:A.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?nv.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:A.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?rv(i).test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:A.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Ky.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"duration",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?iv(e.data,i.version)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"ip",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?sv(e.data,i.alg)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"jwt",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?lv(e.data,i.version)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cidr",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?ev.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"base64",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?tv.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"base64url",code:A.invalid_string,message:i.message}),r.dirty()):X.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(o=>e.test(o),{validation:n,code:A.invalid_string,...U.errToObj(r)})}_addCheck(e){return new wt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...U.errToObj(e)})}url(e){return this._addCheck({kind:"url",...U.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...U.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...U.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...U.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...U.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...U.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...U.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...U.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...U.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...U.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...U.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...U.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...U.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...U.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...U.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...U.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...U.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...U.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...U.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...U.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...U.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...U.errToObj(n)})}nonempty(e){return this.min(1,U.errToObj(e))}trim(){return new wt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wt.create=t=>new wt({checks:[],typeName:$.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...W(t)});function av(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=n>r?n:r,i=Number.parseInt(t.toFixed(o).replace(".","")),s=Number.parseInt(e.toFixed(o).replace(".",""));return i%s/10**o}class Rn extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==V.number){const i=this._getOrReturnCtx(e);return P(i,{code:A.invalid_type,expected:V.number,received:i.parsedType}),q}let r;const o=new Ge;for(const i of this._def.checks)i.kind==="int"?X.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),P(r,{code:A.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),P(r,{code:A.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),P(r,{code:A.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?av(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),P(r,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),P(r,{code:A.not_finite,message:i.message}),o.dirty()):X.assertNever(i);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,U.toString(n))}gt(e,n){return this.setLimit("min",e,!1,U.toString(n))}lte(e,n){return this.setLimit("max",e,!0,U.toString(n))}lt(e,n){return this.setLimit("max",e,!1,U.toString(n))}setLimit(e,n,r,o){return new Rn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:U.toString(o)}]})}_addCheck(e){return new Rn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:U.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:U.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:U.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:U.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:U.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&X.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Rn.create=t=>new Rn({checks:[],typeName:$.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...W(t)});class Dn extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==V.bigint)return this._getInvalidInput(e);let r;const o=new Ge;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),P(r,{code:A.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),P(r,{code:A.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),P(r,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):X.assertNever(i);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return P(n,{code:A.invalid_type,expected:V.bigint,received:n.parsedType}),q}gte(e,n){return this.setLimit("min",e,!0,U.toString(n))}gt(e,n){return this.setLimit("min",e,!1,U.toString(n))}lte(e,n){return this.setLimit("max",e,!0,U.toString(n))}lt(e,n){return this.setLimit("max",e,!1,U.toString(n))}setLimit(e,n,r,o){return new Dn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:U.toString(o)}]})}_addCheck(e){return new Dn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:U.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Dn.create=t=>new Dn({checks:[],typeName:$.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...W(t)});class Gi extends Z{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==V.boolean){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:V.boolean,received:r.parsedType}),q}return ut(e.data)}}Gi.create=t=>new Gi({typeName:$.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...W(t)});class yr extends Z{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==V.date){const i=this._getOrReturnCtx(e);return P(i,{code:A.invalid_type,expected:V.date,received:i.parsedType}),q}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return P(i,{code:A.invalid_date}),q}const r=new Ge;let o;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):X.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:U.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:U.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}yr.create=t=>new yr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$.ZodDate,...W(t)});class Cc extends Z{_parse(e){if(this._getType(e)!==V.symbol){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:V.symbol,received:r.parsedType}),q}return ut(e.data)}}Cc.create=t=>new Cc({typeName:$.ZodSymbol,...W(t)});class _c extends Z{_parse(e){if(this._getType(e)!==V.undefined){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:V.undefined,received:r.parsedType}),q}return ut(e.data)}}_c.create=t=>new _c({typeName:$.ZodUndefined,...W(t)});class Tc extends Z{_parse(e){if(this._getType(e)!==V.null){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:V.null,received:r.parsedType}),q}return ut(e.data)}}Tc.create=t=>new Tc({typeName:$.ZodNull,...W(t)});class xc extends Z{constructor(){super(...arguments),this._any=!0}_parse(e){return ut(e.data)}}xc.create=t=>new xc({typeName:$.ZodAny,...W(t)});class Ul extends Z{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ut(e.data)}}Ul.create=t=>new Ul({typeName:$.ZodUnknown,...W(t)});class dn extends Z{_parse(e){const n=this._getOrReturnCtx(e);return P(n,{code:A.invalid_type,expected:V.never,received:n.parsedType}),q}}dn.create=t=>new dn({typeName:$.ZodNever,...W(t)});class Ec extends Z{_parse(e){if(this._getType(e)!==V.undefined){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:V.void,received:r.parsedType}),q}return ut(e.data)}}Ec.create=t=>new Ec({typeName:$.ZodVoid,...W(t)});class At extends Z{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),o=this._def;if(n.parsedType!==V.array)return P(n,{code:A.invalid_type,expected:V.array,received:n.parsedType}),q;if(o.exactLength!==null){const s=n.data.length>o.exactLength.value,u=n.data.length<o.exactLength.value;(s||u)&&(P(n,{code:s?A.too_big:A.too_small,minimum:u?o.exactLength.value:void 0,maximum:s?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(P(n,{code:A.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(P(n,{code:A.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>o.type._parseAsync(new Mt(n,s,n.path,u)))).then(s=>Ge.mergeArray(r,s));const i=[...n.data].map((s,u)=>o.type._parseSync(new Mt(n,s,n.path,u)));return Ge.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new At({...this._def,minLength:{value:e,message:U.toString(n)}})}max(e,n){return new At({...this._def,maxLength:{value:e,message:U.toString(n)}})}length(e,n){return new At({...this._def,exactLength:{value:e,message:U.toString(n)}})}nonempty(e){return this.min(1,e)}}At.create=(t,e)=>new At({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...W(e)});function zn(t){if(t instanceof Te){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=an.create(zn(r))}return new Te({...t._def,shape:()=>e})}else return t instanceof At?new At({...t._def,type:zn(t.element)}):t instanceof an?an.create(zn(t.unwrap())):t instanceof _r?_r.create(zn(t.unwrap())):t instanceof Ln?Ln.create(t.items.map(e=>zn(e))):t}class Te extends Z{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=X.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==V.object){const c=this._getOrReturnCtx(e);return P(c,{code:A.invalid_type,expected:V.object,received:c.parsedType}),q}const{status:r,ctx:o}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof dn&&this._def.unknownKeys==="strip"))for(const c in o.data)s.includes(c)||u.push(c);const d=[];for(const c of s){const f=i[c],p=o.data[c];d.push({key:{status:"valid",value:c},value:f._parse(new Mt(o,p,o.path,c)),alwaysSet:c in o.data})}if(this._def.catchall instanceof dn){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of u)d.push({key:{status:"valid",value:f},value:{status:"valid",value:o.data[f]}});else if(c==="strict")u.length>0&&(P(o,{code:A.unrecognized_keys,keys:u}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of u){const p=o.data[f];d.push({key:{status:"valid",value:f},value:c._parse(new Mt(o,p,o.path,f)),alwaysSet:f in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of d){const p=await f.key,m=await f.value;c.push({key:p,value:m,alwaysSet:f.alwaysSet})}return c}).then(c=>Ge.mergeObjectSync(r,c)):Ge.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return U.errToObj,new Te({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s;const o=((s=(i=this._def).errorMap)==null?void 0:s.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:U.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Te({...this._def,unknownKeys:"strip"})}passthrough(){return new Te({...this._def,unknownKeys:"passthrough"})}extend(e){return new Te({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Te({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Te({...this._def,catchall:e})}pick(e){const n={};for(const r of X.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Te({...this._def,shape:()=>n})}omit(e){const n={};for(const r of X.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Te({...this._def,shape:()=>n})}deepPartial(){return zn(this)}partial(e){const n={};for(const r of X.objectKeys(this.shape)){const o=this.shape[r];e&&!e[r]?n[r]=o:n[r]=o.optional()}return new Te({...this._def,shape:()=>n})}required(e){const n={};for(const r of X.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof an;)i=i._def.innerType;n[r]=i}return new Te({...this._def,shape:()=>n})}keyof(){return am(X.objectKeys(this.shape))}}Te.create=(t,e)=>new Te({shape:()=>t,unknownKeys:"strip",catchall:dn.create(),typeName:$.ZodObject,...W(e)});Te.strictCreate=(t,e)=>new Te({shape:()=>t,unknownKeys:"strict",catchall:dn.create(),typeName:$.ZodObject,...W(e)});Te.lazycreate=(t,e)=>new Te({shape:t,unknownKeys:"strip",catchall:dn.create(),typeName:$.ZodObject,...W(e)});class $i extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function o(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=i.map(u=>new Ht(u.ctx.common.issues));return P(n,{code:A.invalid_union,unionErrors:s}),q}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(o);{let i;const s=[];for(const d of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=d._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=s.map(d=>new Ht(d));return P(n,{code:A.invalid_union,unionErrors:u}),q}}get options(){return this._def.options}}$i.create=(t,e)=>new $i({options:t,typeName:$.ZodUnion,...W(e)});function Ol(t,e){const n=Yt(t),r=Yt(e);if(t===e)return{valid:!0,data:t};if(n===V.object&&r===V.object){const o=X.objectKeys(e),i=X.objectKeys(t).filter(u=>o.indexOf(u)!==-1),s={...t,...e};for(const u of i){const d=Ol(t[u],e[u]);if(!d.valid)return{valid:!1};s[u]=d.data}return{valid:!0,data:s}}else if(n===V.array&&r===V.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let i=0;i<t.length;i++){const s=t[i],u=e[i],d=Ol(s,u);if(!d.valid)return{valid:!1};o.push(d.data)}return{valid:!0,data:o}}else return n===V.date&&r===V.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Bi extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=(i,s)=>{if(gc(i)||gc(s))return q;const u=Ol(i.value,s.value);return u.valid?((yc(i)||yc(s))&&n.dirty(),{status:n.value,value:u.data}):(P(r,{code:A.invalid_intersection_types}),q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>o(i,s)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bi.create=(t,e,n)=>new Bi({left:t,right:e,typeName:$.ZodIntersection,...W(n)});class Ln extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==V.array)return P(r,{code:A.invalid_type,expected:V.array,received:r.parsedType}),q;if(r.data.length<this._def.items.length)return P(r,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q;!this._def.rest&&r.data.length>this._def.items.length&&(P(r,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Mt(r,s,r.path,u)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>Ge.mergeArray(n,s)):Ge.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ln({...this._def,rest:e})}}Ln.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ln({items:t,typeName:$.ZodTuple,rest:null,...W(e)})};class zi extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==V.object)return P(r,{code:A.invalid_type,expected:V.object,received:r.parsedType}),q;const o=[],i=this._def.keyType,s=this._def.valueType;for(const u in r.data)o.push({key:i._parse(new Mt(r,u,r.path,u)),value:s._parse(new Mt(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Ge.mergeObjectAsync(n,o):Ge.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Z?new zi({keyType:e,valueType:n,typeName:$.ZodRecord,...W(r)}):new zi({keyType:wt.create(),valueType:e,typeName:$.ZodRecord,...W(n)})}}class Sc extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==V.map)return P(r,{code:A.invalid_type,expected:V.map,received:r.parsedType}),q;const o=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([u,d],c)=>({key:o._parse(new Mt(r,u,r.path,[c,"key"])),value:i._parse(new Mt(r,d,r.path,[c,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of s){const c=await d.key,f=await d.value;if(c.status==="aborted"||f.status==="aborted")return q;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),u.set(c.value,f.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of s){const c=d.key,f=d.value;if(c.status==="aborted"||f.status==="aborted")return q;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),u.set(c.value,f.value)}return{status:n.value,value:u}}}}Sc.create=(t,e,n)=>new Sc({valueType:e,keyType:t,typeName:$.ZodMap,...W(n)});class To extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==V.set)return P(r,{code:A.invalid_type,expected:V.set,received:r.parsedType}),q;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(P(r,{code:A.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(P(r,{code:A.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const i=this._def.valueType;function s(d){const c=new Set;for(const f of d){if(f.status==="aborted")return q;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const u=[...r.data.values()].map((d,c)=>i._parse(new Mt(r,d,r.path,c)));return r.common.async?Promise.all(u).then(d=>s(d)):s(u)}min(e,n){return new To({...this._def,minSize:{value:e,message:U.toString(n)}})}max(e,n){return new To({...this._def,maxSize:{value:e,message:U.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}To.create=(t,e)=>new To({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet,...W(e)});class Gl extends Z{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Gl.create=(t,e)=>new Gl({getter:t,typeName:$.ZodLazy,...W(e)});class wc extends Z{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return P(n,{received:n.data,code:A.invalid_literal,expected:this._def.value}),q}return{status:"valid",value:e.data}}get value(){return this._def.value}}wc.create=(t,e)=>new wc({value:t,typeName:$.ZodLiteral,...W(e)});function am(t,e){return new vr({values:t,typeName:$.ZodEnum,...W(e)})}class vr extends Z{constructor(){super(...arguments),Hr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return P(n,{expected:X.joinValues(r),received:n.parsedType,code:A.invalid_type}),q}if(Oi(this,Hr,"f")||im(this,Hr,new Set(this._def.values),"f"),!Oi(this,Hr,"f").has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return P(n,{received:n.data,code:A.invalid_enum_value,options:r}),q}return ut(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return vr.create(e,{...this._def,...n})}exclude(e,n=this._def){return vr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Hr=new WeakMap;vr.create=am;class kc extends Z{constructor(){super(...arguments),qr.set(this,void 0)}_parse(e){const n=X.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==V.string&&r.parsedType!==V.number){const o=X.objectValues(n);return P(r,{expected:X.joinValues(o),received:r.parsedType,code:A.invalid_type}),q}if(Oi(this,qr,"f")||im(this,qr,new Set(X.getValidEnumValues(this._def.values)),"f"),!Oi(this,qr,"f").has(e.data)){const o=X.objectValues(n);return P(r,{received:r.data,code:A.invalid_enum_value,options:o}),q}return ut(e.data)}get enum(){return this._def.values}}qr=new WeakMap;kc.create=(t,e)=>new kc({values:t,typeName:$.ZodNativeEnum,...W(e)});class Hi extends Z{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==V.promise&&n.common.async===!1)return P(n,{code:A.invalid_type,expected:V.promise,received:n.parsedType}),q;const r=n.parsedType===V.promise?n.data:Promise.resolve(n.data);return ut(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Hi.create=(t,e)=>new Hi({type:t,typeName:$.ZodPromise,...W(e)});class Cr extends Z{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:s=>{P(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){const s=o.transform(r.data,i);if(r.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return q;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?q:d.status==="dirty"||n.value==="dirty"?zr(d.value):d});{if(n.value==="aborted")return q;const u=this._def.schema._parseSync({data:s,path:r.path,parent:r});return u.status==="aborted"?q:u.status==="dirty"||n.value==="dirty"?zr(u.value):u}}if(o.type==="refinement"){const s=u=>{const d=o.refinement(u,i);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?q:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?q:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(o.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!gr(s))return s;const u=o.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>gr(s)?Promise.resolve(o.transform(s.value,i)).then(u=>({status:n.value,value:u})):s);X.assertNever(o)}}Cr.create=(t,e,n)=>new Cr({schema:t,typeName:$.ZodEffects,effect:e,...W(n)});Cr.createWithPreprocess=(t,e,n)=>new Cr({schema:e,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects,...W(n)});class an extends Z{_parse(e){return this._getType(e)===V.undefined?ut(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}an.create=(t,e)=>new an({innerType:t,typeName:$.ZodOptional,...W(e)});class _r extends Z{_parse(e){return this._getType(e)===V.null?ut(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_r.create=(t,e)=>new _r({innerType:t,typeName:$.ZodNullable,...W(e)});class $l extends Z{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===V.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}$l.create=(t,e)=>new $l({innerType:t,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...W(e)});class Bl extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ui(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ht(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ht(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Bl.create=(t,e)=>new Bl({innerType:t,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...W(e)});class Ic extends Z{_parse(e){if(this._getType(e)!==V.nan){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:V.nan,received:r.parsedType}),q}return{status:"valid",value:e.data}}}Ic.create=t=>new Ic({typeName:$.ZodNaN,...W(t)});class uv extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ya extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?q:i.status==="dirty"?(n.dirty(),zr(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?q:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,n){return new Ya({in:e,out:n,typeName:$.ZodPipeline})}}class zl extends Z{_parse(e){const n=this._def.innerType._parse(e),r=o=>(gr(o)&&(o.value=Object.freeze(o.value)),o);return Ui(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}zl.create=(t,e)=>new zl({innerType:t,typeName:$.ZodReadonly,...W(e)});var $;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));const Cn=wt.create,Ac=Rn.create;Dn.create;const cv=Gi.create;yr.create;const Mc=Ul.create;dn.create;const Wr=At.create,dv=Te.create,fv=$i.create;Bi.create;Ln.create;const pv=zi.create,mv=Gl.create,hv=vr.create;Hi.create;an.create;_r.create;const Bn={string:t=>wt.create({...t,coerce:!0}),number:t=>Rn.create({...t,coerce:!0}),boolean:t=>Gi.create({...t,coerce:!0}),bigint:t=>Dn.create({...t,coerce:!0}),date:t=>yr.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gv,yv;function vv(){return{geminiUrl:gv,vertexUrl:yv}}function Cv(t,e,n){var r,o,i;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=vv();return t.vertexai?(o=s.vertexUrl)!==null&&o!==void 0?o:e:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Io{}function G(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];a(f,e.slice(i+1),n[c])}else for(const c of d)a(c,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];a(d[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in t){const i=t[o];return Array.isArray(i)?i.map(s=>l(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nc;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Nc||(Nc={}));var Pc;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Pc||(Pc={}));var Rc;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Rc||(Rc={}));var Dc;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Dc||(Dc={}));var Lc;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Lc||(Lc={}));var Et;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(Et||(Et={}));var Fc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Fc||(Fc={}));var Vc;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Vc||(Vc={}));var Uc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Uc||(Uc={}));var Oc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Oc||(Oc={}));var Gc;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gc||(Gc={}));var $c;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})($c||($c={}));var Bc;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bc||(Bc={}));var qi;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(qi||(qi={}));var zc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zc||(zc={}));var Hl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hl||(Hl={}));var Hc;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hc||(Hc={}));var qc;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(qc||(qc={}));var Wc;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Wc||(Wc={}));var bc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(bc||(bc={}));var Kc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Kc||(Kc={}));var Yc;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Yc||(Yc={}));var Jc;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Jc||(Jc={}));var Zc;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Zc||(Zc={}));var Qc;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Qc||(Qc={}));var Xc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xc||(Xc={}));var jc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jc||(jc={}));var ed;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ed||(ed={}));var td;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(td||(td={}));var nd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(nd||(nd={}));var rd;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(rd||(rd={}));var od;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(od||(od={}));var id;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(id||(id={}));var sd;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sd||(sd={}));var ld;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ld||(ld={}));var ad;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ad||(ad={}));var ud;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ud||(ud={}));var cd;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cd||(cd={}));var dd;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY"})(dd||(dd={}));var tr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(tr||(tr={}));class Ur{get text(){var e,n,r,o,i,s,u,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const m of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[C,g]of Object.entries(m))C!=="text"&&C!=="thought"&&(g!==null||g!==void 0)&&p.push(C);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,c+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,r,o,i,s,u,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,C]of Object.entries(p))m!=="inlineData"&&(C!==null||C!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,o,i,s,u,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,o,i,s,u,d,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,o,i,s,u,d,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class fd{}class pd{}class _v{}class Tv{}class md{}class hd{}class gd{}class xv{}class yd{}class vd{}class Cd{}class Ev{}class ql{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Sv{}class wv{}class kv{get text(){var e,n,r;let o="",i=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,o+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var e,n,r;let o="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class Iv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ae(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function um(t,e){const n=ae(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function cm(t,e){return Array.isArray(e)?e.map(n=>Wi(t,n)):[Wi(t,e)]}function Wi(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Av(t,e){const n=Wi(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Mv(t,e){const n=Wi(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function _d(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function dm(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>_d(t,n)):[_d(t,e)]}function Wl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Td(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xd(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function qe(t,e){if(e==null)throw new Error("ContentUnion is required");return Wl(e)?e:{role:"user",parts:dm(t,e)}}function fm(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=qe(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=qe(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>qe(t,n)):[qe(t,e)]}function vt(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Td(e)||xd(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qe(t,e)]}const n=[],r=[],o=Wl(e[0]);for(const i of e){const s=Wl(i);if(s!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(i);else{if(Td(i)||xd(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return o||n.push({role:"user",parts:dm(t,r)}),n}const Ed=hv(["string","number","integer","object","array","boolean","null"]),Nv=fv([Ed,Wr(Ed)]);function Pv(t=!0){const e=mv(()=>{const n=dv({type:Nv.optional(),format:Cn().optional(),title:Cn().optional(),description:Cn().optional(),default:Mc().optional(),items:e.optional(),minItems:Bn.string().optional(),maxItems:Bn.string().optional(),enum:Wr(Mc()).optional(),properties:pv(Cn(),e).optional(),required:Wr(Cn()).optional(),minProperties:Bn.string().optional(),maxProperties:Bn.string().optional(),propertyOrdering:Wr(Cn()).optional(),minimum:Ac().optional(),maximum:Ac().optional(),minLength:Bn.string().optional(),maxLength:Bn.string().optional(),pattern:Cn().optional(),anyOf:Wr(e).optional(),additionalProperties:cv().optional()});return t?n.strict():n});return e}function Rv(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.keys(Et).includes(n[0].toUpperCase())?Et[n[0].toUpperCase()]:Et.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.keys(Et).includes(r.toUpperCase())?Et[r.toUpperCase()]:Et.TYPE_UNSPECIFIED})}}function to(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Rv(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.keys(Et).includes(u.toUpperCase())?u.toUpperCase():Et.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=to(u);else if(r.includes(s)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(to(c))}e[s]=d}else if(o.includes(s)){const d={};for(const[c,f]of Object.entries(u))d[c]=to(f);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=u}return e}function bi(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=Pv().parse(e);return to(n)}else return to(e)}function pm(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function mm(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function cs(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=bi(t,n.parameters)),n.response&&(n.response=bi(t,n.response));return e}function ds(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function Dv(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function hn(t,e){if(typeof e!="string")throw new Error("name must be a string");return Dv(t,e,"cachedContents")}function hm(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function gn(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Lv(t){return t!=null&&typeof t=="object"&&"name"in t}function Fv(t){return t!=null&&typeof t=="object"&&"video"in t}function Vv(t){return t!=null&&typeof t=="object"&&"uri"in t}function gm(t,e){var n;let r;if(Lv(e)&&(r=e.name),!(Vv(e)&&(r=e.uri,r===void 0))&&!(Fv(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function ym(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function vm(t,e){for(const n of["models","tunedModels","publisherModels"])if(Uv(e,n))return e[n];return[]}function Uv(t,e){return t!==null&&typeof t=="object"&&e in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ov(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function Gv(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(n,["data"],r);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function $v(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],Ov(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],Gv(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function Sd(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$v(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function Bv(t,e){const n={},r=l(e,["behavior"]);r!=null&&a(n,["behavior"],r);const o=l(e,["description"]);o!=null&&a(n,["description"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function zv(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const o=l(e,["endTime"]);return o!=null&&a(n,["endTime"],o),n}function Hv(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],zv(t,r)),n}function qv(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["dynamicThreshold"]);return o!=null&&a(n,["dynamicThreshold"],o),n}function Wv(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],qv(t,r)),n}function bv(){return{}}function Kv(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>Bv(t,c))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],Hv(t,o));const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(n,["googleSearchRetrieval"],Wv(t,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],bv());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function Yv(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(n,["allowedFunctionNames"],o),n}function Jv(t,e){const n={},r=l(e,["latitude"]);r!=null&&a(n,["latitude"],r);const o=l(e,["longitude"]);return o!=null&&a(n,["longitude"],o),n}function Zv(t,e){const n={},r=l(e,["latLng"]);return r!=null&&a(n,["latLng"],Jv(t,r)),n}function Qv(t,e){const n={},r=l(e,["functionCallingConfig"]);r!=null&&a(n,["functionCallingConfig"],Yv(t,r));const o=l(e,["retrievalConfig"]);return o!=null&&a(n,["retrievalConfig"],Zv(t,o)),n}function Xv(t,e,n){const r={},o=l(e,["ttl"]);n!==void 0&&o!=null&&a(n,["ttl"],o);const i=l(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const s=l(e,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(e,["contents"]);if(n!==void 0&&u!=null){let p=vt(t,u);Array.isArray(p)&&(p=p.map(m=>Sd(t,m))),a(n,["contents"],p)}const d=l(e,["systemInstruction"]);n!==void 0&&d!=null&&a(n,["systemInstruction"],Sd(t,qe(t,d)));const c=l(e,["tools"]);if(n!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>Kv(t,m))),a(n,["tools"],p)}const f=l(e,["toolConfig"]);if(n!==void 0&&f!=null&&a(n,["toolConfig"],Qv(t,f)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function jv(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],um(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],Xv(t,o,n)),n}function e0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],hn(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function t0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],hn(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function n0(t,e,n){const r={},o=l(e,["ttl"]);n!==void 0&&o!=null&&a(n,["ttl"],o);const i=l(e,["expireTime"]);return n!==void 0&&i!=null&&a(n,["expireTime"],i),r}function r0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],hn(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],n0(t,o,n)),n}function o0(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),r}function i0(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],o0(t,r,n)),n}function s0(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function l0(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const o=l(e,["data"]);o!=null&&a(n,["data"],o);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function a0(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],s0(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],l0(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function wd(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>a0(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function u0(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(e,["description"]);r!=null&&a(n,["description"],r);const o=l(e,["name"]);o!=null&&a(n,["name"],o);const i=l(e,["parameters"]);i!=null&&a(n,["parameters"],i);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function c0(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const o=l(e,["endTime"]);return o!=null&&a(n,["endTime"],o),n}function d0(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],c0(t,r)),n}function f0(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["dynamicThreshold"]);return o!=null&&a(n,["dynamicThreshold"],o),n}function p0(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],f0(t,r)),n}function m0(){return{}}function h0(t,e){const n={},r=l(e,["apiKeyString"]);return r!=null&&a(n,["apiKeyString"],r),n}function g0(t,e){const n={},r=l(e,["apiKeyConfig"]);r!=null&&a(n,["apiKeyConfig"],h0(t,r));const o=l(e,["authType"]);o!=null&&a(n,["authType"],o);const i=l(e,["googleServiceAccountConfig"]);i!=null&&a(n,["googleServiceAccountConfig"],i);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function y0(t,e){const n={},r=l(e,["authConfig"]);return r!=null&&a(n,["authConfig"],g0(t,r)),n}function v0(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>u0(t,p))),a(n,["functionDeclarations"],f)}const o=l(e,["retrieval"]);o!=null&&a(n,["retrieval"],o);const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],d0(t,i));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],p0(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],m0());const d=l(e,["googleMaps"]);if(d!=null&&a(n,["googleMaps"],y0(t,d)),l(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=l(e,["codeExecution"]);return c!=null&&a(n,["codeExecution"],c),n}function C0(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(n,["allowedFunctionNames"],o),n}function _0(t,e){const n={},r=l(e,["latitude"]);r!=null&&a(n,["latitude"],r);const o=l(e,["longitude"]);return o!=null&&a(n,["longitude"],o),n}function T0(t,e){const n={},r=l(e,["latLng"]);return r!=null&&a(n,["latLng"],_0(t,r)),n}function x0(t,e){const n={},r=l(e,["functionCallingConfig"]);r!=null&&a(n,["functionCallingConfig"],C0(t,r));const o=l(e,["retrievalConfig"]);return o!=null&&a(n,["retrievalConfig"],T0(t,o)),n}function E0(t,e,n){const r={},o=l(e,["ttl"]);n!==void 0&&o!=null&&a(n,["ttl"],o);const i=l(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const s=l(e,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(e,["contents"]);if(n!==void 0&&u!=null){let m=vt(t,u);Array.isArray(m)&&(m=m.map(C=>wd(t,C))),a(n,["contents"],m)}const d=l(e,["systemInstruction"]);n!==void 0&&d!=null&&a(n,["systemInstruction"],wd(t,qe(t,d)));const c=l(e,["tools"]);if(n!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(C=>v0(t,C))),a(n,["tools"],m)}const f=l(e,["toolConfig"]);n!==void 0&&f!=null&&a(n,["toolConfig"],x0(t,f));const p=l(e,["kmsKeyName"]);return n!==void 0&&p!=null&&a(n,["encryption_spec","kmsKeyName"],p),r}function S0(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],um(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],E0(t,o,n)),n}function w0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],hn(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function k0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],hn(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function I0(t,e,n){const r={},o=l(e,["ttl"]);n!==void 0&&o!=null&&a(n,["ttl"],o);const i=l(e,["expireTime"]);return n!==void 0&&i!=null&&a(n,["expireTime"],i),r}function A0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],hn(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],I0(t,o,n)),n}function M0(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),r}function N0(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],M0(t,r,n)),n}function li(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const i=l(e,["model"]);i!=null&&a(n,["model"],i);const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["updateTime"]);u!=null&&a(n,["updateTime"],u);const d=l(e,["expireTime"]);d!=null&&a(n,["expireTime"],d);const c=l(e,["usageMetadata"]);return c!=null&&a(n,["usageMetadata"],c),n}function P0(){return{}}function R0(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const o=l(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>li(t,s))),a(n,["cachedContents"],i)}return n}function ai(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const i=l(e,["model"]);i!=null&&a(n,["model"],i);const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["updateTime"]);u!=null&&a(n,["updateTime"],u);const d=l(e,["expireTime"]);d!=null&&a(n,["expireTime"],d);const c=l(e,["usageMetadata"]);return c!=null&&a(n,["usageMetadata"],c),n}function D0(){return{}}function L0(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const o=l(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ai(t,s))),a(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Tr||(Tr={}));class fs{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F0 extends Io{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fs(Tr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=S0(this.apiClient,e);return u=G("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>ai(this.apiClient,f))}else{const c=jv(this.apiClient,e);return u=G("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>li(this.apiClient,f))}}async get(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=w0(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>ai(this.apiClient,f))}else{const c=e0(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>li(this.apiClient,f))}}async delete(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=k0(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(()=>{const f=D0(),p=new vd;return Object.assign(p,f),p})}else{const c=t0(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(()=>{const f=P0(),p=new vd;return Object.assign(p,f),p})}}async update(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=A0(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>ai(this.apiClient,f))}else{const c=r0(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>li(this.apiClient,f))}}async listInternal(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=N0(this.apiClient,e);return u=G("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=L0(this.apiClient,f),m=new Cd;return Object.assign(m,p),m})}else{const c=i0(this.apiClient,e);return u=G("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=R0(this.apiClient,f),m=new Cd;return Object.assign(m,p),m})}}}function kd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t){return this instanceof me?(this.v=t,this):new me(t)}function no(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(C){return function(g){return Promise.resolve(g).then(C,p)}}function u(C,g){r[C]&&(o[C]=function(T){return new Promise(function(S,v){i.push([C,T,S,v])>1||d(C,T)})},g&&(o[C]=g(o[C])))}function d(C,g){try{c(r[C](g))}catch(T){m(i[0][3],T)}}function c(C){C.value instanceof me?Promise.resolve(C.value.v).then(f,p):m(i[0][2],C)}function f(C){d("next",C)}function p(C){d("throw",C)}function m(C,g){C(g),i.shift(),i.length&&d(i[0][0],i[0][1])}}function ui(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kd=="function"?kd(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(u,d){s=t[i](s),o(u,d,s.done,s.value)})}}function o(i,s,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V0(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Cm(n)}function Cm(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function U0(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Id(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let i=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),i&&!Cm(t[r])&&(i=!1),r++;i?e.push(...o):e.pop()}return e}class O0{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new G0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class G0{constructor(e,n,r,o={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),U0(i)}async sendMessage(e){var n;await this.sendPromise;const r=qe(this.apiClient,e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const d=await o,c=(s=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);const C=c?[c]:[];this.recordHistory(r,C,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=qe(this.apiClient,e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?Id(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,o;return no(this,arguments,function*(){var s,u,d,c;const f=[];try{for(var p=!0,m=ui(e),C;C=yield me(m.next()),s=C.done,!s;p=!0){c=C.value,p=!1;const g=c;if(V0(g)){const T=(o=(r=g.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;T!==void 0&&f.push(T)}yield yield me(g)}}catch(g){u={error:g}}finally{try{!p&&!s&&(d=m.return)&&(yield me(d.call(m)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(i=>i.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Id(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $0(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),r}function B0(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],$0(t,r,n)),n}function z0(t,e){const n={},r=l(e,["details"]);r!=null&&a(n,["details"],r);const o=l(e,["message"]);o!=null&&a(n,["message"],o);const i=l(e,["code"]);return i!=null&&a(n,["code"],i),n}function H0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const i=l(e,["mimeType"]);i!=null&&a(n,["mimeType"],i);const s=l(e,["sizeBytes"]);s!=null&&a(n,["sizeBytes"],s);const u=l(e,["createTime"]);u!=null&&a(n,["createTime"],u);const d=l(e,["expirationTime"]);d!=null&&a(n,["expirationTime"],d);const c=l(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=l(e,["sha256Hash"]);f!=null&&a(n,["sha256Hash"],f);const p=l(e,["uri"]);p!=null&&a(n,["uri"],p);const m=l(e,["downloadUri"]);m!=null&&a(n,["downloadUri"],m);const C=l(e,["state"]);C!=null&&a(n,["state"],C);const g=l(e,["source"]);g!=null&&a(n,["source"],g);const T=l(e,["videoMetadata"]);T!=null&&a(n,["videoMetadata"],T);const S=l(e,["error"]);return S!=null&&a(n,["error"],z0(t,S)),n}function q0(t,e){const n={},r=l(e,["file"]);r!=null&&a(n,["file"],H0(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function W0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","file"],gm(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function b0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","file"],gm(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function K0(t,e){const n={},r=l(e,["details"]);r!=null&&a(n,["details"],r);const o=l(e,["message"]);o!=null&&a(n,["message"],o);const i=l(e,["code"]);return i!=null&&a(n,["code"],i),n}function bl(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const i=l(e,["mimeType"]);i!=null&&a(n,["mimeType"],i);const s=l(e,["sizeBytes"]);s!=null&&a(n,["sizeBytes"],s);const u=l(e,["createTime"]);u!=null&&a(n,["createTime"],u);const d=l(e,["expirationTime"]);d!=null&&a(n,["expirationTime"],d);const c=l(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=l(e,["sha256Hash"]);f!=null&&a(n,["sha256Hash"],f);const p=l(e,["uri"]);p!=null&&a(n,["uri"],p);const m=l(e,["downloadUri"]);m!=null&&a(n,["downloadUri"],m);const C=l(e,["state"]);C!=null&&a(n,["state"],C);const g=l(e,["source"]);g!=null&&a(n,["source"],g);const T=l(e,["videoMetadata"]);T!=null&&a(n,["videoMetadata"],T);const S=l(e,["error"]);return S!=null&&a(n,["error"],K0(t,S)),n}function Y0(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const o=l(e,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>bl(t,s))),a(n,["files"],i)}return n}function J0(){return{}}function Z0(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q0 extends Io{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fs(Tr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>bl(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=B0(this.apiClient,e);return i=G("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Y0(this.apiClient,d),f=new Ev;return Object.assign(f,c),f})}}async createInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q0(this.apiClient,e);return i=G("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(()=>{const d=J0(),c=new Sv;return Object.assign(c,d),c})}}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=W0(this.apiClient,e);return i=G("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>bl(this.apiClient,d))}}async delete(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=b0(this.apiClient,e);return i=G("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(()=>{const d=Z0(),c=new wv;return Object.assign(c,d),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X0(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function j0(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function _m(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],X0(t,r)),n}function eC(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],j0(t,r)),n}function tC(t,e){const n={},r=l(e,["speaker"]);r!=null&&a(n,["speaker"],r);const o=l(e,["voiceConfig"]);return o!=null&&a(n,["voiceConfig"],_m(t,o)),n}function nC(t,e){const n={},r=l(e,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>tC(t,i))),a(n,["speakerVoiceConfigs"],o)}return n}function rC(t,e){const n={},r=l(e,["voiceConfig"]);r!=null&&a(n,["voiceConfig"],_m(t,r));const o=l(e,["multiSpeakerVoiceConfig"]);o!=null&&a(n,["multiSpeakerVoiceConfig"],nC(t,o));const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function oC(t,e){const n={},r=l(e,["voiceConfig"]);if(r!=null&&a(n,["voiceConfig"],eC(t,r)),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(e,["languageCode"]);return o!=null&&a(n,["languageCode"],o),n}function iC(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function sC(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function lC(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(n,["data"],r);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function aC(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const o=l(e,["data"]);o!=null&&a(n,["data"],o);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function uC(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],iC(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],lC(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function cC(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],sC(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],aC(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function dC(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>uC(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function fC(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>cC(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function pC(t,e){const n={},r=l(e,["behavior"]);r!=null&&a(n,["behavior"],r);const o=l(e,["description"]);o!=null&&a(n,["description"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function mC(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(e,["description"]);r!=null&&a(n,["description"],r);const o=l(e,["name"]);o!=null&&a(n,["name"],o);const i=l(e,["parameters"]);i!=null&&a(n,["parameters"],i);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function hC(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const o=l(e,["endTime"]);return o!=null&&a(n,["endTime"],o),n}function gC(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const o=l(e,["endTime"]);return o!=null&&a(n,["endTime"],o),n}function yC(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],hC(t,r)),n}function vC(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],gC(t,r)),n}function CC(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["dynamicThreshold"]);return o!=null&&a(n,["dynamicThreshold"],o),n}function _C(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["dynamicThreshold"]);return o!=null&&a(n,["dynamicThreshold"],o),n}function TC(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],CC(t,r)),n}function xC(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],_C(t,r)),n}function EC(){return{}}function SC(t,e){const n={},r=l(e,["apiKeyString"]);return r!=null&&a(n,["apiKeyString"],r),n}function wC(t,e){const n={},r=l(e,["apiKeyConfig"]);r!=null&&a(n,["apiKeyConfig"],SC(t,r));const o=l(e,["authType"]);o!=null&&a(n,["authType"],o);const i=l(e,["googleServiceAccountConfig"]);i!=null&&a(n,["googleServiceAccountConfig"],i);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function kC(t,e){const n={},r=l(e,["authConfig"]);return r!=null&&a(n,["authConfig"],wC(t,r)),n}function IC(){return{}}function AC(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>pC(t,c))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],yC(t,o));const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(n,["googleSearchRetrieval"],TC(t,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],IC());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function MC(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>mC(t,p))),a(n,["functionDeclarations"],f)}const o=l(e,["retrieval"]);o!=null&&a(n,["retrieval"],o);const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],vC(t,i));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],xC(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],EC());const d=l(e,["googleMaps"]);if(d!=null&&a(n,["googleMaps"],kC(t,d)),l(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=l(e,["codeExecution"]);return c!=null&&a(n,["codeExecution"],c),n}function NC(t,e){const n={},r=l(e,["handle"]);if(r!=null&&a(n,["handle"],r),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function PC(t,e){const n={},r=l(e,["handle"]);r!=null&&a(n,["handle"],r);const o=l(e,["transparent"]);return o!=null&&a(n,["transparent"],o),n}function Ad(){return{}}function Md(){return{}}function RC(t,e){const n={},r=l(e,["disabled"]);r!=null&&a(n,["disabled"],r);const o=l(e,["startOfSpeechSensitivity"]);o!=null&&a(n,["startOfSpeechSensitivity"],o);const i=l(e,["endOfSpeechSensitivity"]);i!=null&&a(n,["endOfSpeechSensitivity"],i);const s=l(e,["prefixPaddingMs"]);s!=null&&a(n,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function DC(t,e){const n={},r=l(e,["disabled"]);r!=null&&a(n,["disabled"],r);const o=l(e,["startOfSpeechSensitivity"]);o!=null&&a(n,["startOfSpeechSensitivity"],o);const i=l(e,["endOfSpeechSensitivity"]);i!=null&&a(n,["endOfSpeechSensitivity"],i);const s=l(e,["prefixPaddingMs"]);s!=null&&a(n,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function LC(t,e){const n={},r=l(e,["automaticActivityDetection"]);r!=null&&a(n,["automaticActivityDetection"],RC(t,r));const o=l(e,["activityHandling"]);o!=null&&a(n,["activityHandling"],o);const i=l(e,["turnCoverage"]);return i!=null&&a(n,["turnCoverage"],i),n}function FC(t,e){const n={},r=l(e,["automaticActivityDetection"]);r!=null&&a(n,["automaticActivityDetection"],DC(t,r));const o=l(e,["activityHandling"]);o!=null&&a(n,["activityHandling"],o);const i=l(e,["turnCoverage"]);return i!=null&&a(n,["turnCoverage"],i),n}function VC(t,e){const n={},r=l(e,["targetTokens"]);return r!=null&&a(n,["targetTokens"],r),n}function UC(t,e){const n={},r=l(e,["targetTokens"]);return r!=null&&a(n,["targetTokens"],r),n}function OC(t,e){const n={},r=l(e,["triggerTokens"]);r!=null&&a(n,["triggerTokens"],r);const o=l(e,["slidingWindow"]);return o!=null&&a(n,["slidingWindow"],VC(t,o)),n}function GC(t,e){const n={},r=l(e,["triggerTokens"]);r!=null&&a(n,["triggerTokens"],r);const o=l(e,["slidingWindow"]);return o!=null&&a(n,["slidingWindow"],UC(t,o)),n}function $C(t,e){const n={},r=l(e,["proactiveAudio"]);return r!=null&&a(n,["proactiveAudio"],r),n}function BC(t,e){const n={},r=l(e,["proactiveAudio"]);return r!=null&&a(n,["proactiveAudio"],r),n}function zC(t,e,n){const r={},o=l(e,["generationConfig"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig"],o);const i=l(e,["responseModalities"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","responseModalities"],i);const s=l(e,["temperature"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=l(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const c=l(e,["maxOutputTokens"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","maxOutputTokens"],c);const f=l(e,["mediaResolution"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","seed"],p);const m=l(e,["speechConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","speechConfig"],rC(t,mm(t,m)));const C=l(e,["enableAffectiveDialog"]);n!==void 0&&C!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],C);const g=l(e,["systemInstruction"]);n!==void 0&&g!=null&&a(n,["setup","systemInstruction"],dC(t,qe(t,g)));const T=l(e,["tools"]);if(n!==void 0&&T!=null){let E=ds(t,T);Array.isArray(E)&&(E=E.map(I=>AC(t,cs(t,I)))),a(n,["setup","tools"],E)}const S=l(e,["sessionResumption"]);n!==void 0&&S!=null&&a(n,["setup","sessionResumption"],NC(t,S));const v=l(e,["inputAudioTranscription"]);n!==void 0&&v!=null&&a(n,["setup","inputAudioTranscription"],Ad());const h=l(e,["outputAudioTranscription"]);n!==void 0&&h!=null&&a(n,["setup","outputAudioTranscription"],Ad());const _=l(e,["realtimeInputConfig"]);n!==void 0&&_!=null&&a(n,["setup","realtimeInputConfig"],LC(t,_));const x=l(e,["contextWindowCompression"]);n!==void 0&&x!=null&&a(n,["setup","contextWindowCompression"],OC(t,x));const w=l(e,["proactivity"]);return n!==void 0&&w!=null&&a(n,["setup","proactivity"],$C(t,w)),r}function HC(t,e,n){const r={},o=l(e,["generationConfig"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig"],o);const i=l(e,["responseModalities"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","responseModalities"],i);const s=l(e,["temperature"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=l(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const c=l(e,["maxOutputTokens"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","maxOutputTokens"],c);const f=l(e,["mediaResolution"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","seed"],p);const m=l(e,["speechConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","speechConfig"],oC(t,mm(t,m)));const C=l(e,["enableAffectiveDialog"]);n!==void 0&&C!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],C);const g=l(e,["systemInstruction"]);n!==void 0&&g!=null&&a(n,["setup","systemInstruction"],fC(t,qe(t,g)));const T=l(e,["tools"]);if(n!==void 0&&T!=null){let E=ds(t,T);Array.isArray(E)&&(E=E.map(I=>MC(t,cs(t,I)))),a(n,["setup","tools"],E)}const S=l(e,["sessionResumption"]);n!==void 0&&S!=null&&a(n,["setup","sessionResumption"],PC(t,S));const v=l(e,["inputAudioTranscription"]);n!==void 0&&v!=null&&a(n,["setup","inputAudioTranscription"],Md());const h=l(e,["outputAudioTranscription"]);n!==void 0&&h!=null&&a(n,["setup","outputAudioTranscription"],Md());const _=l(e,["realtimeInputConfig"]);n!==void 0&&_!=null&&a(n,["setup","realtimeInputConfig"],FC(t,_));const x=l(e,["contextWindowCompression"]);n!==void 0&&x!=null&&a(n,["setup","contextWindowCompression"],GC(t,x));const w=l(e,["proactivity"]);return n!==void 0&&w!=null&&a(n,["setup","proactivity"],BC(t,w)),r}function qC(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],ae(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],zC(t,o,n)),n}function WC(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],ae(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],HC(t,o,n)),n}function bC(){return{}}function KC(){return{}}function YC(){return{}}function JC(){return{}}function ZC(t,e){const n={},r=l(e,["media"]);r!=null&&a(n,["mediaChunks"],cm(t,r));const o=l(e,["audio"]);o!=null&&a(n,["audio"],Mv(t,o));const i=l(e,["audioStreamEnd"]);i!=null&&a(n,["audioStreamEnd"],i);const s=l(e,["video"]);s!=null&&a(n,["video"],Av(t,s));const u=l(e,["text"]);return u!=null&&a(n,["text"],u),l(e,["activityStart"])!=null&&a(n,["activityStart"],bC()),l(e,["activityEnd"])!=null&&a(n,["activityEnd"],YC()),n}function QC(t,e){const n={},r=l(e,["media"]);if(r!=null&&a(n,["mediaChunks"],cm(t,r)),l(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=l(e,["audioStreamEnd"]);if(o!=null&&a(n,["audioStreamEnd"],o),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(l(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return l(e,["activityStart"])!=null&&a(n,["activityStart"],KC()),l(e,["activityEnd"])!=null&&a(n,["activityEnd"],JC()),n}function Tm(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const o=l(e,["weight"]);return o!=null&&a(n,["weight"],o),n}function XC(t,e){const n={},r=l(e,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Tm(t,i))),a(n,["weightedPrompts"],o)}return n}function xm(t,e){const n={},r=l(e,["temperature"]);r!=null&&a(n,["temperature"],r);const o=l(e,["topK"]);o!=null&&a(n,["topK"],o);const i=l(e,["seed"]);i!=null&&a(n,["seed"],i);const s=l(e,["guidance"]);s!=null&&a(n,["guidance"],s);const u=l(e,["bpm"]);u!=null&&a(n,["bpm"],u);const d=l(e,["density"]);d!=null&&a(n,["density"],d);const c=l(e,["brightness"]);c!=null&&a(n,["brightness"],c);const f=l(e,["scale"]);f!=null&&a(n,["scale"],f);const p=l(e,["muteBass"]);p!=null&&a(n,["muteBass"],p);const m=l(e,["muteDrums"]);m!=null&&a(n,["muteDrums"],m);const C=l(e,["onlyBassAndDrums"]);C!=null&&a(n,["onlyBassAndDrums"],C);const g=l(e,["musicGenerationMode"]);return g!=null&&a(n,["musicGenerationMode"],g),n}function jC(t,e){const n={},r=l(e,["musicGenerationConfig"]);return r!=null&&a(n,["musicGenerationConfig"],xm(t,r)),n}function Em(t,e){const n={},r=l(e,["model"]);return r!=null&&a(n,["model"],r),n}function Sm(t,e){const n={},r=l(e,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Tm(t,i))),a(n,["weightedPrompts"],o)}return n}function Kl(t,e){const n={},r=l(e,["setup"]);r!=null&&a(n,["setup"],Em(t,r));const o=l(e,["clientContent"]);o!=null&&a(n,["clientContent"],Sm(t,o));const i=l(e,["musicGenerationConfig"]);i!=null&&a(n,["musicGenerationConfig"],xm(t,i));const s=l(e,["playbackControl"]);return s!=null&&a(n,["playbackControl"],s),n}function e_(){return{}}function t_(){return{}}function n_(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function r_(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function o_(t,e){const n={},r=l(e,["data"]);r!=null&&a(n,["data"],r);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function i_(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const o=l(e,["data"]);o!=null&&a(n,["data"],o);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function s_(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],n_(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],o_(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function l_(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],r_(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],i_(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function a_(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s_(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function u_(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>l_(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function Nd(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const o=l(e,["finished"]);return o!=null&&a(n,["finished"],o),n}function Pd(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const o=l(e,["finished"]);return o!=null&&a(n,["finished"],o),n}function c_(t,e){const n={},r=l(e,["retrievedUrl"]);r!=null&&a(n,["retrievedUrl"],r);const o=l(e,["urlRetrievalStatus"]);return o!=null&&a(n,["urlRetrievalStatus"],o),n}function d_(t,e){const n={},r=l(e,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>c_(t,i))),a(n,["urlMetadata"],o)}return n}function f_(t,e){const n={},r=l(e,["modelTurn"]);r!=null&&a(n,["modelTurn"],a_(t,r));const o=l(e,["turnComplete"]);o!=null&&a(n,["turnComplete"],o);const i=l(e,["interrupted"]);i!=null&&a(n,["interrupted"],i);const s=l(e,["groundingMetadata"]);s!=null&&a(n,["groundingMetadata"],s);const u=l(e,["generationComplete"]);u!=null&&a(n,["generationComplete"],u);const d=l(e,["inputTranscription"]);d!=null&&a(n,["inputTranscription"],Nd(t,d));const c=l(e,["outputTranscription"]);c!=null&&a(n,["outputTranscription"],Nd(t,c));const f=l(e,["urlContextMetadata"]);return f!=null&&a(n,["urlContextMetadata"],d_(t,f)),n}function p_(t,e){const n={},r=l(e,["modelTurn"]);r!=null&&a(n,["modelTurn"],u_(t,r));const o=l(e,["turnComplete"]);o!=null&&a(n,["turnComplete"],o);const i=l(e,["interrupted"]);i!=null&&a(n,["interrupted"],i);const s=l(e,["groundingMetadata"]);s!=null&&a(n,["groundingMetadata"],s);const u=l(e,["generationComplete"]);u!=null&&a(n,["generationComplete"],u);const d=l(e,["inputTranscription"]);d!=null&&a(n,["inputTranscription"],Pd(t,d));const c=l(e,["outputTranscription"]);return c!=null&&a(n,["outputTranscription"],Pd(t,c)),n}function m_(t,e){const n={},r=l(e,["id"]);r!=null&&a(n,["id"],r);const o=l(e,["args"]);o!=null&&a(n,["args"],o);const i=l(e,["name"]);return i!=null&&a(n,["name"],i),n}function h_(t,e){const n={},r=l(e,["args"]);r!=null&&a(n,["args"],r);const o=l(e,["name"]);return o!=null&&a(n,["name"],o),n}function g_(t,e){const n={},r=l(e,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>m_(t,i))),a(n,["functionCalls"],o)}return n}function y_(t,e){const n={},r=l(e,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>h_(t,i))),a(n,["functionCalls"],o)}return n}function v_(t,e){const n={},r=l(e,["ids"]);return r!=null&&a(n,["ids"],r),n}function C_(t,e){const n={},r=l(e,["ids"]);return r!=null&&a(n,["ids"],r),n}function Ko(t,e){const n={},r=l(e,["modality"]);r!=null&&a(n,["modality"],r);const o=l(e,["tokenCount"]);return o!=null&&a(n,["tokenCount"],o),n}function Yo(t,e){const n={},r=l(e,["modality"]);r!=null&&a(n,["modality"],r);const o=l(e,["tokenCount"]);return o!=null&&a(n,["tokenCount"],o),n}function __(t,e){const n={},r=l(e,["promptTokenCount"]);r!=null&&a(n,["promptTokenCount"],r);const o=l(e,["cachedContentTokenCount"]);o!=null&&a(n,["cachedContentTokenCount"],o);const i=l(e,["responseTokenCount"]);i!=null&&a(n,["responseTokenCount"],i);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&a(n,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(n,["thoughtsTokenCount"],u);const d=l(e,["totalTokenCount"]);d!=null&&a(n,["totalTokenCount"],d);const c=l(e,["promptTokensDetails"]);if(c!=null){let C=c;Array.isArray(C)&&(C=C.map(g=>Ko(t,g))),a(n,["promptTokensDetails"],C)}const f=l(e,["cacheTokensDetails"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(g=>Ko(t,g))),a(n,["cacheTokensDetails"],C)}const p=l(e,["responseTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(g=>Ko(t,g))),a(n,["responseTokensDetails"],C)}const m=l(e,["toolUsePromptTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(g=>Ko(t,g))),a(n,["toolUsePromptTokensDetails"],C)}return n}function T_(t,e){const n={},r=l(e,["promptTokenCount"]);r!=null&&a(n,["promptTokenCount"],r);const o=l(e,["cachedContentTokenCount"]);o!=null&&a(n,["cachedContentTokenCount"],o);const i=l(e,["candidatesTokenCount"]);i!=null&&a(n,["responseTokenCount"],i);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&a(n,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(n,["thoughtsTokenCount"],u);const d=l(e,["totalTokenCount"]);d!=null&&a(n,["totalTokenCount"],d);const c=l(e,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(T=>Yo(t,T))),a(n,["promptTokensDetails"],g)}const f=l(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(T=>Yo(t,T))),a(n,["cacheTokensDetails"],g)}const p=l(e,["candidatesTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(T=>Yo(t,T))),a(n,["responseTokensDetails"],g)}const m=l(e,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(T=>Yo(t,T))),a(n,["toolUsePromptTokensDetails"],g)}const C=l(e,["trafficType"]);return C!=null&&a(n,["trafficType"],C),n}function x_(t,e){const n={},r=l(e,["timeLeft"]);return r!=null&&a(n,["timeLeft"],r),n}function E_(t,e){const n={},r=l(e,["timeLeft"]);return r!=null&&a(n,["timeLeft"],r),n}function S_(t,e){const n={},r=l(e,["newHandle"]);r!=null&&a(n,["newHandle"],r);const o=l(e,["resumable"]);o!=null&&a(n,["resumable"],o);const i=l(e,["lastConsumedClientMessageIndex"]);return i!=null&&a(n,["lastConsumedClientMessageIndex"],i),n}function w_(t,e){const n={},r=l(e,["newHandle"]);r!=null&&a(n,["newHandle"],r);const o=l(e,["resumable"]);o!=null&&a(n,["resumable"],o);const i=l(e,["lastConsumedClientMessageIndex"]);return i!=null&&a(n,["lastConsumedClientMessageIndex"],i),n}function k_(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],e_());const o=l(e,["serverContent"]);o!=null&&a(n,["serverContent"],f_(t,o));const i=l(e,["toolCall"]);i!=null&&a(n,["toolCall"],g_(t,i));const s=l(e,["toolCallCancellation"]);s!=null&&a(n,["toolCallCancellation"],v_(t,s));const u=l(e,["usageMetadata"]);u!=null&&a(n,["usageMetadata"],__(t,u));const d=l(e,["goAway"]);d!=null&&a(n,["goAway"],x_(t,d));const c=l(e,["sessionResumptionUpdate"]);return c!=null&&a(n,["sessionResumptionUpdate"],S_(t,c)),n}function I_(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],t_());const o=l(e,["serverContent"]);o!=null&&a(n,["serverContent"],p_(t,o));const i=l(e,["toolCall"]);i!=null&&a(n,["toolCall"],y_(t,i));const s=l(e,["toolCallCancellation"]);s!=null&&a(n,["toolCallCancellation"],C_(t,s));const u=l(e,["usageMetadata"]);u!=null&&a(n,["usageMetadata"],T_(t,u));const d=l(e,["goAway"]);d!=null&&a(n,["goAway"],E_(t,d));const c=l(e,["sessionResumptionUpdate"]);return c!=null&&a(n,["sessionResumptionUpdate"],w_(t,c)),n}function A_(){return{}}function M_(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const o=l(e,["weight"]);return o!=null&&a(n,["weight"],o),n}function N_(t,e){const n={},r=l(e,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>M_(t,i))),a(n,["weightedPrompts"],o)}return n}function P_(t,e){const n={},r=l(e,["temperature"]);r!=null&&a(n,["temperature"],r);const o=l(e,["topK"]);o!=null&&a(n,["topK"],o);const i=l(e,["seed"]);i!=null&&a(n,["seed"],i);const s=l(e,["guidance"]);s!=null&&a(n,["guidance"],s);const u=l(e,["bpm"]);u!=null&&a(n,["bpm"],u);const d=l(e,["density"]);d!=null&&a(n,["density"],d);const c=l(e,["brightness"]);c!=null&&a(n,["brightness"],c);const f=l(e,["scale"]);f!=null&&a(n,["scale"],f);const p=l(e,["muteBass"]);p!=null&&a(n,["muteBass"],p);const m=l(e,["muteDrums"]);m!=null&&a(n,["muteDrums"],m);const C=l(e,["onlyBassAndDrums"]);C!=null&&a(n,["onlyBassAndDrums"],C);const g=l(e,["musicGenerationMode"]);return g!=null&&a(n,["musicGenerationMode"],g),n}function R_(t,e){const n={},r=l(e,["clientContent"]);r!=null&&a(n,["clientContent"],N_(t,r));const o=l(e,["musicGenerationConfig"]);return o!=null&&a(n,["musicGenerationConfig"],P_(t,o)),n}function D_(t,e){const n={},r=l(e,["data"]);r!=null&&a(n,["data"],r);const o=l(e,["mimeType"]);o!=null&&a(n,["mimeType"],o);const i=l(e,["sourceMetadata"]);return i!=null&&a(n,["sourceMetadata"],R_(t,i)),n}function L_(t,e){const n={},r=l(e,["audioChunks"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>D_(t,i))),a(n,["audioChunks"],o)}return n}function F_(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const o=l(e,["filteredReason"]);return o!=null&&a(n,["filteredReason"],o),n}function V_(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],A_());const o=l(e,["serverContent"]);o!=null&&a(n,["serverContent"],L_(t,o));const i=l(e,["filteredPrompt"]);return i!=null&&a(n,["filteredPrompt"],F_(t,i)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U_(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function O_(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(n,["data"],r);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function G_(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],U_(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],O_(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function ps(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>G_(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function $_(t,e){const n={};if(l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(e,["category"]);r!=null&&a(n,["category"],r);const o=l(e,["threshold"]);return o!=null&&a(n,["threshold"],o),n}function B_(t,e){const n={},r=l(e,["behavior"]);r!=null&&a(n,["behavior"],r);const o=l(e,["description"]);o!=null&&a(n,["description"],o);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function z_(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const o=l(e,["endTime"]);return o!=null&&a(n,["endTime"],o),n}function H_(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],z_(t,r)),n}function q_(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["dynamicThreshold"]);return o!=null&&a(n,["dynamicThreshold"],o),n}function W_(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],q_(t,r)),n}function b_(){return{}}function K_(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>B_(t,c))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],H_(t,o));const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(n,["googleSearchRetrieval"],W_(t,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],b_());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function Y_(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(n,["allowedFunctionNames"],o),n}function J_(t,e){const n={},r=l(e,["latitude"]);r!=null&&a(n,["latitude"],r);const o=l(e,["longitude"]);return o!=null&&a(n,["longitude"],o),n}function Z_(t,e){const n={},r=l(e,["latLng"]);return r!=null&&a(n,["latLng"],J_(t,r)),n}function Q_(t,e){const n={},r=l(e,["functionCallingConfig"]);r!=null&&a(n,["functionCallingConfig"],Y_(t,r));const o=l(e,["retrievalConfig"]);return o!=null&&a(n,["retrievalConfig"],Z_(t,o)),n}function X_(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function wm(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],X_(t,r)),n}function j_(t,e){const n={},r=l(e,["speaker"]);r!=null&&a(n,["speaker"],r);const o=l(e,["voiceConfig"]);return o!=null&&a(n,["voiceConfig"],wm(t,o)),n}function eT(t,e){const n={},r=l(e,["speakerVoiceConfigs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>j_(t,i))),a(n,["speakerVoiceConfigs"],o)}return n}function tT(t,e){const n={},r=l(e,["voiceConfig"]);r!=null&&a(n,["voiceConfig"],wm(t,r));const o=l(e,["multiSpeakerVoiceConfig"]);o!=null&&a(n,["multiSpeakerVoiceConfig"],eT(t,o));const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function nT(t,e){const n={},r=l(e,["includeThoughts"]);r!=null&&a(n,["includeThoughts"],r);const o=l(e,["thinkingBudget"]);return o!=null&&a(n,["thinkingBudget"],o),n}function rT(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],ps(t,qe(t,o)));const i=l(e,["temperature"]);i!=null&&a(r,["temperature"],i);const s=l(e,["topP"]);s!=null&&a(r,["topP"],s);const u=l(e,["topK"]);u!=null&&a(r,["topK"],u);const d=l(e,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const c=l(e,["maxOutputTokens"]);c!=null&&a(r,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&a(r,["stopSequences"],f);const p=l(e,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const m=l(e,["logprobs"]);m!=null&&a(r,["logprobs"],m);const C=l(e,["presencePenalty"]);C!=null&&a(r,["presencePenalty"],C);const g=l(e,["frequencyPenalty"]);g!=null&&a(r,["frequencyPenalty"],g);const T=l(e,["seed"]);T!=null&&a(r,["seed"],T);const S=l(e,["responseMimeType"]);S!=null&&a(r,["responseMimeType"],S);const v=l(e,["responseSchema"]);if(v!=null&&a(r,["responseSchema"],bi(t,v)),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const h=l(e,["safetySettings"]);if(n!==void 0&&h!=null){let L=h;Array.isArray(L)&&(L=L.map(ie=>$_(t,ie))),a(n,["safetySettings"],L)}const _=l(e,["tools"]);if(n!==void 0&&_!=null){let L=ds(t,_);Array.isArray(L)&&(L=L.map(ie=>K_(t,cs(t,ie)))),a(n,["tools"],L)}const x=l(e,["toolConfig"]);if(n!==void 0&&x!=null&&a(n,["toolConfig"],Q_(t,x)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=l(e,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],hn(t,w));const E=l(e,["responseModalities"]);E!=null&&a(r,["responseModalities"],E);const I=l(e,["mediaResolution"]);I!=null&&a(r,["mediaResolution"],I);const N=l(e,["speechConfig"]);if(N!=null&&a(r,["speechConfig"],tT(t,pm(t,N))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=l(e,["thinkingConfig"]);return D!=null&&a(r,["thinkingConfig"],nT(t,D)),r}function Rd(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["contents"]);if(o!=null){let s=vt(t,o);Array.isArray(s)&&(s=s.map(u=>ps(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["generationConfig"],rT(t,i,n)),n}function oT(t,e,n){const r={},o=l(e,["taskType"]);n!==void 0&&o!=null&&a(n,["requests[]","taskType"],o);const i=l(e,["title"]);n!==void 0&&i!=null&&a(n,["requests[]","title"],i);const s=l(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&a(n,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function iT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["contents"]);o!=null&&a(n,["requests[]","content"],fm(t,o));const i=l(e,["config"]);i!=null&&a(n,["config"],oT(t,i,n));const s=l(e,["model"]);return s!==void 0&&a(n,["requests[]","model"],ae(t,s)),n}function sT(t,e,n){const r={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(e,["numberOfImages"]);n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o);const i=l(e,["aspectRatio"]);n!==void 0&&i!=null&&a(n,["parameters","aspectRatio"],i);const s=l(e,["guidanceScale"]);if(n!==void 0&&s!=null&&a(n,["parameters","guidanceScale"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&a(n,["parameters","safetySetting"],u);const d=l(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const c=l(e,["includeSafetyAttributes"]);n!==void 0&&c!=null&&a(n,["parameters","includeSafetyAttributes"],c);const f=l(e,["includeRaiReason"]);n!==void 0&&f!=null&&a(n,["parameters","includeRaiReason"],f);const p=l(e,["language"]);n!==void 0&&p!=null&&a(n,["parameters","language"],p);const m=l(e,["outputMimeType"]);n!==void 0&&m!=null&&a(n,["parameters","outputOptions","mimeType"],m);const C=l(e,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&a(n,["parameters","outputOptions","compressionQuality"],C),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function lT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=l(e,["config"]);return i!=null&&a(n,["config"],sT(t,i,n)),n}function aT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],ae(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function uT(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(e,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],ym(t,u)),r}function cT(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],uT(t,r,n)),n}function dT(t,e,n){const r={},o=l(e,["displayName"]);n!==void 0&&o!=null&&a(n,["displayName"],o);const i=l(e,["description"]);n!==void 0&&i!=null&&a(n,["description"],i);const s=l(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&a(n,["defaultCheckpointId"],s),r}function fT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],ae(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],dT(t,o,n)),n}function pT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],ae(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function mT(t,e){const n={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function hT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["contents"]);if(o!=null){let s=vt(t,o);Array.isArray(s)&&(s=s.map(u=>ps(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["config"],mT(t,i)),n}function gT(t,e){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(e,["imageBytes"]);r!=null&&a(n,["bytesBase64Encoded"],gn(t,r));const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function yT(t,e,n){const r={},o=l(e,["numberOfVideos"]);if(n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=l(e,["durationSeconds"]);if(n!==void 0&&i!=null&&a(n,["parameters","durationSeconds"],i),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["aspectRatio"]);if(n!==void 0&&s!=null&&a(n,["parameters","aspectRatio"],s),l(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=l(e,["personGeneration"]);if(n!==void 0&&u!=null&&a(n,["parameters","personGeneration"],u),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(e,["negativePrompt"]);if(n!==void 0&&d!=null&&a(n,["parameters","negativePrompt"],d),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function vT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=l(e,["image"]);i!=null&&a(n,["instances[0]","image"],gT(t,i));const s=l(e,["config"]);return s!=null&&a(n,["config"],yT(t,s,n)),n}function CT(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function _T(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const o=l(e,["data"]);o!=null&&a(n,["data"],o);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function TT(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],CT(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],_T(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function wr(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>TT(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function xT(t,e){const n={},r=l(e,["featureSelectionPreference"]);return r!=null&&a(n,["featureSelectionPreference"],r),n}function ET(t,e){const n={},r=l(e,["method"]);r!=null&&a(n,["method"],r);const o=l(e,["category"]);o!=null&&a(n,["category"],o);const i=l(e,["threshold"]);return i!=null&&a(n,["threshold"],i),n}function ST(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(e,["description"]);r!=null&&a(n,["description"],r);const o=l(e,["name"]);o!=null&&a(n,["name"],o);const i=l(e,["parameters"]);i!=null&&a(n,["parameters"],i);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function wT(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const o=l(e,["endTime"]);return o!=null&&a(n,["endTime"],o),n}function kT(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],wT(t,r)),n}function IT(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["dynamicThreshold"]);return o!=null&&a(n,["dynamicThreshold"],o),n}function AT(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],IT(t,r)),n}function MT(){return{}}function NT(t,e){const n={},r=l(e,["apiKeyString"]);return r!=null&&a(n,["apiKeyString"],r),n}function PT(t,e){const n={},r=l(e,["apiKeyConfig"]);r!=null&&a(n,["apiKeyConfig"],NT(t,r));const o=l(e,["authType"]);o!=null&&a(n,["authType"],o);const i=l(e,["googleServiceAccountConfig"]);i!=null&&a(n,["googleServiceAccountConfig"],i);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function RT(t,e){const n={},r=l(e,["authConfig"]);return r!=null&&a(n,["authConfig"],PT(t,r)),n}function km(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>ST(t,p))),a(n,["functionDeclarations"],f)}const o=l(e,["retrieval"]);o!=null&&a(n,["retrieval"],o);const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],kT(t,i));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],AT(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],MT());const d=l(e,["googleMaps"]);if(d!=null&&a(n,["googleMaps"],RT(t,d)),l(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=l(e,["codeExecution"]);return c!=null&&a(n,["codeExecution"],c),n}function DT(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(n,["allowedFunctionNames"],o),n}function LT(t,e){const n={},r=l(e,["latitude"]);r!=null&&a(n,["latitude"],r);const o=l(e,["longitude"]);return o!=null&&a(n,["longitude"],o),n}function FT(t,e){const n={},r=l(e,["latLng"]);return r!=null&&a(n,["latLng"],LT(t,r)),n}function VT(t,e){const n={},r=l(e,["functionCallingConfig"]);r!=null&&a(n,["functionCallingConfig"],DT(t,r));const o=l(e,["retrievalConfig"]);return o!=null&&a(n,["retrievalConfig"],FT(t,o)),n}function UT(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function OT(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],UT(t,r)),n}function GT(t,e){const n={},r=l(e,["voiceConfig"]);if(r!=null&&a(n,["voiceConfig"],OT(t,r)),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(e,["languageCode"]);return o!=null&&a(n,["languageCode"],o),n}function $T(t,e){const n={},r=l(e,["includeThoughts"]);r!=null&&a(n,["includeThoughts"],r);const o=l(e,["thinkingBudget"]);return o!=null&&a(n,["thinkingBudget"],o),n}function BT(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],wr(t,qe(t,o)));const i=l(e,["temperature"]);i!=null&&a(r,["temperature"],i);const s=l(e,["topP"]);s!=null&&a(r,["topP"],s);const u=l(e,["topK"]);u!=null&&a(r,["topK"],u);const d=l(e,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const c=l(e,["maxOutputTokens"]);c!=null&&a(r,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&a(r,["stopSequences"],f);const p=l(e,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const m=l(e,["logprobs"]);m!=null&&a(r,["logprobs"],m);const C=l(e,["presencePenalty"]);C!=null&&a(r,["presencePenalty"],C);const g=l(e,["frequencyPenalty"]);g!=null&&a(r,["frequencyPenalty"],g);const T=l(e,["seed"]);T!=null&&a(r,["seed"],T);const S=l(e,["responseMimeType"]);S!=null&&a(r,["responseMimeType"],S);const v=l(e,["responseSchema"]);v!=null&&a(r,["responseSchema"],bi(t,v));const h=l(e,["routingConfig"]);h!=null&&a(r,["routingConfig"],h);const _=l(e,["modelSelectionConfig"]);_!=null&&a(r,["modelConfig"],xT(t,_));const x=l(e,["safetySettings"]);if(n!==void 0&&x!=null){let J=x;Array.isArray(J)&&(J=J.map(Ye=>ET(t,Ye))),a(n,["safetySettings"],J)}const w=l(e,["tools"]);if(n!==void 0&&w!=null){let J=ds(t,w);Array.isArray(J)&&(J=J.map(Ye=>km(t,cs(t,Ye)))),a(n,["tools"],J)}const E=l(e,["toolConfig"]);n!==void 0&&E!=null&&a(n,["toolConfig"],VT(t,E));const I=l(e,["labels"]);n!==void 0&&I!=null&&a(n,["labels"],I);const N=l(e,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],hn(t,N));const D=l(e,["responseModalities"]);D!=null&&a(r,["responseModalities"],D);const L=l(e,["mediaResolution"]);L!=null&&a(r,["mediaResolution"],L);const ie=l(e,["speechConfig"]);ie!=null&&a(r,["speechConfig"],GT(t,pm(t,ie)));const _t=l(e,["audioTimestamp"]);_t!=null&&a(r,["audioTimestamp"],_t);const Ve=l(e,["thinkingConfig"]);return Ve!=null&&a(r,["thinkingConfig"],$T(t,Ve)),r}function Dd(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["contents"]);if(o!=null){let s=vt(t,o);Array.isArray(s)&&(s=s.map(u=>wr(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["generationConfig"],BT(t,i,n)),n}function zT(t,e,n){const r={},o=l(e,["taskType"]);n!==void 0&&o!=null&&a(n,["instances[]","task_type"],o);const i=l(e,["title"]);n!==void 0&&i!=null&&a(n,["instances[]","title"],i);const s=l(e,["outputDimensionality"]);n!==void 0&&s!=null&&a(n,["parameters","outputDimensionality"],s);const u=l(e,["mimeType"]);n!==void 0&&u!=null&&a(n,["instances[]","mimeType"],u);const d=l(e,["autoTruncate"]);return n!==void 0&&d!=null&&a(n,["parameters","autoTruncate"],d),r}function HT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["contents"]);o!=null&&a(n,["instances[]","content"],fm(t,o));const i=l(e,["config"]);return i!=null&&a(n,["config"],zT(t,i,n)),n}function qT(t,e,n){const r={},o=l(e,["outputGcsUri"]);n!==void 0&&o!=null&&a(n,["parameters","storageUri"],o);const i=l(e,["negativePrompt"]);n!==void 0&&i!=null&&a(n,["parameters","negativePrompt"],i);const s=l(e,["numberOfImages"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const d=l(e,["guidanceScale"]);n!==void 0&&d!=null&&a(n,["parameters","guidanceScale"],d);const c=l(e,["seed"]);n!==void 0&&c!=null&&a(n,["parameters","seed"],c);const f=l(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&a(n,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const m=l(e,["includeSafetyAttributes"]);n!==void 0&&m!=null&&a(n,["parameters","includeSafetyAttributes"],m);const C=l(e,["includeRaiReason"]);n!==void 0&&C!=null&&a(n,["parameters","includeRaiReason"],C);const g=l(e,["language"]);n!==void 0&&g!=null&&a(n,["parameters","language"],g);const T=l(e,["outputMimeType"]);n!==void 0&&T!=null&&a(n,["parameters","outputOptions","mimeType"],T);const S=l(e,["outputCompressionQuality"]);n!==void 0&&S!=null&&a(n,["parameters","outputOptions","compressionQuality"],S);const v=l(e,["addWatermark"]);n!==void 0&&v!=null&&a(n,["parameters","addWatermark"],v);const h=l(e,["enhancePrompt"]);return n!==void 0&&h!=null&&a(n,["parameters","enhancePrompt"],h),r}function WT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=l(e,["config"]);return i!=null&&a(n,["config"],qT(t,i,n)),n}function Ja(t,e){const n={},r=l(e,["gcsUri"]);r!=null&&a(n,["gcsUri"],r);const o=l(e,["imageBytes"]);o!=null&&a(n,["bytesBase64Encoded"],gn(t,o));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function bT(t,e){const n={},r=l(e,["maskMode"]);r!=null&&a(n,["maskMode"],r);const o=l(e,["segmentationClasses"]);o!=null&&a(n,["maskClasses"],o);const i=l(e,["maskDilation"]);return i!=null&&a(n,["dilation"],i),n}function KT(t,e){const n={},r=l(e,["controlType"]);r!=null&&a(n,["controlType"],r);const o=l(e,["enableControlImageComputation"]);return o!=null&&a(n,["computeControl"],o),n}function YT(t,e){const n={},r=l(e,["styleDescription"]);return r!=null&&a(n,["styleDescription"],r),n}function JT(t,e){const n={},r=l(e,["subjectType"]);r!=null&&a(n,["subjectType"],r);const o=l(e,["subjectDescription"]);return o!=null&&a(n,["subjectDescription"],o),n}function ZT(t,e){const n={},r=l(e,["referenceImage"]);r!=null&&a(n,["referenceImage"],Ja(t,r));const o=l(e,["referenceId"]);o!=null&&a(n,["referenceId"],o);const i=l(e,["referenceType"]);i!=null&&a(n,["referenceType"],i);const s=l(e,["maskImageConfig"]);s!=null&&a(n,["maskImageConfig"],bT(t,s));const u=l(e,["controlImageConfig"]);u!=null&&a(n,["controlImageConfig"],KT(t,u));const d=l(e,["styleImageConfig"]);d!=null&&a(n,["styleImageConfig"],YT(t,d));const c=l(e,["subjectImageConfig"]);return c!=null&&a(n,["subjectImageConfig"],JT(t,c)),n}function QT(t,e,n){const r={},o=l(e,["outputGcsUri"]);n!==void 0&&o!=null&&a(n,["parameters","storageUri"],o);const i=l(e,["negativePrompt"]);n!==void 0&&i!=null&&a(n,["parameters","negativePrompt"],i);const s=l(e,["numberOfImages"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const d=l(e,["guidanceScale"]);n!==void 0&&d!=null&&a(n,["parameters","guidanceScale"],d);const c=l(e,["seed"]);n!==void 0&&c!=null&&a(n,["parameters","seed"],c);const f=l(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&a(n,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const m=l(e,["includeSafetyAttributes"]);n!==void 0&&m!=null&&a(n,["parameters","includeSafetyAttributes"],m);const C=l(e,["includeRaiReason"]);n!==void 0&&C!=null&&a(n,["parameters","includeRaiReason"],C);const g=l(e,["language"]);n!==void 0&&g!=null&&a(n,["parameters","language"],g);const T=l(e,["outputMimeType"]);n!==void 0&&T!=null&&a(n,["parameters","outputOptions","mimeType"],T);const S=l(e,["outputCompressionQuality"]);n!==void 0&&S!=null&&a(n,["parameters","outputOptions","compressionQuality"],S);const v=l(e,["editMode"]);n!==void 0&&v!=null&&a(n,["parameters","editMode"],v);const h=l(e,["baseSteps"]);return n!==void 0&&h!=null&&a(n,["parameters","editConfig","baseSteps"],h),r}function XT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=l(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>ZT(t,d))),a(n,["instances[0]","referenceImages"],u)}const s=l(e,["config"]);return s!=null&&a(n,["config"],QT(t,s,n)),n}function jT(t,e,n){const r={},o=l(e,["includeRaiReason"]);n!==void 0&&o!=null&&a(n,["parameters","includeRaiReason"],o);const i=l(e,["outputMimeType"]);n!==void 0&&i!=null&&a(n,["parameters","outputOptions","mimeType"],i);const s=l(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&a(n,["parameters","outputOptions","compressionQuality"],s);const u=l(e,["numberOfImages"]);n!==void 0&&u!=null&&a(n,["parameters","sampleCount"],u);const d=l(e,["mode"]);return n!==void 0&&d!=null&&a(n,["parameters","mode"],d),r}function ex(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["image"]);o!=null&&a(n,["instances[0]","image"],Ja(t,o));const i=l(e,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=l(e,["config"]);return s!=null&&a(n,["config"],jT(t,s,n)),n}function tx(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],ae(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function nx(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(e,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],ym(t,u)),r}function rx(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],nx(t,r,n)),n}function ox(t,e,n){const r={},o=l(e,["displayName"]);n!==void 0&&o!=null&&a(n,["displayName"],o);const i=l(e,["description"]);n!==void 0&&i!=null&&a(n,["description"],i);const s=l(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&a(n,["defaultCheckpointId"],s),r}function ix(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],ox(t,o,n)),n}function sx(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],ae(t,r));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function lx(t,e,n){const r={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],wr(t,qe(t,o)));const i=l(e,["tools"]);if(n!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>km(t,d))),a(n,["tools"],u)}const s=l(e,["generationConfig"]);return n!==void 0&&s!=null&&a(n,["generationConfig"],s),r}function ax(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["contents"]);if(o!=null){let s=vt(t,o);Array.isArray(s)&&(s=s.map(u=>wr(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["config"],lx(t,i,n)),n}function ux(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["contents"]);if(o!=null){let s=vt(t,o);Array.isArray(s)&&(s=s.map(u=>wr(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function cx(t,e,n){const r={},o=l(e,["numberOfVideos"]);n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o);const i=l(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const s=l(e,["fps"]);n!==void 0&&s!=null&&a(n,["parameters","fps"],s);const u=l(e,["durationSeconds"]);n!==void 0&&u!=null&&a(n,["parameters","durationSeconds"],u);const d=l(e,["seed"]);n!==void 0&&d!=null&&a(n,["parameters","seed"],d);const c=l(e,["aspectRatio"]);n!==void 0&&c!=null&&a(n,["parameters","aspectRatio"],c);const f=l(e,["resolution"]);n!==void 0&&f!=null&&a(n,["parameters","resolution"],f);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const m=l(e,["pubsubTopic"]);n!==void 0&&m!=null&&a(n,["parameters","pubsubTopic"],m);const C=l(e,["negativePrompt"]);n!==void 0&&C!=null&&a(n,["parameters","negativePrompt"],C);const g=l(e,["enhancePrompt"]);return n!==void 0&&g!=null&&a(n,["parameters","enhancePrompt"],g),r}function dx(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],ae(t,r));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const i=l(e,["image"]);i!=null&&a(n,["instances[0]","image"],Ja(t,i));const s=l(e,["config"]);return s!=null&&a(n,["config"],cx(t,s,n)),n}function fx(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function px(t,e){const n={},r=l(e,["data"]);r!=null&&a(n,["data"],r);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function mx(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],fx(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],px(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function hx(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>mx(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function gx(t,e){const n={},r=l(e,["citationSources"]);return r!=null&&a(n,["citations"],r),n}function yx(t,e){const n={},r=l(e,["retrievedUrl"]);r!=null&&a(n,["retrievedUrl"],r);const o=l(e,["urlRetrievalStatus"]);return o!=null&&a(n,["urlRetrievalStatus"],o),n}function vx(t,e){const n={},r=l(e,["urlMetadata"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>yx(t,i))),a(n,["urlMetadata"],o)}return n}function Cx(t,e){const n={},r=l(e,["content"]);r!=null&&a(n,["content"],hx(t,r));const o=l(e,["citationMetadata"]);o!=null&&a(n,["citationMetadata"],gx(t,o));const i=l(e,["tokenCount"]);i!=null&&a(n,["tokenCount"],i);const s=l(e,["finishReason"]);s!=null&&a(n,["finishReason"],s);const u=l(e,["urlContextMetadata"]);u!=null&&a(n,["urlContextMetadata"],vx(t,u));const d=l(e,["avgLogprobs"]);d!=null&&a(n,["avgLogprobs"],d);const c=l(e,["groundingMetadata"]);c!=null&&a(n,["groundingMetadata"],c);const f=l(e,["index"]);f!=null&&a(n,["index"],f);const p=l(e,["logprobsResult"]);p!=null&&a(n,["logprobsResult"],p);const m=l(e,["safetyRatings"]);return m!=null&&a(n,["safetyRatings"],m),n}function Ld(t,e){const n={},r=l(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Cx(t,d))),a(n,["candidates"],u)}const o=l(e,["modelVersion"]);o!=null&&a(n,["modelVersion"],o);const i=l(e,["promptFeedback"]);i!=null&&a(n,["promptFeedback"],i);const s=l(e,["usageMetadata"]);return s!=null&&a(n,["usageMetadata"],s),n}function _x(t,e){const n={},r=l(e,["values"]);return r!=null&&a(n,["values"],r),n}function Tx(){return{}}function xx(t,e){const n={},r=l(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>_x(t,s))),a(n,["embeddings"],i)}return l(e,["metadata"])!=null&&a(n,["metadata"],Tx()),n}function Ex(t,e){const n={},r=l(e,["bytesBase64Encoded"]);r!=null&&a(n,["imageBytes"],gn(t,r));const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function Im(t,e){const n={},r=l(e,["safetyAttributes","categories"]);r!=null&&a(n,["categories"],r);const o=l(e,["safetyAttributes","scores"]);o!=null&&a(n,["scores"],o);const i=l(e,["contentType"]);return i!=null&&a(n,["contentType"],i),n}function Sx(t,e){const n={},r=l(e,["_self"]);r!=null&&a(n,["image"],Ex(t,r));const o=l(e,["raiFilteredReason"]);o!=null&&a(n,["raiFilteredReason"],o);const i=l(e,["_self"]);return i!=null&&a(n,["safetyAttributes"],Im(t,i)),n}function wx(t,e){const n={},r=l(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Sx(t,s))),a(n,["generatedImages"],i)}const o=l(e,["positivePromptSafetyAttributes"]);return o!=null&&a(n,["positivePromptSafetyAttributes"],Im(t,o)),n}function kx(t,e){const n={},r=l(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=l(e,["createTime"]);o!=null&&a(n,["createTime"],o);const i=l(e,["updateTime"]);return i!=null&&a(n,["updateTime"],i),n}function Yl(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const s=l(e,["version"]);s!=null&&a(n,["version"],s);const u=l(e,["_self"]);u!=null&&a(n,["tunedModelInfo"],kx(t,u));const d=l(e,["inputTokenLimit"]);d!=null&&a(n,["inputTokenLimit"],d);const c=l(e,["outputTokenLimit"]);c!=null&&a(n,["outputTokenLimit"],c);const f=l(e,["supportedGenerationMethods"]);return f!=null&&a(n,["supportedActions"],f),n}function Ix(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const o=l(e,["_self"]);if(o!=null){let i=vm(t,o);Array.isArray(i)&&(i=i.map(s=>Yl(t,s))),a(n,["models"],i)}return n}function Ax(){return{}}function Mx(t,e){const n={},r=l(e,["totalTokens"]);r!=null&&a(n,["totalTokens"],r);const o=l(e,["cachedContentTokenCount"]);return o!=null&&a(n,["cachedContentTokenCount"],o),n}function Nx(t,e){const n={},r=l(e,["video","uri"]);r!=null&&a(n,["uri"],r);const o=l(e,["video","encodedVideo"]);o!=null&&a(n,["videoBytes"],gn(t,o));const i=l(e,["encoding"]);return i!=null&&a(n,["mimeType"],i),n}function Px(t,e){const n={},r=l(e,["_self"]);return r!=null&&a(n,["video"],Nx(t,r)),n}function Rx(t,e){const n={},r=l(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Px(t,u))),a(n,["generatedVideos"],s)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(n,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function Dx(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["metadata"]);o!=null&&a(n,["metadata"],o);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],Rx(t,u)),n}function Lx(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const o=l(e,["endOffset"]);o!=null&&a(n,["endOffset"],o);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function Fx(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const o=l(e,["data"]);o!=null&&a(n,["data"],o);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Vx(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],Lx(t,r));const o=l(e,["thought"]);o!=null&&a(n,["thought"],o);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],Fx(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function Ux(t,e){const n={},r=l(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vx(t,s))),a(n,["parts"],i)}const o=l(e,["role"]);return o!=null&&a(n,["role"],o),n}function Ox(t,e){const n={},r=l(e,["citations"]);return r!=null&&a(n,["citations"],r),n}function Gx(t,e){const n={},r=l(e,["content"]);r!=null&&a(n,["content"],Ux(t,r));const o=l(e,["citationMetadata"]);o!=null&&a(n,["citationMetadata"],Ox(t,o));const i=l(e,["finishMessage"]);i!=null&&a(n,["finishMessage"],i);const s=l(e,["finishReason"]);s!=null&&a(n,["finishReason"],s);const u=l(e,["avgLogprobs"]);u!=null&&a(n,["avgLogprobs"],u);const d=l(e,["groundingMetadata"]);d!=null&&a(n,["groundingMetadata"],d);const c=l(e,["index"]);c!=null&&a(n,["index"],c);const f=l(e,["logprobsResult"]);f!=null&&a(n,["logprobsResult"],f);const p=l(e,["safetyRatings"]);return p!=null&&a(n,["safetyRatings"],p),n}function Fd(t,e){const n={},r=l(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Gx(t,f))),a(n,["candidates"],c)}const o=l(e,["createTime"]);o!=null&&a(n,["createTime"],o);const i=l(e,["responseId"]);i!=null&&a(n,["responseId"],i);const s=l(e,["modelVersion"]);s!=null&&a(n,["modelVersion"],s);const u=l(e,["promptFeedback"]);u!=null&&a(n,["promptFeedback"],u);const d=l(e,["usageMetadata"]);return d!=null&&a(n,["usageMetadata"],d),n}function $x(t,e){const n={},r=l(e,["truncated"]);r!=null&&a(n,["truncated"],r);const o=l(e,["token_count"]);return o!=null&&a(n,["tokenCount"],o),n}function Bx(t,e){const n={},r=l(e,["values"]);r!=null&&a(n,["values"],r);const o=l(e,["statistics"]);return o!=null&&a(n,["statistics"],$x(t,o)),n}function zx(t,e){const n={},r=l(e,["billableCharacterCount"]);return r!=null&&a(n,["billableCharacterCount"],r),n}function Hx(t,e){const n={},r=l(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Bx(t,s))),a(n,["embeddings"],i)}const o=l(e,["metadata"]);return o!=null&&a(n,["metadata"],zx(t,o)),n}function qx(t,e){const n={},r=l(e,["gcsUri"]);r!=null&&a(n,["gcsUri"],r);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(n,["imageBytes"],gn(t,o));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Am(t,e){const n={},r=l(e,["safetyAttributes","categories"]);r!=null&&a(n,["categories"],r);const o=l(e,["safetyAttributes","scores"]);o!=null&&a(n,["scores"],o);const i=l(e,["contentType"]);return i!=null&&a(n,["contentType"],i),n}function Za(t,e){const n={},r=l(e,["_self"]);r!=null&&a(n,["image"],qx(t,r));const o=l(e,["raiFilteredReason"]);o!=null&&a(n,["raiFilteredReason"],o);const i=l(e,["_self"]);i!=null&&a(n,["safetyAttributes"],Am(t,i));const s=l(e,["prompt"]);return s!=null&&a(n,["enhancedPrompt"],s),n}function Wx(t,e){const n={},r=l(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Za(t,s))),a(n,["generatedImages"],i)}const o=l(e,["positivePromptSafetyAttributes"]);return o!=null&&a(n,["positivePromptSafetyAttributes"],Am(t,o)),n}function bx(t,e){const n={},r=l(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Za(t,i))),a(n,["generatedImages"],o)}return n}function Kx(t,e){const n={},r=l(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Za(t,i))),a(n,["generatedImages"],o)}return n}function Yx(t,e){const n={},r=l(e,["endpoint"]);r!=null&&a(n,["name"],r);const o=l(e,["deployedModelId"]);return o!=null&&a(n,["deployedModelId"],o),n}function Jx(t,e){const n={},r=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&a(n,["baseModel"],r);const o=l(e,["createTime"]);o!=null&&a(n,["createTime"],o);const i=l(e,["updateTime"]);return i!=null&&a(n,["updateTime"],i),n}function Zx(t,e){const n={},r=l(e,["checkpointId"]);r!=null&&a(n,["checkpointId"],r);const o=l(e,["epoch"]);o!=null&&a(n,["epoch"],o);const i=l(e,["step"]);return i!=null&&a(n,["step"],i),n}function Jl(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const s=l(e,["versionId"]);s!=null&&a(n,["version"],s);const u=l(e,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(C=>Yx(t,C))),a(n,["endpoints"],m)}const d=l(e,["labels"]);d!=null&&a(n,["labels"],d);const c=l(e,["_self"]);c!=null&&a(n,["tunedModelInfo"],Jx(t,c));const f=l(e,["defaultCheckpointId"]);f!=null&&a(n,["defaultCheckpointId"],f);const p=l(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(C=>Zx(t,C))),a(n,["checkpoints"],m)}return n}function Qx(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const o=l(e,["_self"]);if(o!=null){let i=vm(t,o);Array.isArray(i)&&(i=i.map(s=>Jl(t,s))),a(n,["models"],i)}return n}function Xx(){return{}}function jx(t,e){const n={},r=l(e,["totalTokens"]);return r!=null&&a(n,["totalTokens"],r),n}function eE(t,e){const n={},r=l(e,["tokensInfo"]);return r!=null&&a(n,["tokensInfo"],r),n}function tE(t,e){const n={},r=l(e,["gcsUri"]);r!=null&&a(n,["uri"],r);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(n,["videoBytes"],gn(t,o));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function nE(t,e){const n={},r=l(e,["_self"]);return r!=null&&a(n,["video"],tE(t,r)),n}function rE(t,e){const n={},r=l(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>nE(t,u))),a(n,["generatedVideos"],s)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(n,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function oE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["metadata"]);o!=null&&a(n,["metadata"],o);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],rE(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iE="Content-Type",sE="X-Server-Timeout",lE="User-Agent",Zl="x-goog-api-client",aE="1.0.1",uE=`google-genai-sdk/${aE}`,cE="v1beta1",dE="v1beta",Vd=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Mm extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Ql extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class fE{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:cE,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:dE,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))o.searchParams.append(s,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(o,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(o,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const o=new AbortController,i=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),r&&r.addEventListener("abort",()=>{o.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Ud(o),new ql(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Ud(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return no(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield me(o.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d);try{const p=JSON.parse(c);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),C=m.status,g=m.code,T=`got status: ${C}. ${JSON.stringify(p)}`;if(g>=400&&g<500)throw new Mm(T);if(g>=500&&g<600)throw new Ql(T)}}catch(p){const m=p;if(m.name==="ClientError"||m.name==="ServerError")throw p}s+=c;let f=s.match(Vd);for(;f;){const p=f[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new ql(m)),s=s.slice(f[0].length),f=s.match(Vd)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=uE+" "+this.clientOptions.userAgentExtra;return e[lE]=n,e[Zl]=n,e[iE]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,o]of Object.entries(e.headers))n.append(r,o);e.timeout&&e.timeout>0&&n.append(sE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);o.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const d=await this.fetchUploadUrl(o,n);return i.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},s=await this.request({path:G("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:o});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Ud(t){var e;if(t===void 0)throw new Ql("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new Mm(i):n>=500&&n<600?new Ql(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Od="mcp_used/unknown";function Nm(t){for(const e of t)if(Qa(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Pm(t){var e;const n=(e=t[Zl])!==null&&e!==void 0?e:"";n.includes(Od)||(t[Zl]=(n+` ${Od}`).trimStart())}function pE(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Qa(o)))!==null&&r!==void 0?r:!1}function mE(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!Qa(o)))!==null&&r!==void 0?r:!1}function Qa(t){return t!==null&&typeof t=="object"&&"tool"in t&&"callTool"in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hE(t,e,n){const r=new Iv;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const i=V_(t,o);Object.assign(r,i),e(r)}class gE{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=CE(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(_=>{c=_}),p=e.callbacks,m=function(){c({})},C=this.apiClient,g={onopen:m,onmessage:_=>{hE(C,p.onmessage,_)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(_){}},T=this.webSocketFactory.create(d,vE(s),g);T.connect(),await f;const S=ae(this.apiClient,e.model),v=Em(this.apiClient,{model:S}),h=Kl(this.apiClient,{setup:v});return T.send(JSON.stringify(h)),new yE(T,this.apiClient)}}class yE{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=XC(this.apiClient,e),r=Sm(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=jC(this.apiClient,e),r=Kl(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=Kl(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(tr.PLAY)}pause(){this.sendPlaybackControl(tr.PAUSE)}stop(){this.sendPlaybackControl(tr.STOP)}resetContext(){this.sendPlaybackControl(tr.RESET_CONTEXT)}close(){this.conn.close()}}function vE(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function CE(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _E="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TE(t,e,n){const r=new kv;let o;if(n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),t.isVertexAI()){const i=I_(t,o);Object.assign(r,i)}else{const i=k_(t,o);Object.assign(r,i)}e(r)}class xE{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new gE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,i,s,u;const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Nm(e.config.tools)&&Pm(p);const m=kE(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const D=this.apiClient.getApiKey();f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateContent?key=${D}`}let C=()=>{};const g=new Promise(D=>{C=D}),T=e.callbacks,S=function(){var D;(D=T==null?void 0:T.onopen)===null||D===void 0||D.call(T),C({})},v=this.apiClient,h={onopen:S,onmessage:D=>{TE(v,T.onmessage,D)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(D){}},_=this.webSocketFactory.create(f,wE(m),h);_.connect(),await g;let x=ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const D=this.apiClient.getProject(),L=this.apiClient.getLocation();x=`projects/${D}/locations/${L}/`+x}let w={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[qi.AUDIO]}:e.config.responseModalities=[qi.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],I=[];for(const D of E)if(this.isCallableTool(D)){const L=D;I.push(await L.tool())}else I.push(D);I.length>0&&(e.config.tools=I);const N={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=WC(this.apiClient,N):w=qC(this.apiClient,N),delete w.config,_.send(JSON.stringify(w)),new SE(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const EE={turnComplete:!0};class SE{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=vt(e,n.turns),e.isVertexAI()?r=r.map(o=>wr(e,o)):r=r.map(o=>ps(e,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(_E)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},EE),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:QC(this.apiClient,e)}:n={realtimeInput:ZC(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function wE(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function kE(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gd=10;function $d(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ci(s)){o=!0;break}if(!o)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function ci(t){return"callTool"in t&&typeof t.callTool=="function"}function Bd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IE extends Io{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,i,s,u;const d=await this.processParamsForMcpUsage(n);if(!pE(n)||$d(n.config))return await this.generateContentInternal(d);if(mE(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,f;const p=vt(this.apiClient,d.contents),m=(i=(o=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Gd;let C=0;for(;C<m&&(c=await this.generateContentInternal(d),!(!c.functionCalls||c.functionCalls.length===0));){const g=c.candidates[0].content,T=[];for(const S of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(ci(S)){const h=await S.callTool(c.functionCalls);T.push(...h)}C++,f={role:"user",parts:T},d.contents=vt(this.apiClient,d.contents),d.contents.push(g),d.contents.push(f),Bd(d.config)&&(p.push(g),p.push(f))}return Bd(d.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{if($d(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i;const s=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:s.push(d);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i}:u={generatedImages:s},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new fs(Tr.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,r,o;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async d=>ci(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&Nm(e.config.tools)){const d=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Pm(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,r,o;const i=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ci(s)){const u=s,d=await u.tool();for(const c of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(e){var n,r,o;const i=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Gd;let s=!1,u=0;const d=await this.initAfcToolsMap(e);return function(c,f,p){var m,C;return no(this,arguments,function*(){for(var g,T,S,v;u<i;){s&&(u++,s=!1);const w=yield me(c.processParamsForMcpUsage(p)),E=yield me(c.generateContentStreamInternal(w)),I=[],N=[];try{for(var h=!0,_=(T=void 0,ui(E)),x;x=yield me(_.next()),g=x.done,!g;h=!0){v=x.value,h=!1;const D=v;if(yield yield me(D),D.candidates&&(!((m=D.candidates[0])===null||m===void 0)&&m.content)){N.push(D.candidates[0].content);for(const L of(C=D.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<i&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(L.functionCall.name)){const ie=yield me(f.get(L.functionCall.name).callTool([L.functionCall]));I.push(...ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(D){T={error:D}}finally{try{!h&&!g&&(S=_.return)&&(yield me(S.call(_)))}finally{if(T)throw T.error}}if(I.length>0){s=!0;const D=new Ur;D.candidates=[{content:{role:"user",parts:I}}],yield yield me(D);const L=[];L.push(...N),L.push({role:"user",parts:I});const ie=vt(c.apiClient,p.contents).concat(L);p.contents=ie}else break}})}(this,d,e)}async generateContentInternal(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Dd(this.apiClient,e);return u=G("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Fd(this.apiClient,f),m=new Ur;return Object.assign(m,p),m})}else{const c=Rd(this.apiClient,e);return u=G("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Ld(this.apiClient,f),m=new Ur;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Dd(this.apiClient,e);u=G("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const f=this.apiClient;return s=f.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return no(this,arguments,function*(){var m,C,g,T;try{for(var S=!0,v=ui(p),h;h=yield me(v.next()),m=h.done,!m;S=!0){T=h.value,S=!1;const x=Fd(f,yield me(T.json())),w=new Ur;Object.assign(w,x),yield yield me(w)}}catch(_){C={error:_}}finally{try{!S&&!m&&(g=v.return)&&(yield me(g.call(v)))}finally{if(C)throw C.error}}})})}else{const c=Rd(this.apiClient,e);u=G("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const f=this.apiClient;return s=f.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return no(this,arguments,function*(){var m,C,g,T;try{for(var S=!0,v=ui(p),h;h=yield me(v.next()),m=h.done,!m;S=!0){T=h.value,S=!1;const x=Ld(f,yield me(T.json())),w=new Ur;Object.assign(w,x),yield yield me(w)}}catch(_){C={error:_}}finally{try{!S&&!m&&(g=v.return)&&(yield me(g.call(v)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=HT(this.apiClient,e);return u=G("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Hx(this.apiClient,f),m=new fd;return Object.assign(m,p),m})}else{const c=iT(this.apiClient,e);return u=G("{model}:batchEmbedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=xx(this.apiClient,f),m=new fd;return Object.assign(m,p),m})}}async generateImagesInternal(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=WT(this.apiClient,e);return u=G("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Wx(this.apiClient,f),m=new pd;return Object.assign(m,p),m})}else{const c=lT(this.apiClient,e);return u=G("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=wx(this.apiClient,f),m=new pd;return Object.assign(m,p),m})}}async editImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const u=XT(this.apiClient,e);return i=G("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=bx(this.apiClient,d),f=new _v;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const u=ex(this.apiClient,e);return i=G("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Kx(this.apiClient,d),f=new Tv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=tx(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Jl(this.apiClient,f))}else{const c=aT(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Yl(this.apiClient,f))}}async listInternal(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=rx(this.apiClient,e);return u=G("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Qx(this.apiClient,f),m=new md;return Object.assign(m,p),m})}else{const c=cT(this.apiClient,e);return u=G("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Ix(this.apiClient,f),m=new md;return Object.assign(m,p),m})}}async update(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ix(this.apiClient,e);return u=G("{model}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Jl(this.apiClient,f))}else{const c=fT(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Yl(this.apiClient,f))}}async delete(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=sx(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(()=>{const f=Xx(),p=new hd;return Object.assign(p,f),p})}else{const c=pT(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(()=>{const f=Ax(),p=new hd;return Object.assign(p,f),p})}}async countTokens(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ax(this.apiClient,e);return u=G("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=jx(this.apiClient,f),m=new gd;return Object.assign(m,p),m})}else{const c=hT(this.apiClient,e);return u=G("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Mx(this.apiClient,f),m=new gd;return Object.assign(m,p),m})}}async computeTokens(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const u=ux(this.apiClient,e);return i=G("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=eE(this.apiClient,d),f=new xv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=dx(this.apiClient,e);return u=G("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>oE(this.apiClient,f))}else{const c=vT(this.apiClient,e);return u=G("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Dx(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(t,e){const n={},r=l(e,["operationName"]);r!=null&&a(n,["_url","operationName"],r);const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function ME(t,e){const n={},r=l(e,["operationName"]);r!=null&&a(n,["_url","operationName"],r);const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function NE(t,e){const n={},r=l(e,["operationName"]);r!=null&&a(n,["operationName"],r);const o=l(e,["resourceName"]);o!=null&&a(n,["_url","resourceName"],o);const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function PE(t,e){const n={},r=l(e,["video","uri"]);r!=null&&a(n,["uri"],r);const o=l(e,["video","encodedVideo"]);o!=null&&a(n,["videoBytes"],gn(t,o));const i=l(e,["encoding"]);return i!=null&&a(n,["mimeType"],i),n}function RE(t,e){const n={},r=l(e,["_self"]);return r!=null&&a(n,["video"],PE(t,r)),n}function DE(t,e){const n={},r=l(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>RE(t,u))),a(n,["generatedVideos"],s)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(n,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function LE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["metadata"]);o!=null&&a(n,["metadata"],o);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],DE(t,u)),n}function FE(t,e){const n={},r=l(e,["gcsUri"]);r!=null&&a(n,["uri"],r);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(n,["videoBytes"],gn(t,o));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function VE(t,e){const n={},r=l(e,["_self"]);return r!=null&&a(n,["video"],FE(t,r)),n}function UE(t,e){const n={},r=l(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>VE(t,u))),a(n,["generatedVideos"],s)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(n,["raiMediaFilteredCount"],o);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function zd(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["metadata"]);o!=null&&a(n,["metadata"],o);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],UE(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OE extends Io{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;return r&&"httpOptions"in r&&(i=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ME(this.apiClient,e);return u=G("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>zd(this.apiClient,f))}else{const c=AE(this.apiClient,e);return u=G("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>LE(this.apiClient,f))}}async fetchPredictVideosOperationInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const u=NE(this.apiClient,e);return i=G("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>zd(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],r);const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function $E(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(e,["filter"]);return n!==void 0&&s!=null&&a(n,["_query","filter"],s),r}function BE(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],$E(t,r,n)),n}function zE(t,e){const n={},r=l(e,["textInput"]);r!=null&&a(n,["textInput"],r);const o=l(e,["output"]);return o!=null&&a(n,["output"],o),n}function HE(t,e){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(e,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>zE(t,i))),a(n,["examples","examples"],o)}return n}function qE(t,e,n){const r={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(e,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&a(n,["displayName"],o),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(e,["epochCount"]);n!==void 0&&i!=null&&a(n,["tuningTask","hyperparameters","epochCount"],i);const s=l(e,["learningRateMultiplier"]);if(s!=null&&a(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);n!==void 0&&u!=null&&a(n,["tuningTask","hyperparameters","batchSize"],u);const d=l(e,["learningRate"]);return n!==void 0&&d!=null&&a(n,["tuningTask","hyperparameters","learningRate"],d),r}function WE(t,e){const n={},r=l(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=l(e,["trainingDataset"]);o!=null&&a(n,["tuningTask","trainingData"],HE(t,o));const i=l(e,["config"]);return i!=null&&a(n,["config"],qE(t,i,n)),n}function bE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],r);const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function KE(t,e,n){const r={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(e,["filter"]);return n!==void 0&&s!=null&&a(n,["_query","filter"],s),r}function YE(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],KE(t,r,n)),n}function JE(t,e,n){const r={},o=l(e,["gcsUri"]);if(n!==void 0&&o!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],o),l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ZE(t,e){const n={},r=l(e,["gcsUri"]);return r!=null&&a(n,["validationDatasetUri"],r),n}function QE(t,e,n){const r={},o=l(e,["validationDataset"]);n!==void 0&&o!=null&&a(n,["supervisedTuningSpec"],ZE(t,o));const i=l(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&a(n,["tunedModelDisplayName"],i);const s=l(e,["description"]);n!==void 0&&s!=null&&a(n,["description"],s);const u=l(e,["epochCount"]);n!==void 0&&u!=null&&a(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=l(e,["learningRateMultiplier"]);n!==void 0&&d!=null&&a(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const c=l(e,["exportLastCheckpointOnly"]);n!==void 0&&c!=null&&a(n,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=l(e,["adapterSize"]);if(n!==void 0&&f!=null&&a(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function XE(t,e){const n={},r=l(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=l(e,["trainingDataset"]);o!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],JE(t,o,n));const i=l(e,["config"]);return i!=null&&a(n,["config"],QE(t,i,n)),n}function jE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["model"],r);const o=l(e,["name"]);return o!=null&&a(n,["endpoint"],o),n}function Rm(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["state"]);o!=null&&a(n,["state"],hm(t,o));const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const s=l(e,["tuningTask","startTime"]);s!=null&&a(n,["startTime"],s);const u=l(e,["tuningTask","completeTime"]);u!=null&&a(n,["endTime"],u);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const c=l(e,["description"]);c!=null&&a(n,["description"],c);const f=l(e,["baseModel"]);f!=null&&a(n,["baseModel"],f);const p=l(e,["_self"]);p!=null&&a(n,["tunedModel"],jE(t,p));const m=l(e,["distillationSpec"]);m!=null&&a(n,["distillationSpec"],m);const C=l(e,["experiment"]);C!=null&&a(n,["experiment"],C);const g=l(e,["labels"]);g!=null&&a(n,["labels"],g);const T=l(e,["pipelineJob"]);T!=null&&a(n,["pipelineJob"],T);const S=l(e,["tunedModelDisplayName"]);return S!=null&&a(n,["tunedModelDisplayName"],S),n}function eS(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const o=l(e,["tunedModels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Rm(t,s))),a(n,["tuningJobs"],i)}return n}function tS(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["metadata"]);o!=null&&a(n,["metadata"],o);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);return s!=null&&a(n,["error"],s),n}function nS(t,e){const n={},r=l(e,["checkpointId"]);r!=null&&a(n,["checkpointId"],r);const o=l(e,["epoch"]);o!=null&&a(n,["epoch"],o);const i=l(e,["step"]);i!=null&&a(n,["step"],i);const s=l(e,["endpoint"]);return s!=null&&a(n,["endpoint"],s),n}function rS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],r);const o=l(e,["endpoint"]);o!=null&&a(n,["endpoint"],o);const i=l(e,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>nS(t,u))),a(n,["checkpoints"],s)}return n}function Xl(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const o=l(e,["state"]);o!=null&&a(n,["state"],hm(t,o));const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const s=l(e,["startTime"]);s!=null&&a(n,["startTime"],s);const u=l(e,["endTime"]);u!=null&&a(n,["endTime"],u);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const c=l(e,["error"]);c!=null&&a(n,["error"],c);const f=l(e,["description"]);f!=null&&a(n,["description"],f);const p=l(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const m=l(e,["tunedModel"]);m!=null&&a(n,["tunedModel"],rS(t,m));const C=l(e,["supervisedTuningSpec"]);C!=null&&a(n,["supervisedTuningSpec"],C);const g=l(e,["tuningDataStats"]);g!=null&&a(n,["tuningDataStats"],g);const T=l(e,["encryptionSpec"]);T!=null&&a(n,["encryptionSpec"],T);const S=l(e,["partnerModelTuningSpec"]);S!=null&&a(n,["partnerModelTuningSpec"],S);const v=l(e,["distillationSpec"]);v!=null&&a(n,["distillationSpec"],v);const h=l(e,["experiment"]);h!=null&&a(n,["experiment"],h);const _=l(e,["labels"]);_!=null&&a(n,["labels"],_);const x=l(e,["pipelineJob"]);x!=null&&a(n,["pipelineJob"],x);const w=l(e,["tunedModelDisplayName"]);return w!=null&&a(n,["tunedModelDisplayName"],w),n}function oS(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const o=l(e,["tuningJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Xl(t,s))),a(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iS extends Io{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new fs(Tr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let o="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?o=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(o=r.name.split("/operations/")[0]),{name:o,state:Hl.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=bE(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Xl(this.apiClient,f))}else{const c=GE(this.apiClient,e);return u=G("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Rm(this.apiClient,f))}}async listInternal(e){var n,r,o,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=YE(this.apiClient,e);return u=G("tuningJobs",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=oS(this.apiClient,f),m=new yd;return Object.assign(m,p),m})}else{const c=BE(this.apiClient,e);return u=G("tunedModels",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=eS(this.apiClient,f),m=new yd;return Object.assign(m,p),m})}}async tuneInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){const u=XE(this.apiClient,e);return i=G("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Xl(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WE(this.apiClient,e);return i=G("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>tS(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sS{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lS=1024*1024*8,aS=3,uS=1e3,cS=2,Hs="x-goog-upload-status";async function dS(t,e,n){var r,o,i;let s=0,u=0,d=new ql(new Response),c="upload";for(s=t.size;u<s;){const p=Math.min(lS,s-u),m=t.slice(u,u+p);u+p>=s&&(c+=", finalize");let C=0,g=uS;for(;C<aS&&(d=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[Hs]));)C++,await pS(g),g=g*cS;if(u+=p,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[Hs])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(d==null?void 0:d.json());if(((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[Hs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function fS(t){return{size:t.size,type:t.type}}function pS(t){return new Promise(e=>setTimeout(e,t))}class mS{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dS(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fS(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hS{create(e,n,r){return new gS(e,n,r)}}class gS{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hd="x-goog-api-key";class yS{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Hd)===null&&e.append(Hd,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vS="gl-node/";class Dm{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Cv(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const o=new yS(this.apiKey);this.apiClient=new fE({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:vS+"web",uploader:new mS,downloader:new sS}),this.models=new IE(this.apiClient),this.live=new xE(this.apiClient,o,new hS),this.chats=new O0(this.models,this.apiClient),this.caches=new F0(this.apiClient),this.files=new Q0(this.apiClient),this.operations=new OE(this.apiClient),this.tunings=new iS(this.apiClient)}}async function*CS(t){var u,d,c;const{parts:e,modelSettings:n,enableGoogleSearch:r,chatState:o,modelName:i,apiKey:s}=t;if(!s){yield{error:"Gemini API Key (API_KEY) is not configured in config.js."};return}try{const f=new Dm({apiKey:s});let p,m;const C=r?[{googleSearch:{}}]:[],g={systemInstruction:n.systemInstruction,temperature:n.temperature,topK:n.topK,topP:n.topP,tools:C.length>0?C:void 0};o!=null&&o.chat&&o.currentModel===i&&o.currentSystemInstruction===n.systemInstruction&&o.currentTemperature===n.temperature&&o.currentTopK===n.topK&&o.currentTopP===n.topP?p=o.chat:(p=f.chats.create({model:i,config:g}),m={chat:p,currentModel:i,currentSystemInstruction:n.systemInstruction,currentTemperature:n.temperature,currentTopK:n.topK,currentTopP:n.topP},yield{newChatState:m});const T=e.map(v=>v.text?{text:v.text}:v.inlineData?{inlineData:{mimeType:v.inlineData.mimeType,data:v.inlineData.data}}:null).filter(v=>v!==null),S=await p.sendMessageStream({message:T});for await(const v of S){const h=v.text,_=[];(c=(d=(u=v.candidates)==null?void 0:u[0])==null?void 0:d.groundingMetadata)!=null&&c.groundingChunks&&v.candidates[0].groundingMetadata.groundingChunks.forEach(w=>{var E;(E=w.web)!=null&&E.uri&&_.push({uri:w.web.uri,title:w.web.title||w.web.uri})});const x={};h&&(x.textDelta=h),_.length>0&&(x.groundingSources=_),Object.keys(x).length>0&&(yield x)}}catch(f){console.error("Gemini API Error (AI Studio Key):",f);let p="An unexpected error occurred with the Gemini API.";f.message?p=f.message:f.toString&&(p=f.toString()),f.message&&f.message.includes("API key not valid")&&(p="Gemini API key not valid. Please check the API_KEY in config.js and ensure it's active in Google AI Studio. Original: "+f.message),yield{error:p}}}async function _S(t){const{prompt:e,modelSettings:n,modelName:r,apiKey:o}=t;if(!o)return{error:"Gemini API Key (API_KEY) for Imagen is not configured in config.js."};try{const i=new Dm({apiKey:o}),s={numberOfImages:Math.max(1,Math.min(4,n.numberOfImages||1)),outputMimeType:n.outputMimeType||"image/jpeg"};n.aspectRatio&&(s.aspectRatio=n.aspectRatio);const u=await i.models.generateImages({model:r,prompt:e,config:s});if(console.log("Imagen API Full Response:",JSON.stringify(u,null,2)),u.generatedImages&&u.generatedImages.length>0)return{imageBases64:u.generatedImages.map(c=>c.image.imageBytes)};{let d="Unknown reason.";if(u&&typeof u=="object"){const f=u;f.error&&typeof f.error=="object"&&f.error.message?d=`API Error: ${f.error.message}`:f.error&&typeof f.error=="string"?d=`API Error: ${f.error}`:f.promptFeedback&&f.promptFeedback.blockReason?(d=`Prompt blocked due to: ${f.promptFeedback.blockReason}.`,f.promptFeedback.safetyRatings&&(d+=` Safety ratings: ${JSON.stringify(f.promptFeedback.safetyRatings)}`)):f.generatedImages&&f.generatedImages.length===0?d="API returned an empty list of images. This might be due to safety filters, prompt restrictions, or other API-side issues.":d=`No images returned. API response (preview): ${JSON.stringify(u).substring(0,300)}`}const c=`Image generation failed: ${d}`;return console.error(c,"Full API Response object for context:",u),{error:c}}}catch(i){console.error("Imagen API Error (AI Studio Key) - Exception caught:",i);let s="An unexpected error occurred with the Imagen API.";return i.message?s=i.message:i.toString&&(s=i.toString()),i.message&&(i.message.includes("API key not valid")||i.message.includes("permission denied")||i.message.includes("Forbidden"))&&(s="Imagen API key not valid or permission denied. Please check the API_KEY in config.js and ensure it's active and correctly configured in Google AI Studio for image generation. Original error: "+i.message),{error:s}}}const TS="https://api.openai.com/v1/chat/completions";async function*xS(t){var u,d,c,f,p,m;const{apiKey:e,modelIdentifier:n,history:r,modelSettings:o}=t;if(!e){yield{error:"OpenAI API Key is not configured.",isFinished:!0};return}const i={"Content-Type":"application/json",Authorization:`Bearer ${e}`},s={model:n,messages:r,temperature:o.temperature,top_p:o.topP,stream:!0};try{const C=await fetch(TS,{method:"POST",headers:i,body:JSON.stringify(s)});if(!C.ok){yield{error:`OpenAI API Error: ${((u=(await C.json().catch(()=>({}))).error)==null?void 0:u.message)||`Error: ${C.status} ${C.statusText}`}`,isFinished:!0};return}if(!C.body){yield{error:"OpenAI API Error: No response body received.",isFinished:!0};return}const g=C.body.getReader(),T=new TextDecoder("utf-8");let S="";for(;;){const{done:v,value:h}=await g.read();if(v)break;S+=T.decode(h,{stream:!0});let _=S.indexOf(`

`);for(;_!==-1;){const x=S.substring(0,_).trim();if(S=S.substring(_+2),x.startsWith("data: ")){const w=x.substring(6);if(w==="[DONE]"){yield{isFinished:!0};return}try{const E=JSON.parse(w);E.choices&&((c=(d=E.choices[0])==null?void 0:d.delta)!=null&&c.content)&&(yield{textDelta:E.choices[0].delta.content}),E.choices&&((f=E.choices[0])!=null&&f.finish_reason)&&(yield{isFinished:!0})}catch(E){console.error("Error parsing OpenAI stream chunk:",E,w)}}_=S.indexOf(`

`)}}if(S.startsWith("data: ")){const v=S.substring(6).trim();if(v==="[DONE]"){yield{isFinished:!0};return}if(v)try{const h=JSON.parse(v);h.choices&&((m=(p=h.choices[0])==null?void 0:p.delta)!=null&&m.content)&&(yield{textDelta:h.choices[0].delta.content})}catch{}}}catch(C){console.error("OpenAI Service Fetch Error:",C),yield{error:`Fetch error: ${C.message||"Unknown fetch error"}`,isFinished:!0}}yield{isFinished:!0}}const ES="https://api.deepseek.com/chat/completions";async function*SS(t){var d,c,f,p,m,C;const{apiKey:e,modelIdentifier:n,history:r,modelSettings:o}=t;if(!e){yield{error:"Deepseek API Key is not configured.",isFinished:!0};return}const i=r.map(g=>{if(typeof g.content!="string"){const T=g.content.find(S=>S.type==="text");return{...g,content:T?T.text:""}}return g}).filter(g=>g.content||g.role==="assistant"),s={"Content-Type":"application/json",Authorization:`Bearer ${e}`},u={model:n,messages:i,temperature:o.temperature,top_p:o.topP,stream:!0};try{const g=await fetch(ES,{method:"POST",headers:s,body:JSON.stringify(u)});if(!g.ok){yield{error:`Deepseek API Error: ${((d=(await g.json().catch(()=>({}))).error)==null?void 0:d.message)||`Error: ${g.status} ${g.statusText}`}`,isFinished:!0};return}if(!g.body){yield{error:"Deepseek API Error: No response body received.",isFinished:!0};return}const T=g.body.getReader(),S=new TextDecoder("utf-8");let v="";for(;;){const{done:h,value:_}=await T.read();if(h)break;v+=S.decode(_,{stream:!0});let x=v.indexOf(`

`);for(;x!==-1;){const w=v.substring(0,x).trim();if(v=v.substring(x+2),w.startsWith("data: ")){const E=w.substring(6);if(E==="[DONE]"){yield{isFinished:!0};return}try{const I=JSON.parse(E);I.choices&&((f=(c=I.choices[0])==null?void 0:c.delta)!=null&&f.content)&&(yield{textDelta:I.choices[0].delta.content}),I.choices&&((p=I.choices[0])!=null&&p.finish_reason)&&(yield{isFinished:!0})}catch(I){console.error("Error parsing Deepseek stream chunk:",I,E)}}x=v.indexOf(`

`)}}if(v.startsWith("data: ")){const h=v.substring(6).trim();if(h==="[DONE]"){yield{isFinished:!0};return}if(h)try{const _=JSON.parse(h);_.choices&&((C=(m=_.choices[0])==null?void 0:m.delta)!=null&&C.content)&&(yield{textDelta:_.choices[0].delta.content})}catch{}}}catch(g){console.error("Deepseek Service Fetch Error:",g),yield{error:`Fetch error: ${g.message||"Unknown fetch error"}`,isFinished:!0}}yield{isFinished:!0}}const wS=50;async function*kS(t){const e=t.split(/\s+/);for(const n of e)await new Promise(r=>setTimeout(r,wS)),yield n+" "}async function*IS(t,e,n){let r="Mocked request: ";t.forEach(i=>{i.text&&(r+=i.text+" "),i.inlineData&&(r+="[Image Data Received] ")});let o="";switch(e){case K.GPT4O:o=`This is a mocked response from ChatGPT (gpt-4o). You said: "${r}". My settings are temperature ${n.temperature}. I will now tell you a short story. Once upon a time, in a land of pure imagination, a brave user interacted with a mock AI.`;break;case K.DEEPSEEK:o=`Deepseek (Mock using deepseek-chat identifier) here. I specialize in code and chat. You asked: "${r}". Here's a Python snippet: \`print("Hello from Deepseek Mock (deepseek-chat)!")\`. This is just a simulation. My settings are temperature ${n.temperature}.`;break;case K.CLAUDE:o=`Hello, I'm a mock version of Claude. You sent: "${r}". I aim to be helpful and harmless. This response is generated to simulate a simulation. Have a wonderful day!`;break;default:o=`The selected model (${e}) is currently configured as a mock, but no specific mock response is available. Your prompt was: "${r}".`}yield*kS(o)}const AS=(t,e)=>{const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Object.values(K).includes(r)){const o=r,i=e[o];if(i){const s=n[o];s?n[o]={...s,...i}:n[o]={...i}}}return n},MS=[".txt",".md",".json",".js",".ts",".jsx",".tsx",".py",".java",".c",".cpp",".h",".hpp",".cs",".go",".rs",".rb",".php",".html",".htm",".css",".scss",".less",".xml",".yaml",".yml",".ini",".sh",".bat",".ps1",".sql",".csv",".log"],NS=()=>{var nu;const[t,e]=H.useState([]),[n,r]=H.useState(""),[o,i]=H.useState(K.GEMINI),[s,u]=H.useState(()=>{try{const O=localStorage.getItem(pc);if(O){const b=JSON.parse(O),fe={};return Object.values(K).forEach(te=>{fe[te]={...vn[te]||vn[K.GEMINI]}}),AS(fe,b)}}catch(O){console.error("Error loading settings from localStorage:",O)}const M={};return Object.values(K).forEach(O=>{M[O]={...vn[O]||vn[K.GEMINI]}}),M}),d=s[o]||vn[K.GEMINI],[c,f]=H.useState(!1),[p,m]=H.useState(null),[C,g]=H.useState(null),[T,S]=H.useState(null),[v,h]=H.useState(null),[_,x]=H.useState(null),[w,E]=H.useState(!1),[I,N]=H.useState(!1),[D,L]=H.useState("settings"),ie=H.useRef(null),[_t,Ve]=H.useState(null),J=o===K.IMAGEN3,[Ye,Nt]=H.useState([]),[Je,R]=H.useState(null),[z,B]=H.useState("New Chat"),[ue,Ce]=H.useState(!1),[yn,Pt]=H.useState(null),[kr,Rt]=H.useState(""),[Un,Fm]=H.useState("image/jpeg"),Ao=Yi.useMemo(()=>{var b;const M=((b=window.process)==null?void 0:b.env)||{},O=!!M.API_KEY;return{[K.GEMINI]:{isSet:O,envVarName:"API_KEY",modelName:"Gemini Flash (AI Studio)",isMock:!1,isGeminiPlatform:!0},[K.GEMINI_ADVANCED]:{isSet:O,envVarName:"API_KEY",modelName:"Gemini Advanced (AI Studio)",isMock:!1,isGeminiPlatform:!0},[K.GPT4O]:{isSet:!!M.VITE_OPENAI_API_KEY,envVarName:"VITE_OPENAI_API_KEY",modelName:"ChatGPT",isMock:!1,isGeminiPlatform:!1},[K.DEEPSEEK]:{isSet:!!M.VITE_DEEPSEEK_API_KEY,envVarName:"VITE_DEEPSEEK_API_KEY",modelName:"Deepseek",isMock:!1,isGeminiPlatform:!1},[K.CLAUDE]:{isSet:!!M.VITE_CLAUDE_API_KEY,envVarName:"VITE_CLAUDE_API_KEY",modelName:"Claude",isMock:!0,isGeminiPlatform:!1},[K.IMAGEN3]:{isSet:O,envVarName:"API_KEY",modelName:"Imagen3 Image Gen (AI Studio)",isMock:!1,isGeminiPlatform:!0,isImageGeneration:!0}}},[]);H.useEffect(()=>{try{localStorage.setItem(pc,JSON.stringify(s))}catch(M){console.error("Error saving settings to localStorage:",M)}},[s]),H.useEffect(()=>{try{const M=localStorage.getItem(mc);M&&Nt(JSON.parse(M))}catch(M){console.error("Error loading chat history from localStorage:",M)}},[]),H.useEffect(()=>{try{localStorage.setItem(mc,JSON.stringify(Ye))}catch(M){console.error("Error saving chat history to localStorage:",M)}},[Ye]),H.useEffect(()=>{var M;(M=ie.current)==null||M.scrollIntoView({behavior:"smooth"})},[t]),H.useEffect(()=>{const M=Ao[o],O=M==null?void 0:M.isGeminiPlatform;(!O||M!=null&&M.isMock||M!=null&&M.isImageGeneration)&&Ve(null),(!O||M!=null&&M.isImageGeneration)&&w&&E(!1),J&&(g(null),S(null),h(null),x(null))},[o,Ao,w,J]);const Vm=H.useCallback(M=>{u(O=>{const b=O[o]||vn[o];let fe={...M};"numberOfImages"in fe&&typeof fe.numberOfImages=="number"&&(fe.numberOfImages=Math.max(1,Math.min(4,fe.numberOfImages)));const te={...b,...fe};return{...O,[o]:te}})},[o]),Um=H.useCallback(()=>{var fe;if(t.length===0){m("Cannot save an empty chat.");return}m(null);const M=Date.now();let O="Chat - "+new Date(M).toLocaleString();const b=t.find(te=>te.sender==="user");if(b&&(b.isImageQuery&&b.text?O=`Image: ${b.text.substring(0,30)}${b.text.length>30?"...":""}`:b.text?O=b.text.substring(0,40)+(b.text.length>40?"...":""):b.imagePreview?O="Chat with Image Upload":b.fileName&&(O=`Chat with File: ${b.fileName}`)),Je)Nt(te=>te.map(ct=>ct.id===Je?{...ct,name:ct.name,messages:[...t],model:o,modelSettingsSnapshot:{...d},timestamp:M}:ct)),B(((fe=Ye.find(te=>te.id===Je))==null?void 0:fe.name)||O);else{const te=`session-${M}`,ct={id:te,name:O,timestamp:M,model:o,messages:[...t],modelSettingsSnapshot:{...d}};Nt(On=>[...On,ct]),R(te),B(O)}},[t,o,d,Je,Ye]),Om=H.useCallback(M=>{const O=Ye.find(b=>b.id===M);O&&(e([...O.messages]),i(O.model),u(b=>{const fe={...b[O.model]||vn[O.model],...O.modelSettingsSnapshot};return{...b,[O.model]:fe}}),R(M),B(O.name),Ve(null),g(null),S(null),h(null),x(null),E(!1),m(null),N(!1))},[Ye]),ms=H.useCallback(()=>{e([]),R(null),B("New Chat"),Ve(null),g(null),S(null),h(null),x(null),E(!1),m(null),N(!1)},[]),Gm=H.useCallback(M=>{Nt(O=>O.filter(b=>b.id!==M)),Je===M&&ms()},[Je,ms]),$m=H.useCallback((M,O)=>{Nt(b=>b.map(fe=>fe.id===M?{...fe,name:O}:fe)),Je===M&&B(O)},[Je]),Bm=H.useCallback((M,O,b)=>{Pt(M),Rt(O),Fm(b),Ce(!0)},[]),Xa=async()=>{var ru;if(!n.trim()&&!C&&!_&&!J)return;if(J&&!n.trim()){m("Please enter a prompt for image generation.");return}f(!0),m(null);const M=Date.now().toString();let O=n.trim();const b=n.trim();if(_&&!J){let pe=`The user has uploaded a file named "${_}".`;v&&(pe+=`
The content of this file is:
${v}`),O=`${pe}

---

${b}`}const fe={id:M,text:b,sender:"user",imagePreview:J?void 0:T||void 0,fileName:J?void 0:_||void 0,isImageQuery:J};e(pe=>[...pe,fe]);const te=(Date.now()+1).toString(),ct={id:te,text:J?"Generating image(s)...":"",sender:"ai",model:o};e(pe=>[...pe,ct]);const On=[];if(O.trim()&&!J&&On.push({text:O.trim()}),C&&T&&!J){const pe=T.split(",")[1];On.push({inlineData:{mimeType:C.type,data:pe}})}try{const pe=s[o],Ee=Ao[o],Dt=rm(o),Ir=((ru=window.process)==null?void 0:ru.env)||{};if(Ee!=null&&Ee.isGeminiPlatform&&!Ee.isMock){const dt=Ir.API_KEY;if(!dt)throw new Error(`Gemini API Key (API_KEY) is not configured in config.js for ${Ee.modelName}.`);if(J){const ne=pe,Pe=await _S({prompt:b,modelSettings:ne,modelName:Dt,apiKey:dt});if(Pe.error)throw new Error(Pe.error);if(Pe.imageBases64&&Pe.imageBases64.length>0){const nt=ne.outputMimeType||"image/jpeg",re=Pe.imageBases64.map(ee=>`data:${nt};base64,${ee}`);e(ee=>ee.map(ce=>ce.id===te?{...ce,text:`Generated ${re.length} image(s) for: "${b}"`,imagePreviews:re,imageMimeType:nt,originalPrompt:b}:ce))}else throw new Error("Image generation failed to return any images.")}else{let ne=_t;ne&&(ne.currentModel!==Dt||ne.currentSystemInstruction!==pe.systemInstruction||ne.currentTemperature!==pe.temperature||ne.currentTopK!==pe.topK||ne.currentTopP!==pe.topP)&&(ne=null,Ve(null));const Pe=CS({parts:On,modelSettings:pe,enableGoogleSearch:w,chatState:ne,modelName:Dt,apiKey:dt});let nt="",re,ee;for await(const ce of Pe){if(ce.error)throw new Error(ce.error);ce.newChatState&&!ee&&(ee=ce.newChatState,Ve(ee)),ce.textDelta&&(nt+=ce.textDelta),ce.groundingSources&&ce.groundingSources.length>0&&(re=ce.groundingSources),e(Ar=>Ar.map(Mo=>Mo.id===te?{...Mo,text:nt,groundingSources:re||Mo.groundingSources}:Mo))}}}else if(o===K.GPT4O&&!Ee.isMock){const dt=Ir[Ee.envVarName];if(!dt)throw new Error(`${Ee.modelName} API Key (${Ee.envVarName}) is not configured.`);const ne=[{role:"system",content:pe.systemInstruction}];t.filter(ee=>ee.id!==te&&ee.id!==M).forEach(ee=>{if(ee.sender==="user"){const ce=[];ee.text&&ce.push({type:"text",text:ee.text}),ee.imagePreview&&!ee.isImageQuery&&ce.push({type:"image_url",image_url:{url:ee.imagePreview}}),ce.length>0?ne.push({role:"user",content:ce}):ee.text===""&&ne.push({role:"user",content:" "})}else ee.sender==="ai"&&ne.push({role:"assistant",content:ee.text})});const Pe=[];O.trim()&&Pe.push({type:"text",text:O.trim()}),C&&T&&Pe.push({type:"image_url",image_url:{url:T,detail:"auto"}}),Pe.length>0?ne.push({role:"user",content:Pe}):b===""&&!C&&ne.push({role:"user",content:" "});const nt=xS({apiKey:dt,modelIdentifier:Dt,history:ne,modelSettings:pe});let re="";for await(const ee of nt){if(ee.error)throw new Error(ee.error);if(ee.textDelta&&(re+=ee.textDelta),e(ce=>ce.map(Ar=>Ar.id===te?{...Ar,text:re}:Ar)),ee.isFinished)break}}else if(o===K.DEEPSEEK&&!Ee.isMock){const dt=Ir[Ee.envVarName];if(!dt)throw new Error(`${Ee.modelName} API Key (${Ee.envVarName}) is not configured.`);const ne=[{role:"system",content:pe.systemInstruction}];t.filter(re=>re.id!==te&&re.id!==M).forEach(re=>{re.sender==="user"?ne.push({role:"user",content:re.text}):re.sender==="ai"&&ne.push({role:"assistant",content:re.text})}),ne.push({role:"user",content:O.trim()||" "});const Pe=SS({apiKey:dt,modelIdentifier:Dt,history:ne,modelSettings:pe});let nt="";for await(const re of Pe){if(re.error)throw new Error(re.error);if(re.textDelta&&(nt+=re.textDelta),e(ee=>ee.map(ce=>ce.id===te?{...ce,text:nt}:ce)),re.isFinished)break}}else if(Ee!=null&&Ee.isMock){const dt=IS(On,o,pe);let ne="";for await(const Pe of dt)ne+=Pe,e(nt=>nt.map(re=>re.id===te?{...re,text:ne}:re))}else throw new Error(`API integration for ${o} is not implemented or API key/Vertex config is missing and it's not a mock model.`)}catch(pe){console.error("Error sending message:",pe);const Ee=pe.message||"Failed to get response from AI.";m(Ee),e(Dt=>Dt.filter(Ir=>Ir.id!==te)),e(Dt=>[...Dt,{id:te,text:`Error: ${Ee}`,sender:"ai",model:o}])}f(!1),r(""),J||(g(null),S(null),h(null),x(null))},ja=M=>{if(!J)if(g(M),M){const O=new FileReader;O.onloadend=()=>{S(O.result)},O.readAsDataURL(M)}else S(null)},eu=M=>{var O;if(!J)if(M){const b="."+((O=M.name.split(".").pop())==null?void 0:O.toLowerCase());if(x(M.name),m(null),MS.includes(b)){const fe=new FileReader;fe.onload=te=>{var ct;h((ct=te.target)==null?void 0:ct.result)},fe.onerror=()=>{m(`Error reading the file: ${M.name}`),h(null),x(null)},fe.readAsText(M)}else h(null)}else h(null),x(null)},tu=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex border-b border-secondary dark:border-neutral-darkest mb-4",children:[y.jsxs("button",{onClick:()=>L("settings"),disabled:c,className:`flex-1 py-2 px-4 text-sm font-medium text-center rounded-t-lg focus:outline-none flex items-center justify-center
                            ${D==="settings"?"bg-primary text-white dark:bg-primary-light dark:text-neutral-darker":"text-neutral-600 dark:text-neutral-300 hover:bg-secondary/50 dark:hover:bg-neutral-dark/50"}`,"aria-pressed":D==="settings",children:[y.jsx(Cy,{className:"w-5 h-5 mr-2"})," Settings"]}),y.jsxs("button",{onClick:()=>L("history"),disabled:c,className:`flex-1 py-2 px-4 text-sm font-medium text-center rounded-t-lg focus:outline-none flex items-center justify-center
                            ${D==="history"?"bg-primary text-white dark:bg-primary-light dark:text-neutral-darker":"text-neutral-600 dark:text-neutral-300 hover:bg-secondary/50 dark:hover:bg-neutral-dark/50"}`,"aria-pressed":D==="history",children:[y.jsx(om,{className:"w-5 h-5 mr-2"})," History"]})]}),D==="settings"&&y.jsx(Fy,{selectedModel:o,onModelChange:M=>{i(M),Ve(null)},modelSettings:d,onModelSettingsChange:Vm,onImageUpload:ja,imagePreview:T,onFileUpload:eu,uploadedTextFileName:_,isWebSearchEnabled:w,onWebSearchToggle:E,disabled:c,apiKeyStatuses:Ao}),D==="history"&&y.jsx(Vy,{savedSessions:Ye,activeSessionId:Je,onLoadSession:Om,onDeleteSession:Gm,onRenameSession:$m,onSaveCurrentChat:Um,onStartNewChat:ms,isLoading:c})]});return y.jsxs("div",{className:"flex h-full",children:[y.jsx("div",{className:"hidden md:flex flex-col w-96 bg-neutral-light dark:bg-neutral-darker p-4 border-r border-secondary dark:border-neutral-darkest overflow-y-auto transition-all duration-300",children:tu}),I&&y.jsxs("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-start",children:[y.jsxs("div",{className:"w-full max-w-xs sm:max-w-sm h-full bg-neutral-light dark:bg-neutral-darker shadow-xl p-4 overflow-y-auto",children:[y.jsx("button",{onClick:()=>N(!1),className:"absolute top-4 right-4 text-neutral-darker dark:text-secondary-light hover:text-red-500 dark:hover:text-red-400 z-50","aria-label":"Close sidebar",children:y.jsx(ar,{className:"w-6 h-6"})}),tu]}),y.jsx("div",{className:"flex-1",onClick:()=>N(!1)})," "]}),y.jsxs("div",{className:"flex-1 flex flex-col p-2 sm:p-4 overflow-hidden",children:[y.jsxs("div",{className:"flex items-center mb-2 sm:mb-4",children:[y.jsx("button",{onClick:()=>N(!0),className:"md:hidden p-2 mr-2 rounded-md text-neutral-darker dark:text-secondary-light hover:bg-secondary dark:hover:bg-neutral-darkest","aria-label":"Open sidebar",children:y.jsx(Ry,{className:"w-6 h-6"})}),y.jsxs("h2",{className:"text-lg font-semibold text-neutral-darker dark:text-secondary-light truncate",children:[y.jsx(Dy,{className:"w-5 h-5 inline-block mr-2 align-text-bottom"}),z||"New Chat"]})]}),y.jsxs("div",{className:"flex-grow overflow-y-auto mb-4 pr-2 space-y-4",children:[t.map(M=>y.jsx(Bs,{message:M,onImageClick:M.sender==="ai"&&M.imagePreviews&&M.imagePreviews.length>0?Bm:void 0},M.id)),c&&t.length>0&&((nu=t[t.length-1])==null?void 0:nu.sender)==="user"&&y.jsx(Bs,{message:{id:"loading",text:J?"Generating image(s)...":"Thinking...",sender:"ai",model:o}},"loading"),c&&t.length===0&&y.jsx(Bs,{message:{id:"loading-initial",text:J?"Generating image(s)...":"Thinking...",sender:"ai",model:o}},"loading-initial"),y.jsx("div",{ref:ie})]}),p&&y.jsx("div",{className:"text-red-500 dark:text-red-400 p-2 my-2 bg-red-100 dark:bg-red-900 border border-red-500 dark:border-red-400 rounded-md text-sm",children:p}),!J&&(T||_)&&y.jsxs("div",{className:"mb-2 p-2 border border-secondary dark:border-neutral-darkest rounded-md bg-secondary-light dark:bg-neutral-darker",children:[T&&y.jsxs("div",{className:"relative group inline-block w-24 h-24 mr-2 align-top",children:[y.jsx("img",{src:T,alt:"Preview",className:"w-full h-full object-cover rounded"}),y.jsx("button",{onClick:()=>{ja(null)},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:y.jsx(ar,{className:"w-4 h-4"})})]}),_&&y.jsxs("div",{className:"inline-block align-top text-sm text-neutral-darker dark:text-secondary-light mt-1",children:[y.jsxs("span",{className:"mr-2",children:["File: ",_]}),y.jsx("button",{onClick:()=>{eu(null)},className:"text-red-500 hover:text-red-700 inline-flex items-center","aria-label":"Remove file",children:y.jsx(ar,{className:"w-4 h-4"})}),!v&&_&&y.jsx("p",{className:"text-xs italic",children:"(Content not displayed for this file type)"})]})]}),y.jsxs("div",{className:"flex items-end border-t border-secondary dark:border-neutral-darkest pt-2 sm:pt-4",children:[y.jsx("textarea",{value:n,onChange:M=>r(M.target.value),onKeyPress:M=>{M.key==="Enter"&&!M.shiftKey&&!c&&(M.preventDefault(),Xa())},placeholder:J?"Enter prompt for image generation...":"Type your message or upload an image/file...",className:"flex-grow p-3 border border-secondary dark:border-neutral-darkest rounded-lg focus:ring-2 focus:ring-primary dark:focus:ring-primary-light focus:border-transparent outline-none resize-none bg-neutral-light dark:bg-neutral-darker text-neutral-darker dark:text-secondary-light",rows:Math.min(5,n.split(`
`).length+(n.endsWith(`
`)?1:0)),disabled:c,"aria-label":"Chat input"}),y.jsx("button",{onClick:Xa,disabled:c||!n.trim()&&!J&&!C&&!_,className:"ml-2 p-3 bg-primary hover:bg-primary-dark dark:bg-primary-light dark:hover:bg-primary text-white rounded-lg disabled:opacity-50 transition-colors self-stretch flex items-center justify-center","aria-label":J?"Generate Image":"Send message",children:J?y.jsx(Ka,{className:"w-6 h-6"}):y.jsx(vy,{className:"w-6 h-6"})})]})]}),ue&&yn&&y.jsx(Uy,{isOpen:ue,onClose:()=>Ce(!1),imageBase64:yn,prompt:kr,mimeType:Un})]})},PS=()=>{const t=H.useContext(Lm);if(!t)return null;const{theme:e,toggleTheme:n}=t;return y.jsxs("header",{className:"bg-neutral-light dark:bg-neutral-darker shadow-md p-4 flex justify-between items-center sticky top-0 z-50",children:[y.jsx("h1",{className:"text-3xl font-bold text-primary dark:text-primary-light",children:"femi"}),y.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-secondary dark:hover:bg-neutral-darkest text-neutral-darker dark:text-secondary-light transition-colors","aria-label":"Toggle theme",children:e==="light"?y.jsx(yy,{className:"w-6 h-6"}):y.jsx(gy,{className:"w-6 h-6"})})]})},Lm=Yi.createContext(void 0),RS=()=>{const[t,e]=H.useState(()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});H.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const n=()=>{e(o=>o==="light"?"dark":"light")},r=H.useMemo(()=>({theme:t,toggleTheme:n}),[t]);return y.jsx(Lm.Provider,{value:r,children:y.jsxs("div",{className:"flex flex-col h-screen bg-secondary-light dark:bg-neutral-dark transition-colors duration-300",children:[y.jsx(PS,{}),y.jsx("main",{className:"flex-grow overflow-hidden",children:y.jsx(NS,{})})]})})};console.log("[index.tsx] Script start. React version available:",Yi.version);console.log("[index.tsx] ReactDOM available:",fi);const di=document.getElementById("root");console.log("[index.tsx] Root element (should be a div with id='root'):",di);if(di)try{console.log("[index.tsx] Attempting to create React root on element:",di);const t=fi.createRoot(di);console.log("[index.tsx] React root created successfully."),console.log("[index.tsx] Attempting to render <App /> component into the React root..."),t.render(y.jsx(Yi.StrictMode,{children:y.jsx(RS,{})})),console.log("[index.tsx] <App /> component has been passed to root.render(). If the page is still blank, check for errors within App or its children, or issues with async operations.")}catch(t){let e="CRITICAL ERROR during React root creation or initial render: ";t instanceof Error?e+=t.message:e+=String(t),console.error(e,t);const n=document.createElement("div");n.style.color="red",n.style.fontSize="16px",n.style.padding="20px",n.style.fontFamily="monospace",n.style.backgroundColor="#fff0f0",n.style.border="2px solid red",n.style.margin="10px";const r=document.createElement("h3");r.textContent="Application Error",n.appendChild(r);const o=document.createElement("p");if(o.textContent=e,n.appendChild(o),t instanceof Error&&t.stack){const i=document.createElement("h4");i.textContent="Stack Trace:",i.style.marginTop="10px",n.appendChild(i);const s=document.createElement("pre");s.textContent=t.stack,s.style.marginTop="5px",s.style.padding="10px",s.style.border="1px solid #ffcccc",s.style.backgroundColor="#fff5f5",s.style.whiteSpace="pre-wrap",s.style.wordBreak="break-all",n.appendChild(s)}document.body.prepend(n)}else{const t=`CRITICAL ERROR: Root element with ID 'root' was not found in the DOM. React cannot mount. Please check your index.html file to ensure it contains a <div id="root"></div> element in the body.`;console.error(t);const e=document.createElement("div");e.textContent=t,e.style.color="red",e.style.fontSize="20px",e.style.padding="20px",e.style.fontFamily="monospace",e.style.border="2px solid red",e.style.backgroundColor="#fff0f0",document.body.prepend(e)}
